(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function tv(t,e){const n=Object.create(null),i=t.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const Kt={},Ho=[],Gn=()=>{},ak=()=>!1,ck=/^on[^a-z]/,gl=t=>ck.test(t),ev=t=>t.startsWith("onUpdate:"),_e=Object.assign,nv=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},lk=Object.prototype.hasOwnProperty,Pt=(t,e)=>lk.call(t,e),yt=Array.isArray,zo=t=>yl(t)==="[object Map]",kI=t=>yl(t)==="[object Set]",Et=t=>typeof t=="function",ge=t=>typeof t=="string",rv=t=>typeof t=="symbol",Jt=t=>t!==null&&typeof t=="object",xI=t=>Jt(t)&&Et(t.then)&&Et(t.catch),OI=Object.prototype.toString,yl=t=>OI.call(t),fk=t=>yl(t).slice(8,-1),PI=t=>yl(t)==="[object Object]",iv=t=>ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ac=tv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},hk=/-(\w)/g,cr=wl(t=>t.replace(hk,(e,n)=>n?n.toUpperCase():"")),pk=/\B([A-Z])/g,Qi=wl(t=>t.replace(pk,"-$1").toLowerCase()),bl=wl(t=>t.charAt(0).toUpperCase()+t.slice(1)),xp=wl(t=>t?`on${bl(t)}`:""),ku=(t,e)=>!Object.is(t,e),Sc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Mc=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},od=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let y0;const sd=()=>y0||(y0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ov(t){if(yt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=ge(i)?gk(i):ov(i);if(o)for(const u in o)e[u]=o[u]}return e}else{if(ge(t))return t;if(Jt(t))return t}}const dk=/;(?![^(]*\))/g,vk=/:([^]+)/,mk=/\/\*[^]*?\*\//g;function gk(t){const e={};return t.replace(mk,"").split(dk).forEach(n=>{if(n){const i=n.split(vk);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function sv(t){let e="";if(ge(t))e=t;else if(yt(t))for(let n=0;n<t.length;n++){const i=sv(t[n]);i&&(e+=i+" ")}else if(Jt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const yk="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wk=tv(yk);function DI(t){return!!t||t===""}const Yr=t=>ge(t)?t:t==null?"":yt(t)||Jt(t)&&(t.toString===OI||!Et(t.toString))?JSON.stringify(t,CI,2):String(t),CI=(t,e)=>e&&e.__v_isRef?CI(t,e.value):zo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:kI(e)?{[`Set(${e.size})`]:[...e.values()]}:Jt(e)&&!yt(e)&&!PI(e)?String(e):e;let Vn;class bk{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Vn,!e&&Vn&&(this.index=(Vn.scopes||(Vn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Vn;try{return Vn=this,e()}finally{Vn=n}}}on(){Vn=this}off(){Vn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Ik(t,e=Vn){e&&e.active&&e.effects.push(t)}function Ek(){return Vn}const uv=t=>{const e=new Set(t);return e.w=0,e.n=0,e},RI=t=>(t.w&ti)>0,LI=t=>(t.n&ti)>0,_k=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ti},Tk=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];RI(o)&&!LI(o)?o.delete(t):e[n++]=o,o.w&=~ti,o.n&=~ti}e.length=n}},ud=new WeakMap;let vu=0,ti=1;const ad=30;let Fn;const Ui=Symbol(""),cd=Symbol("");class av{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ik(this,i)}run(){if(!this.active)return this.fn();let e=Fn,n=Jr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Fn,Fn=this,Jr=!0,ti=1<<++vu,vu<=ad?_k(this):w0(this),this.fn()}finally{vu<=ad&&Tk(this),ti=1<<--vu,Fn=this.parent,Jr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Fn===this?this.deferStop=!0:this.active&&(w0(this),this.onStop&&this.onStop(),this.active=!1)}}function w0(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Jr=!0;const MI=[];function gs(){MI.push(Jr),Jr=!1}function ys(){const t=MI.pop();Jr=t===void 0?!0:t}function on(t,e,n){if(Jr&&Fn){let i=ud.get(t);i||ud.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=uv()),jI(o)}}function jI(t,e){let n=!1;vu<=ad?LI(t)||(t.n|=ti,n=!RI(t)):n=!t.has(Fn),n&&(t.add(Fn),Fn.deps.push(t))}function Sr(t,e,n,i,o,u){const c=ud.get(t);if(!c)return;let l=[];if(e==="clear")l=[...c.values()];else if(n==="length"&&yt(t)){const f=Number(i);c.forEach((p,v)=>{(v==="length"||v>=f)&&l.push(p)})}else switch(n!==void 0&&l.push(c.get(n)),e){case"add":yt(t)?iv(n)&&l.push(c.get("length")):(l.push(c.get(Ui)),zo(t)&&l.push(c.get(cd)));break;case"delete":yt(t)||(l.push(c.get(Ui)),zo(t)&&l.push(c.get(cd)));break;case"set":zo(t)&&l.push(c.get(Ui));break}if(l.length===1)l[0]&&ld(l[0]);else{const f=[];for(const p of l)p&&f.push(...p);ld(uv(f))}}function ld(t,e){const n=yt(t)?t:[...t];for(const i of n)i.computed&&b0(i);for(const i of n)i.computed||b0(i)}function b0(t,e){(t!==Fn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Ak=tv("__proto__,__v_isRef,__isVue"),VI=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(rv)),Sk=cv(),Nk=cv(!1,!0),kk=cv(!0),I0=xk();function xk(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=jt(this);for(let u=0,c=this.length;u<c;u++)on(i,"get",u+"");const o=i[e](...n);return o===-1||o===!1?i[e](...n.map(jt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){gs();const i=jt(this)[e].apply(this,n);return ys(),i}}),t}function Ok(t){const e=jt(this);return on(e,"has",t),e.hasOwnProperty(t)}function cv(t=!1,e=!1){return function(i,o,u){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&u===(t?e?Kk:GI:e?BI:qI).get(i))return i;const c=yt(i);if(!t){if(c&&Pt(I0,o))return Reflect.get(I0,o,u);if(o==="hasOwnProperty")return Ok}const l=Reflect.get(i,o,u);return(rv(o)?VI.has(o):Ak(o))||(t||on(i,"get",o),e)?l:De(l)?c&&iv(o)?l:l.value:Jt(l)?t?zI(l):El(l):l}}const Pk=UI(),Dk=UI(!0);function UI(t=!1){return function(n,i,o,u){let c=n[i];if(ts(c)&&De(c)&&!De(o))return!1;if(!t&&(!jc(o)&&!ts(o)&&(c=jt(c),o=jt(o)),!yt(n)&&De(c)&&!De(o)))return c.value=o,!0;const l=yt(n)&&iv(i)?Number(i)<n.length:Pt(n,i),f=Reflect.set(n,i,o,u);return n===jt(u)&&(l?ku(o,c)&&Sr(n,"set",i,o):Sr(n,"add",i,o)),f}}function Ck(t,e){const n=Pt(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Sr(t,"delete",e,void 0),i}function Rk(t,e){const n=Reflect.has(t,e);return(!rv(e)||!VI.has(e))&&on(t,"has",e),n}function Lk(t){return on(t,"iterate",yt(t)?"length":Ui),Reflect.ownKeys(t)}const FI={get:Sk,set:Pk,deleteProperty:Ck,has:Rk,ownKeys:Lk},Mk={get:kk,set(t,e){return!0},deleteProperty(t,e){return!0}},jk=_e({},FI,{get:Nk,set:Dk}),lv=t=>t,Il=t=>Reflect.getPrototypeOf(t);function lc(t,e,n=!1,i=!1){t=t.__v_raw;const o=jt(t),u=jt(e);n||(e!==u&&on(o,"get",e),on(o,"get",u));const{has:c}=Il(o),l=i?lv:n?pv:xu;if(c.call(o,e))return l(t.get(e));if(c.call(o,u))return l(t.get(u));t!==o&&t.get(e)}function fc(t,e=!1){const n=this.__v_raw,i=jt(n),o=jt(t);return e||(t!==o&&on(i,"has",t),on(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function hc(t,e=!1){return t=t.__v_raw,!e&&on(jt(t),"iterate",Ui),Reflect.get(t,"size",t)}function E0(t){t=jt(t);const e=jt(this);return Il(e).has.call(e,t)||(e.add(t),Sr(e,"add",t,t)),this}function _0(t,e){e=jt(e);const n=jt(this),{has:i,get:o}=Il(n);let u=i.call(n,t);u||(t=jt(t),u=i.call(n,t));const c=o.call(n,t);return n.set(t,e),u?ku(e,c)&&Sr(n,"set",t,e):Sr(n,"add",t,e),this}function T0(t){const e=jt(this),{has:n,get:i}=Il(e);let o=n.call(e,t);o||(t=jt(t),o=n.call(e,t)),i&&i.call(e,t);const u=e.delete(t);return o&&Sr(e,"delete",t,void 0),u}function A0(){const t=jt(this),e=t.size!==0,n=t.clear();return e&&Sr(t,"clear",void 0,void 0),n}function pc(t,e){return function(i,o){const u=this,c=u.__v_raw,l=jt(c),f=e?lv:t?pv:xu;return!t&&on(l,"iterate",Ui),c.forEach((p,v)=>i.call(o,f(p),f(v),u))}}function dc(t,e,n){return function(...i){const o=this.__v_raw,u=jt(o),c=zo(u),l=t==="entries"||t===Symbol.iterator&&c,f=t==="keys"&&c,p=o[t](...i),v=n?lv:e?pv:xu;return!e&&on(u,"iterate",f?cd:Ui),{next(){const{value:m,done:y}=p.next();return y?{value:m,done:y}:{value:l?[v(m[0]),v(m[1])]:v(m),done:y}},[Symbol.iterator](){return this}}}}function Fr(t){return function(...e){return t==="delete"?!1:this}}function Vk(){const t={get(u){return lc(this,u)},get size(){return hc(this)},has:fc,add:E0,set:_0,delete:T0,clear:A0,forEach:pc(!1,!1)},e={get(u){return lc(this,u,!1,!0)},get size(){return hc(this)},has:fc,add:E0,set:_0,delete:T0,clear:A0,forEach:pc(!1,!0)},n={get(u){return lc(this,u,!0)},get size(){return hc(this,!0)},has(u){return fc.call(this,u,!0)},add:Fr("add"),set:Fr("set"),delete:Fr("delete"),clear:Fr("clear"),forEach:pc(!0,!1)},i={get(u){return lc(this,u,!0,!0)},get size(){return hc(this,!0)},has(u){return fc.call(this,u,!0)},add:Fr("add"),set:Fr("set"),delete:Fr("delete"),clear:Fr("clear"),forEach:pc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=dc(u,!1,!1),n[u]=dc(u,!0,!1),e[u]=dc(u,!1,!0),i[u]=dc(u,!0,!0)}),[t,n,e,i]}const[Uk,Fk,qk,Bk]=Vk();function fv(t,e){const n=e?t?Bk:qk:t?Fk:Uk;return(i,o,u)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get(Pt(n,o)&&o in i?n:i,o,u)}const Gk={get:fv(!1,!1)},Hk={get:fv(!1,!0)},zk={get:fv(!0,!1)},qI=new WeakMap,BI=new WeakMap,GI=new WeakMap,Kk=new WeakMap;function Wk(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $k(t){return t.__v_skip||!Object.isExtensible(t)?0:Wk(fk(t))}function El(t){return ts(t)?t:hv(t,!1,FI,Gk,qI)}function HI(t){return hv(t,!1,jk,Hk,BI)}function zI(t){return hv(t,!0,Mk,zk,GI)}function hv(t,e,n,i,o){if(!Jt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const u=o.get(t);if(u)return u;const c=$k(t);if(c===0)return t;const l=new Proxy(t,c===2?i:n);return o.set(t,l),l}function Ko(t){return ts(t)?Ko(t.__v_raw):!!(t&&t.__v_isReactive)}function ts(t){return!!(t&&t.__v_isReadonly)}function jc(t){return!!(t&&t.__v_isShallow)}function KI(t){return Ko(t)||ts(t)}function jt(t){const e=t&&t.__v_raw;return e?jt(e):t}function WI(t){return Mc(t,"__v_skip",!0),t}const xu=t=>Jt(t)?El(t):t,pv=t=>Jt(t)?zI(t):t;function $I(t){Jr&&Fn&&(t=jt(t),jI(t.dep||(t.dep=uv())))}function XI(t,e){t=jt(t);const n=t.dep;n&&ld(n)}function De(t){return!!(t&&t.__v_isRef===!0)}function Le(t){return YI(t,!1)}function Xk(t){return YI(t,!0)}function YI(t,e){return De(t)?t:new Yk(t,e)}class Yk{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:jt(e),this._value=n?e:xu(e)}get value(){return $I(this),this._value}set value(e){const n=this.__v_isShallow||jc(e)||ts(e);e=n?e:jt(e),ku(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:xu(e),XI(this))}}function $e(t){return De(t)?t.value:t}const Jk={get:(t,e,n)=>$e(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return De(o)&&!De(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function JI(t){return Ko(t)?t:new Proxy(t,Jk)}class Qk{constructor(e,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new av(e,()=>{this._dirty||(this._dirty=!0,XI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=jt(this);return $I(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Zk(t,e,n=!1){let i,o;const u=Et(t);return u?(i=t,o=Gn):(i=t.get,o=t.set),new Qk(i,o,u||!o,n)}function Qr(t,e,n,i){let o;try{o=i?t(...i):t()}catch(u){_l(u,e,n)}return o}function Hn(t,e,n,i){if(Et(t)){const u=Qr(t,e,n,i);return u&&xI(u)&&u.catch(c=>{_l(c,e,n)}),u}const o=[];for(let u=0;u<t.length;u++)o.push(Hn(t[u],e,n,i));return o}function _l(t,e,n,i=!0){const o=e?e.vnode:null;if(e){let u=e.parent;const c=e.proxy,l=n;for(;u;){const p=u.ec;if(p){for(let v=0;v<p.length;v++)if(p[v](t,c,l)===!1)return}u=u.parent}const f=e.appContext.config.errorHandler;if(f){Qr(f,null,10,[t,c,l]);return}}tx(t,n,o,i)}function tx(t,e,n,i=!0){console.error(t)}let Ou=!1,fd=!1;const Pe=[];let or=0;const Wo=[];let Ir=null,Ri=0;const QI=Promise.resolve();let dv=null;function ZI(t){const e=dv||QI;return t?e.then(this?t.bind(this):t):e}function ex(t){let e=or+1,n=Pe.length;for(;e<n;){const i=e+n>>>1;Pu(Pe[i])<t?e=i+1:n=i}return e}function vv(t){(!Pe.length||!Pe.includes(t,Ou&&t.allowRecurse?or+1:or))&&(t.id==null?Pe.push(t):Pe.splice(ex(t.id),0,t),tE())}function tE(){!Ou&&!fd&&(fd=!0,dv=QI.then(nE))}function nx(t){const e=Pe.indexOf(t);e>or&&Pe.splice(e,1)}function rx(t){yt(t)?Wo.push(...t):(!Ir||!Ir.includes(t,t.allowRecurse?Ri+1:Ri))&&Wo.push(t),tE()}function S0(t,e=Ou?or+1:0){for(;e<Pe.length;e++){const n=Pe[e];n&&n.pre&&(Pe.splice(e,1),e--,n())}}function eE(t){if(Wo.length){const e=[...new Set(Wo)];if(Wo.length=0,Ir){Ir.push(...e);return}for(Ir=e,Ir.sort((n,i)=>Pu(n)-Pu(i)),Ri=0;Ri<Ir.length;Ri++)Ir[Ri]();Ir=null,Ri=0}}const Pu=t=>t.id==null?1/0:t.id,ix=(t,e)=>{const n=Pu(t)-Pu(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function nE(t){fd=!1,Ou=!0,Pe.sort(ix);const e=Gn;try{for(or=0;or<Pe.length;or++){const n=Pe[or];n&&n.active!==!1&&Qr(n,null,14)}}finally{or=0,Pe.length=0,eE(),Ou=!1,dv=null,(Pe.length||Wo.length)&&nE()}}function ox(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||Kt;let o=n;const u=e.startsWith("update:"),c=u&&e.slice(7);if(c&&c in i){const v=`${c==="modelValue"?"model":c}Modifiers`,{number:m,trim:y}=i[v]||Kt;y&&(o=n.map(b=>ge(b)?b.trim():b)),m&&(o=n.map(od))}let l,f=i[l=xp(e)]||i[l=xp(cr(e))];!f&&u&&(f=i[l=xp(Qi(e))]),f&&Hn(f,t,6,o);const p=i[l+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Hn(p,t,6,o)}}function rE(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const u=t.emits;let c={},l=!1;if(!Et(t)){const f=p=>{const v=rE(p,e,!0);v&&(l=!0,_e(c,v))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!u&&!l?(Jt(t)&&i.set(t,null),null):(yt(u)?u.forEach(f=>c[f]=null):_e(c,u),Jt(t)&&i.set(t,c),c)}function Tl(t,e){return!t||!gl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Pt(t,e[0].toLowerCase()+e.slice(1))||Pt(t,Qi(e))||Pt(t,e))}let Sn=null,iE=null;function Vc(t){const e=Sn;return Sn=t,iE=t&&t.type.__scopeId||null,e}function sx(t,e=Sn,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&j0(-1);const u=Vc(e);let c;try{c=t(...o)}finally{Vc(u),i._d&&j0(1)}return c};return i._n=!0,i._c=!0,i._d=!0,i}function Op(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[c],slots:l,attrs:f,emit:p,render:v,renderCache:m,data:y,setupState:b,ctx:_,inheritAttrs:T}=t;let O,x;const R=Vc(t);try{if(n.shapeFlag&4){const V=o||i;O=ir(v.call(V,V,m,u,b,y,_)),x=f}else{const V=e;O=ir(V.length>1?V(u,{attrs:f,slots:l,emit:p}):V(u,null)),x=e.props?f:ux(f)}}catch(V){Iu.length=0,_l(V,t,1),O=ve(Gi)}let G=O;if(x&&T!==!1){const V=Object.keys(x),{shapeFlag:U}=G;V.length&&U&7&&(c&&V.some(ev)&&(x=ax(x,c)),G=es(G,x))}return n.dirs&&(G=es(G),G.dirs=G.dirs?G.dirs.concat(n.dirs):n.dirs),n.transition&&(G.transition=n.transition),O=G,Vc(R),O}const ux=t=>{let e;for(const n in t)(n==="class"||n==="style"||gl(n))&&((e||(e={}))[n]=t[n]);return e},ax=(t,e)=>{const n={};for(const i in t)(!ev(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function cx(t,e,n){const{props:i,children:o,component:u}=t,{props:c,children:l,patchFlag:f}=e,p=u.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?N0(i,c,p):!!c;if(f&8){const v=e.dynamicProps;for(let m=0;m<v.length;m++){const y=v[m];if(c[y]!==i[y]&&!Tl(p,y))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===c?!1:i?c?N0(i,c,p):!0:!!c;return!1}function N0(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(e[u]!==t[u]&&!Tl(n,u))return!0}return!1}function lx({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const fx=t=>t.__isSuspense;function hx(t,e){e&&e.pendingBranch?yt(t)?e.effects.push(...t):e.effects.push(t):rx(t)}function px(t,e){return mv(t,null,e)}const vc={};function wu(t,e,n){return mv(t,e,n)}function mv(t,e,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:c}=Kt){var l;const f=Ek()===((l=Se)==null?void 0:l.scope)?Se:null;let p,v=!1,m=!1;if(De(t)?(p=()=>t.value,v=jc(t)):Ko(t)?(p=()=>t,i=!0):yt(t)?(m=!0,v=t.some(V=>Ko(V)||jc(V)),p=()=>t.map(V=>{if(De(V))return V.value;if(Ko(V))return ji(V);if(Et(V))return Qr(V,f,2)})):Et(t)?e?p=()=>Qr(t,f,2):p=()=>{if(!(f&&f.isUnmounted))return y&&y(),Hn(t,f,3,[b])}:p=Gn,e&&i){const V=p;p=()=>ji(V())}let y,b=V=>{y=R.onStop=()=>{Qr(V,f,4)}},_;if(Cu)if(b=Gn,e?n&&Hn(e,f,3,[p(),m?[]:void 0,b]):p(),o==="sync"){const V=aO();_=V.__watcherHandles||(V.__watcherHandles=[])}else return Gn;let T=m?new Array(t.length).fill(vc):vc;const O=()=>{if(R.active)if(e){const V=R.run();(i||v||(m?V.some((U,pt)=>ku(U,T[pt])):ku(V,T)))&&(y&&y(),Hn(e,f,3,[V,T===vc?void 0:m&&T[0]===vc?[]:T,b]),T=V)}else R.run()};O.allowRecurse=!!e;let x;o==="sync"?x=O:o==="post"?x=()=>en(O,f&&f.suspense):(O.pre=!0,f&&(O.id=f.uid),x=()=>vv(O));const R=new av(p,x);e?n?O():T=R.run():o==="post"?en(R.run.bind(R),f&&f.suspense):R.run();const G=()=>{R.stop(),f&&f.scope&&nv(f.scope.effects,R)};return _&&_.push(G),G}function dx(t,e,n){const i=this.proxy,o=ge(t)?t.includes(".")?oE(i,t):()=>i[t]:t.bind(i,i);let u;Et(e)?u=e:(u=e.handler,n=e);const c=Se;ns(this);const l=mv(o,u.bind(i),n);return c?ns(c):Fi(),l}function oE(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function ji(t,e){if(!Jt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),De(t))ji(t.value,e);else if(yt(t))for(let n=0;n<t.length;n++)ji(t[n],e);else if(kI(t)||zo(t))t.forEach(n=>{ji(n,e)});else if(PI(t))for(const n in t)ji(t[n],e);return t}function $o(t,e){const n=Sn;if(n===null)return t;const i=kl(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let u=0;u<e.length;u++){let[c,l,f,p=Kt]=e[u];c&&(Et(c)&&(c={mounted:c,updated:c}),c.deep&&ji(l),o.push({dir:c,instance:i,value:l,oldValue:void 0,arg:f,modifiers:p}))}return t}function Pi(t,e,n,i){const o=t.dirs,u=e&&e.dirs;for(let c=0;c<o.length;c++){const l=o[c];u&&(l.oldValue=u[c].value);let f=l.dir[i];f&&(gs(),Hn(f,n,8,[t.el,l,t,e]),ys())}}function sE(t,e){return Et(t)?(()=>_e({name:t.name},e,{setup:t}))():t}const Nc=t=>!!t.type.__asyncLoader,uE=t=>t.type.__isKeepAlive;function vx(t,e){aE(t,"a",e)}function mx(t,e){aE(t,"da",e)}function aE(t,e,n=Se){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(Al(e,i,n),n){let o=n.parent;for(;o&&o.parent;)uE(o.parent.vnode)&&gx(i,e,n,o),o=o.parent}}function gx(t,e,n,i){const o=Al(e,t,i,!0);lE(()=>{nv(i[e],o)},n)}function Al(t,e,n=Se,i=!1){if(n){const o=n[t]||(n[t]=[]),u=e.__weh||(e.__weh=(...c)=>{if(n.isUnmounted)return;gs(),ns(n);const l=Hn(e,n,t,c);return Fi(),ys(),l});return i?o.unshift(u):o.push(u),u}}const xr=t=>(e,n=Se)=>(!Cu||t==="sp")&&Al(t,(...i)=>e(...i),n),yx=xr("bm"),wx=xr("m"),bx=xr("bu"),cE=xr("u"),Ix=xr("bum"),lE=xr("um"),Ex=xr("sp"),_x=xr("rtg"),Tx=xr("rtc");function Ax(t,e=Se){Al("ec",t,e)}const fE="components";function Sx(t,e){return kx(fE,t,!0,e)||t}const Nx=Symbol.for("v-ndc");function kx(t,e,n=!0,i=!1){const o=Sn||Se;if(o){const u=o.type;if(t===fE){const l=oO(u,!1);if(l&&(l===e||l===cr(e)||l===bl(cr(e))))return u}const c=k0(o[t]||u[t],e)||k0(o.appContext[t],e);return!c&&i?u:c}}function k0(t,e){return t&&(t[e]||t[cr(e)]||t[bl(cr(e))])}function xx(t,e,n,i){let o;const u=n&&n[i];if(yt(t)||ge(t)){o=new Array(t.length);for(let c=0,l=t.length;c<l;c++)o[c]=e(t[c],c,void 0,u&&u[c])}else if(typeof t=="number"){o=new Array(t);for(let c=0;c<t;c++)o[c]=e(c+1,c,void 0,u&&u[c])}else if(Jt(t))if(t[Symbol.iterator])o=Array.from(t,(c,l)=>e(c,l,void 0,u&&u[l]));else{const c=Object.keys(t);o=new Array(c.length);for(let l=0,f=c.length;l<f;l++){const p=c[l];o[l]=e(t[p],p,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const hd=t=>t?EE(t)?kl(t)||t.proxy:hd(t.parent):null,bu=_e(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>hd(t.parent),$root:t=>hd(t.root),$emit:t=>t.emit,$options:t=>gv(t),$forceUpdate:t=>t.f||(t.f=()=>vv(t.update)),$nextTick:t=>t.n||(t.n=ZI.bind(t.proxy)),$watch:t=>dx.bind(t)}),Pp=(t,e)=>t!==Kt&&!t.__isScriptSetup&&Pt(t,e),Ox={get({_:t},e){const{ctx:n,setupState:i,data:o,props:u,accessCache:c,type:l,appContext:f}=t;let p;if(e[0]!=="$"){const b=c[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return u[e]}else{if(Pp(i,e))return c[e]=1,i[e];if(o!==Kt&&Pt(o,e))return c[e]=2,o[e];if((p=t.propsOptions[0])&&Pt(p,e))return c[e]=3,u[e];if(n!==Kt&&Pt(n,e))return c[e]=4,n[e];pd&&(c[e]=0)}}const v=bu[e];let m,y;if(v)return e==="$attrs"&&on(t,"get",e),v(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==Kt&&Pt(n,e))return c[e]=4,n[e];if(y=f.config.globalProperties,Pt(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:u}=t;return Pp(o,e)?(o[e]=n,!0):i!==Kt&&Pt(i,e)?(i[e]=n,!0):Pt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(u[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:u}},c){let l;return!!n[c]||t!==Kt&&Pt(t,c)||Pp(e,c)||(l=u[0])&&Pt(l,c)||Pt(i,c)||Pt(bu,c)||Pt(o.config.globalProperties,c)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Pt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function x0(t){return yt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let pd=!0;function Px(t){const e=gv(t),n=t.proxy,i=t.ctx;pd=!1,e.beforeCreate&&O0(e.beforeCreate,t,"bc");const{data:o,computed:u,methods:c,watch:l,provide:f,inject:p,created:v,beforeMount:m,mounted:y,beforeUpdate:b,updated:_,activated:T,deactivated:O,beforeDestroy:x,beforeUnmount:R,destroyed:G,unmounted:V,render:U,renderTracked:pt,renderTriggered:Lt,errorCaptured:tt,serverPrefetch:S,expose:ee,inheritAttrs:Qt,components:fe,directives:we,filters:qe}=e;if(p&&Dx(p,i,null),c)for(const dt in c){const kt=c[dt];Et(kt)&&(i[dt]=kt.bind(n))}if(o){const dt=o.call(n,n);Jt(dt)&&(t.data=El(dt))}if(pd=!0,u)for(const dt in u){const kt=u[dt],ke=Et(kt)?kt.bind(n,n):Et(kt.get)?kt.get.bind(n,n):Gn,wn=!Et(kt)&&Et(kt.set)?kt.set.bind(n):Gn,sn=An({get:ke,set:wn});Object.defineProperty(i,dt,{enumerable:!0,configurable:!0,get:()=>sn.value,set:Te=>sn.value=Te})}if(l)for(const dt in l)hE(l[dt],i,n,dt);if(f){const dt=Et(f)?f.call(n):f;Reflect.ownKeys(dt).forEach(kt=>{kc(kt,dt[kt])})}v&&O0(v,t,"c");function Ot(dt,kt){yt(kt)?kt.forEach(ke=>dt(ke.bind(n))):kt&&dt(kt.bind(n))}if(Ot(yx,m),Ot(wx,y),Ot(bx,b),Ot(cE,_),Ot(vx,T),Ot(mx,O),Ot(Ax,tt),Ot(Tx,pt),Ot(_x,Lt),Ot(Ix,R),Ot(lE,V),Ot(Ex,S),yt(ee))if(ee.length){const dt=t.exposed||(t.exposed={});ee.forEach(kt=>{Object.defineProperty(dt,kt,{get:()=>n[kt],set:ke=>n[kt]=ke})})}else t.exposed||(t.exposed={});U&&t.render===Gn&&(t.render=U),Qt!=null&&(t.inheritAttrs=Qt),fe&&(t.components=fe),we&&(t.directives=we)}function Dx(t,e,n=Gn){yt(t)&&(t=dd(t));for(const i in t){const o=t[i];let u;Jt(o)?"default"in o?u=ar(o.from||i,o.default,!0):u=ar(o.from||i):u=ar(o),De(u)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:c=>u.value=c}):e[i]=u}}function O0(t,e,n){Hn(yt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function hE(t,e,n,i){const o=i.includes(".")?oE(n,i):()=>n[i];if(ge(t)){const u=e[t];Et(u)&&wu(o,u)}else if(Et(t))wu(o,t.bind(n));else if(Jt(t))if(yt(t))t.forEach(u=>hE(u,e,n,i));else{const u=Et(t.handler)?t.handler.bind(n):e[t.handler];Et(u)&&wu(o,u,t)}}function gv(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:u,config:{optionMergeStrategies:c}}=t.appContext,l=u.get(e);let f;return l?f=l:!o.length&&!n&&!i?f=e:(f={},o.length&&o.forEach(p=>Uc(f,p,c,!0)),Uc(f,e,c)),Jt(e)&&u.set(e,f),f}function Uc(t,e,n,i=!1){const{mixins:o,extends:u}=e;u&&Uc(t,u,n,!0),o&&o.forEach(c=>Uc(t,c,n,!0));for(const c in e)if(!(i&&c==="expose")){const l=Cx[c]||n&&n[c];t[c]=l?l(t[c],e[c]):e[c]}return t}const Cx={data:P0,props:D0,emits:D0,methods:mu,computed:mu,beforeCreate:ze,created:ze,beforeMount:ze,mounted:ze,beforeUpdate:ze,updated:ze,beforeDestroy:ze,beforeUnmount:ze,destroyed:ze,unmounted:ze,activated:ze,deactivated:ze,errorCaptured:ze,serverPrefetch:ze,components:mu,directives:mu,watch:Lx,provide:P0,inject:Rx};function P0(t,e){return e?t?function(){return _e(Et(t)?t.call(this,this):t,Et(e)?e.call(this,this):e)}:e:t}function Rx(t,e){return mu(dd(t),dd(e))}function dd(t){if(yt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ze(t,e){return t?[...new Set([].concat(t,e))]:e}function mu(t,e){return t?_e(Object.create(null),t,e):e}function D0(t,e){return t?yt(t)&&yt(e)?[...new Set([...t,...e])]:_e(Object.create(null),x0(t),x0(e??{})):e}function Lx(t,e){if(!t)return e;if(!e)return t;const n=_e(Object.create(null),t);for(const i in e)n[i]=ze(t[i],e[i]);return n}function pE(){return{app:null,config:{isNativeTag:ak,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Mx=0;function jx(t,e){return function(i,o=null){Et(i)||(i=_e({},i)),o!=null&&!Jt(o)&&(o=null);const u=pE(),c=new Set;let l=!1;const f=u.app={_uid:Mx++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:cO,get config(){return u.config},set config(p){},use(p,...v){return c.has(p)||(p&&Et(p.install)?(c.add(p),p.install(f,...v)):Et(p)&&(c.add(p),p(f,...v))),f},mixin(p){return u.mixins.includes(p)||u.mixins.push(p),f},component(p,v){return v?(u.components[p]=v,f):u.components[p]},directive(p,v){return v?(u.directives[p]=v,f):u.directives[p]},mount(p,v,m){if(!l){const y=ve(i,o);return y.appContext=u,v&&e?e(y,p):t(y,p,m),l=!0,f._container=p,p.__vue_app__=f,kl(y.component)||y.component.proxy}},unmount(){l&&(t(null,f._container),delete f._container.__vue_app__)},provide(p,v){return u.provides[p]=v,f},runWithContext(p){Fc=f;try{return p()}finally{Fc=null}}};return f}}let Fc=null;function kc(t,e){if(Se){let n=Se.provides;const i=Se.parent&&Se.parent.provides;i===n&&(n=Se.provides=Object.create(i)),n[t]=e}}function ar(t,e,n=!1){const i=Se||Sn;if(i||Fc){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Fc._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Et(e)?e.call(i&&i.proxy):e}}function Vx(t,e,n,i=!1){const o={},u={};Mc(u,Nl,1),t.propsDefaults=Object.create(null),dE(t,e,o,u);for(const c in t.propsOptions[0])c in o||(o[c]=void 0);n?t.props=i?o:HI(o):t.type.props?t.props=o:t.props=u,t.attrs=u}function Ux(t,e,n,i){const{props:o,attrs:u,vnode:{patchFlag:c}}=t,l=jt(o),[f]=t.propsOptions;let p=!1;if((i||c>0)&&!(c&16)){if(c&8){const v=t.vnode.dynamicProps;for(let m=0;m<v.length;m++){let y=v[m];if(Tl(t.emitsOptions,y))continue;const b=e[y];if(f)if(Pt(u,y))b!==u[y]&&(u[y]=b,p=!0);else{const _=cr(y);o[_]=vd(f,l,_,b,t,!1)}else b!==u[y]&&(u[y]=b,p=!0)}}}else{dE(t,e,o,u)&&(p=!0);let v;for(const m in l)(!e||!Pt(e,m)&&((v=Qi(m))===m||!Pt(e,v)))&&(f?n&&(n[m]!==void 0||n[v]!==void 0)&&(o[m]=vd(f,l,m,void 0,t,!0)):delete o[m]);if(u!==l)for(const m in u)(!e||!Pt(e,m))&&(delete u[m],p=!0)}p&&Sr(t,"set","$attrs")}function dE(t,e,n,i){const[o,u]=t.propsOptions;let c=!1,l;if(e)for(let f in e){if(Ac(f))continue;const p=e[f];let v;o&&Pt(o,v=cr(f))?!u||!u.includes(v)?n[v]=p:(l||(l={}))[v]=p:Tl(t.emitsOptions,f)||(!(f in i)||p!==i[f])&&(i[f]=p,c=!0)}if(u){const f=jt(n),p=l||Kt;for(let v=0;v<u.length;v++){const m=u[v];n[m]=vd(o,f,m,p[m],t,!Pt(p,m))}}return c}function vd(t,e,n,i,o,u){const c=t[n];if(c!=null){const l=Pt(c,"default");if(l&&i===void 0){const f=c.default;if(c.type!==Function&&!c.skipFactory&&Et(f)){const{propsDefaults:p}=o;n in p?i=p[n]:(ns(o),i=p[n]=f.call(null,e),Fi())}else i=f}c[0]&&(u&&!l?i=!1:c[1]&&(i===""||i===Qi(n))&&(i=!0))}return i}function vE(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const u=t.props,c={},l=[];let f=!1;if(!Et(t)){const v=m=>{f=!0;const[y,b]=vE(m,e,!0);_e(c,y),b&&l.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}if(!u&&!f)return Jt(t)&&i.set(t,Ho),Ho;if(yt(u))for(let v=0;v<u.length;v++){const m=cr(u[v]);C0(m)&&(c[m]=Kt)}else if(u)for(const v in u){const m=cr(v);if(C0(m)){const y=u[v],b=c[m]=yt(y)||Et(y)?{type:y}:_e({},y);if(b){const _=M0(Boolean,b.type),T=M0(String,b.type);b[0]=_>-1,b[1]=T<0||_<T,(_>-1||Pt(b,"default"))&&l.push(m)}}}const p=[c,l];return Jt(t)&&i.set(t,p),p}function C0(t){return t[0]!=="$"}function R0(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function L0(t,e){return R0(t)===R0(e)}function M0(t,e){return yt(e)?e.findIndex(n=>L0(n,t)):Et(e)&&L0(e,t)?0:-1}const mE=t=>t[0]==="_"||t==="$stable",yv=t=>yt(t)?t.map(ir):[ir(t)],Fx=(t,e,n)=>{if(e._n)return e;const i=sx((...o)=>yv(e(...o)),n);return i._c=!1,i},gE=(t,e,n)=>{const i=t._ctx;for(const o in t){if(mE(o))continue;const u=t[o];if(Et(u))e[o]=Fx(o,u,i);else if(u!=null){const c=yv(u);e[o]=()=>c}}},yE=(t,e)=>{const n=yv(e);t.slots.default=()=>n},qx=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=jt(e),Mc(e,"_",n)):gE(e,t.slots={})}else t.slots={},e&&yE(t,e);Mc(t.slots,Nl,1)},Bx=(t,e,n)=>{const{vnode:i,slots:o}=t;let u=!0,c=Kt;if(i.shapeFlag&32){const l=e._;l?n&&l===1?u=!1:(_e(o,e),!n&&l===1&&delete o._):(u=!e.$stable,gE(e,o)),c=e}else e&&(yE(t,e),c={default:1});if(u)for(const l in o)!mE(l)&&!(l in c)&&delete o[l]};function md(t,e,n,i,o=!1){if(yt(t)){t.forEach((y,b)=>md(y,e&&(yt(e)?e[b]:e),n,i,o));return}if(Nc(i)&&!o)return;const u=i.shapeFlag&4?kl(i.component)||i.component.proxy:i.el,c=o?null:u,{i:l,r:f}=t,p=e&&e.r,v=l.refs===Kt?l.refs={}:l.refs,m=l.setupState;if(p!=null&&p!==f&&(ge(p)?(v[p]=null,Pt(m,p)&&(m[p]=null)):De(p)&&(p.value=null)),Et(f))Qr(f,l,12,[c,v]);else{const y=ge(f),b=De(f);if(y||b){const _=()=>{if(t.f){const T=y?Pt(m,f)?m[f]:v[f]:f.value;o?yt(T)&&nv(T,u):yt(T)?T.includes(u)||T.push(u):y?(v[f]=[u],Pt(m,f)&&(m[f]=v[f])):(f.value=[u],t.k&&(v[t.k]=f.value))}else y?(v[f]=c,Pt(m,f)&&(m[f]=c)):b&&(f.value=c,t.k&&(v[t.k]=c))};c?(_.id=-1,en(_,n)):_()}}}const en=hx;function Gx(t){return Hx(t)}function Hx(t,e){const n=sd();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:c,createText:l,createComment:f,setText:p,setElementText:v,parentNode:m,nextSibling:y,setScopeId:b=Gn,insertStaticContent:_}=t,T=(I,A,N,D=null,L=null,M=null,Y=!1,K=null,W=!!A.dynamicChildren)=>{if(I===A)return;I&&!cu(I,A)&&(D=P(I),Te(I,L,M,!0),I=null),A.patchFlag===-2&&(W=!1,A.dynamicChildren=null);const{type:q,ref:ut,shapeFlag:it}=A;switch(q){case Sl:O(I,A,N,D);break;case Gi:x(I,A,N,D);break;case Dp:I==null&&R(A,N,D,Y);break;case Un:fe(I,A,N,D,L,M,Y,K,W);break;default:it&1?U(I,A,N,D,L,M,Y,K,W):it&6?we(I,A,N,D,L,M,Y,K,W):(it&64||it&128)&&q.process(I,A,N,D,L,M,Y,K,W,$)}ut!=null&&L&&md(ut,I&&I.ref,M,A||I,!A)},O=(I,A,N,D)=>{if(I==null)i(A.el=l(A.children),N,D);else{const L=A.el=I.el;A.children!==I.children&&p(L,A.children)}},x=(I,A,N,D)=>{I==null?i(A.el=f(A.children||""),N,D):A.el=I.el},R=(I,A,N,D)=>{[I.el,I.anchor]=_(I.children,A,N,D,I.el,I.anchor)},G=({el:I,anchor:A},N,D)=>{let L;for(;I&&I!==A;)L=y(I),i(I,N,D),I=L;i(A,N,D)},V=({el:I,anchor:A})=>{let N;for(;I&&I!==A;)N=y(I),o(I),I=N;o(A)},U=(I,A,N,D,L,M,Y,K,W)=>{Y=Y||A.type==="svg",I==null?pt(A,N,D,L,M,Y,K,W):S(I,A,L,M,Y,K,W)},pt=(I,A,N,D,L,M,Y,K)=>{let W,q;const{type:ut,props:it,shapeFlag:at,transition:mt,dirs:nt}=I;if(W=I.el=c(I.type,M,it&&it.is,it),at&8?v(W,I.children):at&16&&tt(I.children,W,null,D,L,M&&ut!=="foreignObject",Y,K),nt&&Pi(I,null,D,"created"),Lt(W,I,I.scopeId,Y,D),it){for(const St in it)St!=="value"&&!Ac(St)&&u(W,St,null,it[St],M,I.children,D,L,he);"value"in it&&u(W,"value",null,it.value),(q=it.onVnodeBeforeMount)&&rr(q,D,I)}nt&&Pi(I,null,D,"beforeMount");const Vt=(!L||L&&!L.pendingBranch)&&mt&&!mt.persisted;Vt&&mt.beforeEnter(W),i(W,A,N),((q=it&&it.onVnodeMounted)||Vt||nt)&&en(()=>{q&&rr(q,D,I),Vt&&mt.enter(W),nt&&Pi(I,null,D,"mounted")},L)},Lt=(I,A,N,D,L)=>{if(N&&b(I,N),D)for(let M=0;M<D.length;M++)b(I,D[M]);if(L){let M=L.subTree;if(A===M){const Y=L.vnode;Lt(I,Y,Y.scopeId,Y.slotScopeIds,L.parent)}}},tt=(I,A,N,D,L,M,Y,K,W=0)=>{for(let q=W;q<I.length;q++){const ut=I[q]=K?Hr(I[q]):ir(I[q]);T(null,ut,A,N,D,L,M,Y,K)}},S=(I,A,N,D,L,M,Y)=>{const K=A.el=I.el;let{patchFlag:W,dynamicChildren:q,dirs:ut}=A;W|=I.patchFlag&16;const it=I.props||Kt,at=A.props||Kt;let mt;N&&Di(N,!1),(mt=at.onVnodeBeforeUpdate)&&rr(mt,N,A,I),ut&&Pi(A,I,N,"beforeUpdate"),N&&Di(N,!0);const nt=L&&A.type!=="foreignObject";if(q?ee(I.dynamicChildren,q,K,N,D,nt,M):Y||kt(I,A,K,null,N,D,nt,M,!1),W>0){if(W&16)Qt(K,A,it,at,N,D,L);else if(W&2&&it.class!==at.class&&u(K,"class",null,at.class,L),W&4&&u(K,"style",it.style,at.style,L),W&8){const Vt=A.dynamicProps;for(let St=0;St<Vt.length;St++){const Zt=Vt[St],Qe=it[Zt],Bt=at[Zt];(Bt!==Qe||Zt==="value")&&u(K,Zt,Qe,Bt,L,I.children,N,D,he)}}W&1&&I.children!==A.children&&v(K,A.children)}else!Y&&q==null&&Qt(K,A,it,at,N,D,L);((mt=at.onVnodeUpdated)||ut)&&en(()=>{mt&&rr(mt,N,A,I),ut&&Pi(A,I,N,"updated")},D)},ee=(I,A,N,D,L,M,Y)=>{for(let K=0;K<A.length;K++){const W=I[K],q=A[K],ut=W.el&&(W.type===Un||!cu(W,q)||W.shapeFlag&70)?m(W.el):N;T(W,q,ut,null,D,L,M,Y,!0)}},Qt=(I,A,N,D,L,M,Y)=>{if(N!==D){if(N!==Kt)for(const K in N)!Ac(K)&&!(K in D)&&u(I,K,N[K],null,Y,A.children,L,M,he);for(const K in D){if(Ac(K))continue;const W=D[K],q=N[K];W!==q&&K!=="value"&&u(I,K,q,W,Y,A.children,L,M,he)}"value"in D&&u(I,"value",N.value,D.value)}},fe=(I,A,N,D,L,M,Y,K,W)=>{const q=A.el=I?I.el:l(""),ut=A.anchor=I?I.anchor:l("");let{patchFlag:it,dynamicChildren:at,slotScopeIds:mt}=A;mt&&(K=K?K.concat(mt):mt),I==null?(i(q,N,D),i(ut,N,D),tt(A.children,N,ut,L,M,Y,K,W)):it>0&&it&64&&at&&I.dynamicChildren?(ee(I.dynamicChildren,at,N,L,M,Y,K),(A.key!=null||L&&A===L.subTree)&&wE(I,A,!0)):kt(I,A,N,ut,L,M,Y,K,W)},we=(I,A,N,D,L,M,Y,K,W)=>{A.slotScopeIds=K,I==null?A.shapeFlag&512?L.ctx.activate(A,N,D,Y,W):qe(A,N,D,L,M,Y,W):Je(I,A,W)},qe=(I,A,N,D,L,M,Y)=>{const K=I.component=tO(I,D,L);if(uE(I)&&(K.ctx.renderer=$),eO(K),K.asyncDep){if(L&&L.registerDep(K,Ot),!I.el){const W=K.subTree=ve(Gi);x(null,W,A,N)}return}Ot(K,I,A,N,L,M,Y)},Je=(I,A,N)=>{const D=A.component=I.component;if(cx(I,A,N))if(D.asyncDep&&!D.asyncResolved){dt(D,A,N);return}else D.next=A,nx(D.update),D.update();else A.el=I.el,D.vnode=A},Ot=(I,A,N,D,L,M,Y)=>{const K=()=>{if(I.isMounted){let{next:ut,bu:it,u:at,parent:mt,vnode:nt}=I,Vt=ut,St;Di(I,!1),ut?(ut.el=nt.el,dt(I,ut,Y)):ut=nt,it&&Sc(it),(St=ut.props&&ut.props.onVnodeBeforeUpdate)&&rr(St,mt,ut,nt),Di(I,!0);const Zt=Op(I),Qe=I.subTree;I.subTree=Zt,T(Qe,Zt,m(Qe.el),P(Qe),I,L,M),ut.el=Zt.el,Vt===null&&lx(I,Zt.el),at&&en(at,L),(St=ut.props&&ut.props.onVnodeUpdated)&&en(()=>rr(St,mt,ut,nt),L)}else{let ut;const{el:it,props:at}=A,{bm:mt,m:nt,parent:Vt}=I,St=Nc(A);if(Di(I,!1),mt&&Sc(mt),!St&&(ut=at&&at.onVnodeBeforeMount)&&rr(ut,Vt,A),Di(I,!0),it&&Dt){const Zt=()=>{I.subTree=Op(I),Dt(it,I.subTree,I,L,null)};St?A.type.__asyncLoader().then(()=>!I.isUnmounted&&Zt()):Zt()}else{const Zt=I.subTree=Op(I);T(null,Zt,N,D,I,L,M),A.el=Zt.el}if(nt&&en(nt,L),!St&&(ut=at&&at.onVnodeMounted)){const Zt=A;en(()=>rr(ut,Vt,Zt),L)}(A.shapeFlag&256||Vt&&Nc(Vt.vnode)&&Vt.vnode.shapeFlag&256)&&I.a&&en(I.a,L),I.isMounted=!0,A=N=D=null}},W=I.effect=new av(K,()=>vv(q),I.scope),q=I.update=()=>W.run();q.id=I.uid,Di(I,!0),q()},dt=(I,A,N)=>{A.component=I;const D=I.vnode.props;I.vnode=A,I.next=null,Ux(I,A.props,D,N),Bx(I,A.children,N),gs(),S0(),ys()},kt=(I,A,N,D,L,M,Y,K,W=!1)=>{const q=I&&I.children,ut=I?I.shapeFlag:0,it=A.children,{patchFlag:at,shapeFlag:mt}=A;if(at>0){if(at&128){wn(q,it,N,D,L,M,Y,K,W);return}else if(at&256){ke(q,it,N,D,L,M,Y,K,W);return}}mt&8?(ut&16&&he(q,L,M),it!==q&&v(N,it)):ut&16?mt&16?wn(q,it,N,D,L,M,Y,K,W):he(q,L,M,!0):(ut&8&&v(N,""),mt&16&&tt(it,N,D,L,M,Y,K,W))},ke=(I,A,N,D,L,M,Y,K,W)=>{I=I||Ho,A=A||Ho;const q=I.length,ut=A.length,it=Math.min(q,ut);let at;for(at=0;at<it;at++){const mt=A[at]=W?Hr(A[at]):ir(A[at]);T(I[at],mt,N,null,L,M,Y,K,W)}q>ut?he(I,L,M,!0,!1,it):tt(A,N,D,L,M,Y,K,W,it)},wn=(I,A,N,D,L,M,Y,K,W)=>{let q=0;const ut=A.length;let it=I.length-1,at=ut-1;for(;q<=it&&q<=at;){const mt=I[q],nt=A[q]=W?Hr(A[q]):ir(A[q]);if(cu(mt,nt))T(mt,nt,N,null,L,M,Y,K,W);else break;q++}for(;q<=it&&q<=at;){const mt=I[it],nt=A[at]=W?Hr(A[at]):ir(A[at]);if(cu(mt,nt))T(mt,nt,N,null,L,M,Y,K,W);else break;it--,at--}if(q>it){if(q<=at){const mt=at+1,nt=mt<ut?A[mt].el:D;for(;q<=at;)T(null,A[q]=W?Hr(A[q]):ir(A[q]),N,nt,L,M,Y,K,W),q++}}else if(q>at)for(;q<=it;)Te(I[q],L,M,!0),q++;else{const mt=q,nt=q,Vt=new Map;for(q=nt;q<=at;q++){const xe=A[q]=W?Hr(A[q]):ir(A[q]);xe.key!=null&&Vt.set(xe.key,q)}let St,Zt=0;const Qe=at-nt+1;let Bt=!1,Ss=0;const un=new Array(Qe);for(q=0;q<Qe;q++)un[q]=0;for(q=mt;q<=it;q++){const xe=I[q];if(Zt>=Qe){Te(xe,L,M,!0);continue}let Ht;if(xe.key!=null)Ht=Vt.get(xe.key);else for(St=nt;St<=at;St++)if(un[St-nt]===0&&cu(xe,A[St])){Ht=St;break}Ht===void 0?Te(xe,L,M,!0):(un[Ht-nt]=q+1,Ht>=Ss?Ss=Ht:Bt=!0,T(xe,A[Ht],N,null,L,M,Y,K,W),Zt++)}const xn=Bt?zx(un):Ho;for(St=xn.length-1,q=Qe-1;q>=0;q--){const xe=nt+q,Ht=A[xe],so=xe+1<ut?A[xe+1].el:D;un[q]===0?T(null,Ht,N,so,L,M,Y,K,W):Bt&&(St<0||q!==xn[St]?sn(Ht,N,so,2):St--)}}},sn=(I,A,N,D,L=null)=>{const{el:M,type:Y,transition:K,children:W,shapeFlag:q}=I;if(q&6){sn(I.component.subTree,A,N,D);return}if(q&128){I.suspense.move(A,N,D);return}if(q&64){Y.move(I,A,N,$);return}if(Y===Un){i(M,A,N);for(let it=0;it<W.length;it++)sn(W[it],A,N,D);i(I.anchor,A,N);return}if(Y===Dp){G(I,A,N);return}if(D!==2&&q&1&&K)if(D===0)K.beforeEnter(M),i(M,A,N),en(()=>K.enter(M),L);else{const{leave:it,delayLeave:at,afterLeave:mt}=K,nt=()=>i(M,A,N),Vt=()=>{it(M,()=>{nt(),mt&&mt()})};at?at(M,nt,Vt):Vt()}else i(M,A,N)},Te=(I,A,N,D=!1,L=!1)=>{const{type:M,props:Y,ref:K,children:W,dynamicChildren:q,shapeFlag:ut,patchFlag:it,dirs:at}=I;if(K!=null&&md(K,null,N,I,!0),ut&256){A.ctx.deactivate(I);return}const mt=ut&1&&at,nt=!Nc(I);let Vt;if(nt&&(Vt=Y&&Y.onVnodeBeforeUnmount)&&rr(Vt,A,I),ut&6)Pr(I.component,N,D);else{if(ut&128){I.suspense.unmount(N,D);return}mt&&Pi(I,null,A,"beforeUnmount"),ut&64?I.type.remove(I,A,N,L,$,D):q&&(M!==Un||it>0&&it&64)?he(q,A,N,!1,!0):(M===Un&&it&384||!L&&ut&16)&&he(W,A,N),D&&pr(I)}(nt&&(Vt=Y&&Y.onVnodeUnmounted)||mt)&&en(()=>{Vt&&rr(Vt,A,I),mt&&Pi(I,null,A,"unmounted")},N)},pr=I=>{const{type:A,el:N,anchor:D,transition:L}=I;if(A===Un){Or(N,D);return}if(A===Dp){V(I);return}const M=()=>{o(N),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(I.shapeFlag&1&&L&&!L.persisted){const{leave:Y,delayLeave:K}=L,W=()=>Y(N,M);K?K(I.el,M,W):W()}else M()},Or=(I,A)=>{let N;for(;I!==A;)N=y(I),o(I),I=N;o(A)},Pr=(I,A,N)=>{const{bum:D,scope:L,update:M,subTree:Y,um:K}=I;D&&Sc(D),L.stop(),M&&(M.active=!1,Te(Y,I,A,N)),K&&en(K,A),en(()=>{I.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},he=(I,A,N,D=!1,L=!1,M=0)=>{for(let Y=M;Y<I.length;Y++)Te(I[Y],A,N,D,L)},P=I=>I.shapeFlag&6?P(I.component.subTree):I.shapeFlag&128?I.suspense.next():y(I.anchor||I.el),Q=(I,A,N)=>{I==null?A._vnode&&Te(A._vnode,null,null,!0):T(A._vnode||null,I,A,null,null,null,N),S0(),eE(),A._vnode=I},$={p:T,um:Te,m:sn,r:pr,mt:qe,mc:tt,pc:kt,pbc:ee,n:P,o:t};let st,Dt;return e&&([st,Dt]=e($)),{render:Q,hydrate:st,createApp:jx(Q,st)}}function Di({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function wE(t,e,n=!1){const i=t.children,o=e.children;if(yt(i)&&yt(o))for(let u=0;u<i.length;u++){const c=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=Hr(o[u]),l.el=c.el),n||wE(c,l)),l.type===Sl&&(l.el=c.el)}}function zx(t){const e=t.slice(),n=[0];let i,o,u,c,l;const f=t.length;for(i=0;i<f;i++){const p=t[i];if(p!==0){if(o=n[n.length-1],t[o]<p){e[i]=o,n.push(i);continue}for(u=0,c=n.length-1;u<c;)l=u+c>>1,t[n[l]]<p?u=l+1:c=l;p<t[n[u]]&&(u>0&&(e[i]=n[u-1]),n[u]=i)}}for(u=n.length,c=n[u-1];u-- >0;)n[u]=c,c=e[c];return n}const Kx=t=>t.__isTeleport,Un=Symbol.for("v-fgt"),Sl=Symbol.for("v-txt"),Gi=Symbol.for("v-cmt"),Dp=Symbol.for("v-stc"),Iu=[];let qn=null;function Me(t=!1){Iu.push(qn=t?null:[])}function Wx(){Iu.pop(),qn=Iu[Iu.length-1]||null}let Du=1;function j0(t){Du+=t}function bE(t){return t.dynamicChildren=Du>0?qn||Ho:null,Wx(),Du>0&&qn&&qn.push(t),t}function Xe(t,e,n,i,o,u){return bE(ft(t,e,n,i,o,u,!0))}function $x(t,e,n,i,o){return bE(ve(t,e,n,i,o,!0))}function gd(t){return t?t.__v_isVNode===!0:!1}function cu(t,e){return t.type===e.type&&t.key===e.key}const Nl="__vInternal",IE=({key:t})=>t??null,xc=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ge(t)||De(t)||Et(t)?{i:Sn,r:t,k:e,f:!!n}:t:null);function ft(t,e=null,n=null,i=0,o=null,u=t===Un?0:1,c=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&IE(e),ref:e&&xc(e),scopeId:iE,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Sn};return l?(wv(f,n),u&128&&t.normalize(f)):n&&(f.shapeFlag|=ge(n)?8:16),Du>0&&!c&&qn&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&qn.push(f),f}const ve=Xx;function Xx(t,e=null,n=null,i=0,o=null,u=!1){if((!t||t===Nx)&&(t=Gi),gd(t)){const l=es(t,e,!0);return n&&wv(l,n),Du>0&&!u&&qn&&(l.shapeFlag&6?qn[qn.indexOf(t)]=l:qn.push(l)),l.patchFlag|=-2,l}if(sO(t)&&(t=t.__vccOpts),e){e=Yx(e);let{class:l,style:f}=e;l&&!ge(l)&&(e.class=sv(l)),Jt(f)&&(KI(f)&&!yt(f)&&(f=_e({},f)),e.style=ov(f))}const c=ge(t)?1:fx(t)?128:Kx(t)?64:Jt(t)?4:Et(t)?2:0;return ft(t,e,n,i,o,c,u,!0)}function Yx(t){return t?KI(t)||Nl in t?_e({},t):t:null}function es(t,e,n=!1){const{props:i,ref:o,patchFlag:u,children:c}=t,l=e?Jx(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&IE(l),ref:e&&e.ref?n&&o?yt(o)?o.concat(xc(e)):[o,xc(e)]:xc(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Un?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&es(t.ssContent),ssFallback:t.ssFallback&&es(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Hi(t=" ",e=0){return ve(Sl,null,t,e)}function Ju(t="",e=!1){return e?(Me(),$x(Gi,null,t)):ve(Gi,null,t)}function ir(t){return t==null||typeof t=="boolean"?ve(Gi):yt(t)?ve(Un,null,t.slice()):typeof t=="object"?Hr(t):ve(Sl,null,String(t))}function Hr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:es(t)}function wv(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(yt(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),wv(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Nl in e)?e._ctx=Sn:o===3&&Sn&&(Sn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Et(e)?(e={default:e,_ctx:Sn},n=32):(e=String(e),i&64?(n=16,e=[Hi(e)]):n=8);t.children=e,t.shapeFlag|=n}function Jx(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=sv([e.class,i.class]));else if(o==="style")e.style=ov([e.style,i.style]);else if(gl(o)){const u=e[o],c=i[o];c&&u!==c&&!(yt(u)&&u.includes(c))&&(e[o]=u?[].concat(u,c):c)}else o!==""&&(e[o]=i[o])}return e}function rr(t,e,n,i=null){Hn(t,e,7,[n,i])}const Qx=pE();let Zx=0;function tO(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||Qx,u={uid:Zx++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new bk(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vE(i,o),emitsOptions:rE(i,o),emit:null,emitted:null,propsDefaults:Kt,inheritAttrs:i.inheritAttrs,ctx:Kt,data:Kt,props:Kt,attrs:Kt,slots:Kt,refs:Kt,setupState:Kt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=e?e.root:u,u.emit=ox.bind(null,u),t.ce&&t.ce(u),u}let Se=null,bv,Po,V0="__VUE_INSTANCE_SETTERS__";(Po=sd()[V0])||(Po=sd()[V0]=[]),Po.push(t=>Se=t),bv=t=>{Po.length>1?Po.forEach(e=>e(t)):Po[0](t)};const ns=t=>{bv(t),t.scope.on()},Fi=()=>{Se&&Se.scope.off(),bv(null)};function EE(t){return t.vnode.shapeFlag&4}let Cu=!1;function eO(t,e=!1){Cu=e;const{props:n,children:i}=t.vnode,o=EE(t);Vx(t,n,o,e),qx(t,i);const u=o?nO(t,e):void 0;return Cu=!1,u}function nO(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=WI(new Proxy(t.ctx,Ox));const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?iO(t):null;ns(t),gs();const u=Qr(i,t,0,[t.props,o]);if(ys(),Fi(),xI(u)){if(u.then(Fi,Fi),e)return u.then(c=>{U0(t,c,e)}).catch(c=>{_l(c,t,0)});t.asyncDep=u}else U0(t,u,e)}else _E(t,e)}function U0(t,e,n){Et(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Jt(e)&&(t.setupState=JI(e)),_E(t,n)}let F0;function _E(t,e,n){const i=t.type;if(!t.render){if(!e&&F0&&!i.render){const o=i.template||gv(t).template;if(o){const{isCustomElement:u,compilerOptions:c}=t.appContext.config,{delimiters:l,compilerOptions:f}=i,p=_e(_e({isCustomElement:u,delimiters:l},c),f);i.render=F0(o,p)}}t.render=i.render||Gn}ns(t),gs(),Px(t),ys(),Fi()}function rO(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return on(t,"get","$attrs"),e[n]}}))}function iO(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return rO(t)},slots:t.slots,emit:t.emit,expose:e}}function kl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(JI(WI(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in bu)return bu[n](t)},has(e,n){return n in e||n in bu}}))}function oO(t,e=!0){return Et(t)?t.displayName||t.name:t.name||e&&t.__name}function sO(t){return Et(t)&&"__vccOpts"in t}const An=(t,e)=>Zk(t,e,Cu);function TE(t,e,n){const i=arguments.length;return i===2?Jt(e)&&!yt(e)?gd(e)?ve(t,null,[e]):ve(t,e):ve(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&gd(n)&&(n=[n]),ve(t,e,n))}const uO=Symbol.for("v-scx"),aO=()=>ar(uO),cO="3.3.4",lO="http://www.w3.org/2000/svg",Li=typeof document<"u"?document:null,q0=Li&&Li.createElement("template"),fO={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?Li.createElementNS(lO,t):Li.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>Li.createTextNode(t),createComment:t=>Li.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Li.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,u){const c=n?n.previousSibling:e.lastChild;if(o&&(o===u||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{q0.innerHTML=i?`<svg>${t}</svg>`:t;const l=q0.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}e.insertBefore(l,n)}return[c?c.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function hO(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function pO(t,e,n){const i=t.style,o=ge(n);if(n&&!o){if(e&&!ge(e))for(const u in e)n[u]==null&&yd(i,u,"");for(const u in n)yd(i,u,n[u])}else{const u=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=u)}}const B0=/\s*!important$/;function yd(t,e,n){if(yt(n))n.forEach(i=>yd(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=dO(t,e);B0.test(n)?t.setProperty(Qi(i),n.replace(B0,""),"important"):t[i]=n}}const G0=["Webkit","Moz","ms"],Cp={};function dO(t,e){const n=Cp[e];if(n)return n;let i=cr(e);if(i!=="filter"&&i in t)return Cp[e]=i;i=bl(i);for(let o=0;o<G0.length;o++){const u=G0[o]+i;if(u in t)return Cp[e]=u}return e}const H0="http://www.w3.org/1999/xlink";function vO(t,e,n,i,o){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(H0,e.slice(6,e.length)):t.setAttributeNS(H0,e,n);else{const u=wk(e);n==null||u&&!DI(n)?t.removeAttribute(e):t.setAttribute(e,u?"":n)}}function mO(t,e,n,i,o,u,c){if(e==="innerHTML"||e==="textContent"){i&&c(i,o,u),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const p=l==="OPTION"?t.getAttribute("value"):t.value,v=n??"";p!==v&&(t.value=v),n==null&&t.removeAttribute(e);return}let f=!1;if(n===""||n==null){const p=typeof t[e];p==="boolean"?n=DI(n):n==null&&p==="string"?(n="",f=!0):p==="number"&&(n=0,f=!0)}try{t[e]=n}catch{}f&&t.removeAttribute(e)}function Ro(t,e,n,i){t.addEventListener(e,n,i)}function gO(t,e,n,i){t.removeEventListener(e,n,i)}function yO(t,e,n,i,o=null){const u=t._vei||(t._vei={}),c=u[e];if(i&&c)c.value=i;else{const[l,f]=wO(e);if(i){const p=u[e]=EO(i,o);Ro(t,l,p,f)}else c&&(gO(t,l,c,f),u[e]=void 0)}}const z0=/(?:Once|Passive|Capture)$/;function wO(t){let e;if(z0.test(t)){e={};let i;for(;i=t.match(z0);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qi(t.slice(2)),e]}let Rp=0;const bO=Promise.resolve(),IO=()=>Rp||(bO.then(()=>Rp=0),Rp=Date.now());function EO(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Hn(_O(i,n.value),e,5,[i])};return n.value=t,n.attached=IO(),n}function _O(t,e){if(yt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const K0=/^on[a-z]/,TO=(t,e,n,i,o=!1,u,c,l,f)=>{e==="class"?hO(t,i,o):e==="style"?pO(t,n,i):gl(e)?ev(e)||yO(t,e,n,i,c):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):AO(t,e,i,o))?mO(t,e,i,u,c,l,f):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),vO(t,e,i,o))};function AO(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&K0.test(e)&&Et(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||K0.test(e)&&ge(n)?!1:e in t}const W0=t=>{const e=t.props["onUpdate:modelValue"]||!1;return yt(e)?n=>Sc(e,n):e};function SO(t){t.target.composing=!0}function $0(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Xo={created(t,{modifiers:{lazy:e,trim:n,number:i}},o){t._assign=W0(o);const u=i||o.props&&o.props.type==="number";Ro(t,e?"change":"input",c=>{if(c.target.composing)return;let l=t.value;n&&(l=l.trim()),u&&(l=od(l)),t._assign(l)}),n&&Ro(t,"change",()=>{t.value=t.value.trim()}),e||(Ro(t,"compositionstart",SO),Ro(t,"compositionend",$0),Ro(t,"change",$0))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:o}},u){if(t._assign=W0(u),t.composing||document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===e||(o||t.type==="number")&&od(t.value)===e))return;const c=e??"";t.value!==c&&(t.value=c)}},NO=["ctrl","shift","alt","meta"],kO={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>NO.some(n=>t[`${n}Key`]&&!e.includes(n))},Eu=(t,e)=>(n,...i)=>{for(let o=0;o<e.length;o++){const u=kO[e[o]];if(u&&u(n,e))return}return t(n,...i)},xO={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},X0=(t,e)=>n=>{if(!("key"in n))return;const i=Qi(n.key);if(e.some(o=>o===i||xO[o]===i))return t(n)},OO=_e({patchProp:TO},fO);let Y0;function PO(){return Y0||(Y0=Gx(OO))}const DO=(...t)=>{const e=PO().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=CO(i);if(!o)return;const u=e._component;!Et(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const c=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},e};function CO(t){return ge(t)?document.querySelector(t):t}const RO={class:"flex flex-col min-h-screen px-5 py-10 text-center"},LO=ft("h1",{class:"text-4xl font-bold"},[ft("span",{class:"text-primary"},"Vue"),Hi("Chat")],-1),MO=ft("div",{class:"mt-auto"}," 2023 VueChat. ",-1),jO={__name:"App",setup(t){return(e,n)=>{const i=Sx("router-view");return Me(),Xe("section",RO,[ft("div",null,[LO,ve(i)]),MO])}}};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Lo=typeof window<"u";function VO(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ft=Object.assign;function Lp(t,e){const n={};for(const i in e){const o=e[i];n[i]=Wn(o)?o.map(t):t(o)}return n}const _u=()=>{},Wn=Array.isArray,UO=/\/$/,FO=t=>t.replace(UO,"");function Mp(t,e,n="/"){let i,o={},u="",c="";const l=e.indexOf("#");let f=e.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=e.slice(0,f),u=e.slice(f+1,l>-1?l:e.length),o=t(u)),l>-1&&(i=i||e.slice(0,l),c=e.slice(l,e.length)),i=HO(i??e,n),{fullPath:i+(u&&"?")+u+c,path:i,query:o,hash:c}}function qO(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function J0(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function BO(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&rs(e.matched[i],n.matched[o])&&AE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function rs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function AE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!GO(t[n],e[n]))return!1;return!0}function GO(t,e){return Wn(t)?Q0(t,e):Wn(e)?Q0(e,t):t===e}function Q0(t,e){return Wn(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function HO(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,c,l;for(c=0;c<i.length;c++)if(l=i[c],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(c-(c===i.length?1:0)).join("/")}var Ru;(function(t){t.pop="pop",t.push="push"})(Ru||(Ru={}));var Tu;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Tu||(Tu={}));function zO(t){if(!t)if(Lo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),FO(t)}const KO=/^[^#]+#/;function WO(t,e){return t.replace(KO,"#")+e}function $O(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const xl=()=>({left:window.pageXOffset,top:window.pageYOffset});function XO(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=$O(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Z0(t,e){return(history.state?history.state.position-e:-1)+t}const wd=new Map;function YO(t,e){wd.set(t,e)}function JO(t){const e=wd.get(t);return wd.delete(t),e}let QO=()=>location.protocol+"//"+location.host;function SE(t,e){const{pathname:n,search:i,hash:o}=e,u=t.indexOf("#");if(u>-1){let l=o.includes(t.slice(u))?t.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),J0(f,"")}return J0(n,t)+i+o}function ZO(t,e,n,i){let o=[],u=[],c=null;const l=({state:y})=>{const b=SE(t,location),_=n.value,T=e.value;let O=0;if(y){if(n.value=b,e.value=y,c&&c===_){c=null;return}O=T?y.position-T.position:0}else i(b);o.forEach(x=>{x(n.value,_,{delta:O,type:Ru.pop,direction:O?O>0?Tu.forward:Tu.back:Tu.unknown})})};function f(){c=n.value}function p(y){o.push(y);const b=()=>{const _=o.indexOf(y);_>-1&&o.splice(_,1)};return u.push(b),b}function v(){const{history:y}=window;y.state&&y.replaceState(Ft({},y.state,{scroll:xl()}),"")}function m(){for(const y of u)y();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:f,listen:p,destroy:m}}function tb(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?xl():null}}function tP(t){const{history:e,location:n}=window,i={value:SE(t,n)},o={value:e.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function u(f,p,v){const m=t.indexOf("#"),y=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+f:QO()+t+f;try{e[v?"replaceState":"pushState"](p,"",y),o.value=p}catch(b){console.error(b),n[v?"replace":"assign"](y)}}function c(f,p){const v=Ft({},e.state,tb(o.value.back,f,o.value.forward,!0),p,{position:o.value.position});u(f,v,!0),i.value=f}function l(f,p){const v=Ft({},o.value,e.state,{forward:f,scroll:xl()});u(v.current,v,!0);const m=Ft({},tb(i.value,f,null),{position:v.position+1},p);u(f,m,!1),i.value=f}return{location:i,state:o,push:l,replace:c}}function eP(t){t=zO(t);const e=tP(t),n=ZO(t,e.state,e.location,e.replace);function i(u,c=!0){c||n.pauseListeners(),history.go(u)}const o=Ft({location:"",base:t,go:i,createHref:WO.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function nP(t){return typeof t=="string"||t&&typeof t=="object"}function NE(t){return typeof t=="string"||typeof t=="symbol"}const qr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},kE=Symbol("");var eb;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(eb||(eb={}));function is(t,e){return Ft(new Error,{type:t,[kE]:!0},e)}function br(t,e){return t instanceof Error&&kE in t&&(e==null||!!(t.type&e))}const nb="[^/]+?",rP={sensitive:!1,strict:!1,start:!0,end:!0},iP=/[.+*?^${}()[\]/\\]/g;function oP(t,e){const n=Ft({},rP,e),i=[];let o=n.start?"^":"";const u=[];for(const p of t){const v=p.length?[]:[90];n.strict&&!p.length&&(o+="/");for(let m=0;m<p.length;m++){const y=p[m];let b=40+(n.sensitive?.25:0);if(y.type===0)m||(o+="/"),o+=y.value.replace(iP,"\\$&"),b+=40;else if(y.type===1){const{value:_,repeatable:T,optional:O,regexp:x}=y;u.push({name:_,repeatable:T,optional:O});const R=x||nb;if(R!==nb){b+=10;try{new RegExp(`(${R})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${_}" (${R}): `+V.message)}}let G=T?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;m||(G=O&&p.length<2?`(?:/${G})`:"/"+G),O&&(G+="?"),o+=G,b+=20,O&&(b+=-8),T&&(b+=-20),R===".*"&&(b+=-50)}v.push(b)}i.push(v)}if(n.strict&&n.end){const p=i.length-1;i[p][i[p].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const c=new RegExp(o,n.sensitive?"":"i");function l(p){const v=p.match(c),m={};if(!v)return null;for(let y=1;y<v.length;y++){const b=v[y]||"",_=u[y-1];m[_.name]=b&&_.repeatable?b.split("/"):b}return m}function f(p){let v="",m=!1;for(const y of t){(!m||!v.endsWith("/"))&&(v+="/"),m=!1;for(const b of y)if(b.type===0)v+=b.value;else if(b.type===1){const{value:_,repeatable:T,optional:O}=b,x=_ in p?p[_]:"";if(Wn(x)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const R=Wn(x)?x.join("/"):x;if(!R)if(O)y.length<2&&(v.endsWith("/")?v=v.slice(0,-1):m=!0);else throw new Error(`Missing required param "${_}"`);v+=R}}return v||"/"}return{re:c,score:i,keys:u,parse:l,stringify:f}}function sP(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function uP(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const u=sP(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(rb(i))return 1;if(rb(o))return-1}return o.length-i.length}function rb(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const aP={type:0,value:""},cP=/[a-zA-Z0-9_]/;function lP(t){if(!t)return[[]];if(t==="/")return[[aP]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${p}": ${b}`)}let n=0,i=n;const o=[];let u;function c(){u&&o.push(u),u=[]}let l=0,f,p="",v="";function m(){p&&(n===0?u.push({type:0,value:p}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:p,regexp:v,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),p="")}function y(){p+=f}for(;l<t.length;){if(f=t[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(p&&m(),c()):f===":"?(m(),n=1):y();break;case 4:y(),n=i;break;case 1:f==="("?n=2:cP.test(f)?y():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+f:n=3:v+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,v="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${p}"`),m(),c(),o}function fP(t,e,n){const i=oP(lP(t.path),n),o=Ft(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function hP(t,e){const n=[],i=new Map;e=sb({strict:!1,end:!0,sensitive:!1},e);function o(v){return i.get(v)}function u(v,m,y){const b=!y,_=pP(v);_.aliasOf=y&&y.record;const T=sb(e,v),O=[_];if("alias"in v){const G=typeof v.alias=="string"?[v.alias]:v.alias;for(const V of G)O.push(Ft({},_,{components:y?y.record.components:_.components,path:V,aliasOf:y?y.record:_}))}let x,R;for(const G of O){const{path:V}=G;if(m&&V[0]!=="/"){const U=m.record.path,pt=U[U.length-1]==="/"?"":"/";G.path=m.record.path+(V&&pt+V)}if(x=fP(G,m,T),y?y.alias.push(x):(R=R||x,R!==x&&R.alias.push(x),b&&v.name&&!ob(x)&&c(v.name)),_.children){const U=_.children;for(let pt=0;pt<U.length;pt++)u(U[pt],x,y&&y.children[pt])}y=y||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&f(x)}return R?()=>{c(R)}:_u}function c(v){if(NE(v)){const m=i.get(v);m&&(i.delete(v),n.splice(n.indexOf(m),1),m.children.forEach(c),m.alias.forEach(c))}else{const m=n.indexOf(v);m>-1&&(n.splice(m,1),v.record.name&&i.delete(v.record.name),v.children.forEach(c),v.alias.forEach(c))}}function l(){return n}function f(v){let m=0;for(;m<n.length&&uP(v,n[m])>=0&&(v.record.path!==n[m].record.path||!xE(v,n[m]));)m++;n.splice(m,0,v),v.record.name&&!ob(v)&&i.set(v.record.name,v)}function p(v,m){let y,b={},_,T;if("name"in v&&v.name){if(y=i.get(v.name),!y)throw is(1,{location:v});T=y.record.name,b=Ft(ib(m.params,y.keys.filter(R=>!R.optional).map(R=>R.name)),v.params&&ib(v.params,y.keys.map(R=>R.name))),_=y.stringify(b)}else if("path"in v)_=v.path,y=n.find(R=>R.re.test(_)),y&&(b=y.parse(_),T=y.record.name);else{if(y=m.name?i.get(m.name):n.find(R=>R.re.test(m.path)),!y)throw is(1,{location:v,currentLocation:m});T=y.record.name,b=Ft({},m.params,v.params),_=y.stringify(b)}const O=[];let x=y;for(;x;)O.unshift(x.record),x=x.parent;return{name:T,path:_,params:b,matched:O,meta:vP(O)}}return t.forEach(v=>u(v)),{addRoute:u,resolve:p,removeRoute:c,getRoutes:l,getRecordMatcher:o}}function ib(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function pP(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:dP(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function dP(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function ob(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function vP(t){return t.reduce((e,n)=>Ft(e,n.meta),{})}function sb(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function xE(t,e){return e.children.some(n=>n===t||xE(t,n))}const OE=/#/g,mP=/&/g,gP=/\//g,yP=/=/g,wP=/\?/g,PE=/\+/g,bP=/%5B/g,IP=/%5D/g,DE=/%5E/g,EP=/%60/g,CE=/%7B/g,_P=/%7C/g,RE=/%7D/g,TP=/%20/g;function Iv(t){return encodeURI(""+t).replace(_P,"|").replace(bP,"[").replace(IP,"]")}function AP(t){return Iv(t).replace(CE,"{").replace(RE,"}").replace(DE,"^")}function bd(t){return Iv(t).replace(PE,"%2B").replace(TP,"+").replace(OE,"%23").replace(mP,"%26").replace(EP,"`").replace(CE,"{").replace(RE,"}").replace(DE,"^")}function SP(t){return bd(t).replace(yP,"%3D")}function NP(t){return Iv(t).replace(OE,"%23").replace(wP,"%3F")}function kP(t){return t==null?"":NP(t).replace(gP,"%2F")}function qc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function xP(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(PE," "),c=u.indexOf("="),l=qc(c<0?u:u.slice(0,c)),f=c<0?null:qc(u.slice(c+1));if(l in e){let p=e[l];Wn(p)||(p=e[l]=[p]),p.push(f)}else e[l]=f}return e}function ub(t){let e="";for(let n in t){const i=t[n];if(n=SP(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Wn(i)?i.map(u=>u&&bd(u)):[i&&bd(i)]).forEach(u=>{u!==void 0&&(e+=(e.length?"&":"")+n,u!=null&&(e+="="+u))})}return e}function OP(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Wn(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}const PP=Symbol(""),ab=Symbol(""),Ol=Symbol(""),LE=Symbol(""),Id=Symbol("");function lu(){let t=[];function e(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function zr(t,e,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((c,l)=>{const f=m=>{m===!1?l(is(4,{from:n,to:e})):m instanceof Error?l(m):nP(m)?l(is(2,{from:e,to:m})):(u&&i.enterCallbacks[o]===u&&typeof m=="function"&&u.push(m),c())},p=t.call(i&&i.instances[o],e,n,f);let v=Promise.resolve(p);t.length<3&&(v=v.then(f)),v.catch(m=>l(m))})}function jp(t,e,n,i){const o=[];for(const u of t)for(const c in u.components){let l=u.components[c];if(!(e!=="beforeRouteEnter"&&!u.instances[c]))if(DP(l)){const p=(l.__vccOpts||l)[e];p&&o.push(zr(p,n,i,u,c))}else{let f=l();o.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${u.path}"`));const v=VO(p)?p.default:p;u.components[c]=v;const y=(v.__vccOpts||v)[e];return y&&zr(y,n,i,u,c)()}))}}return o}function DP(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function cb(t){const e=ar(Ol),n=ar(LE),i=An(()=>e.resolve($e(t.to))),o=An(()=>{const{matched:f}=i.value,{length:p}=f,v=f[p-1],m=n.matched;if(!v||!m.length)return-1;const y=m.findIndex(rs.bind(null,v));if(y>-1)return y;const b=lb(f[p-2]);return p>1&&lb(v)===b&&m[m.length-1].path!==b?m.findIndex(rs.bind(null,f[p-2])):y}),u=An(()=>o.value>-1&&MP(n.params,i.value.params)),c=An(()=>o.value>-1&&o.value===n.matched.length-1&&AE(n.params,i.value.params));function l(f={}){return LP(f)?e[$e(t.replace)?"replace":"push"]($e(t.to)).catch(_u):Promise.resolve()}return{route:i,href:An(()=>i.value.href),isActive:u,isExactActive:c,navigate:l}}const CP=sE({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:cb,setup(t,{slots:e}){const n=El(cb(t)),{options:i}=ar(Ol),o=An(()=>({[fb(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[fb(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=e.default&&e.default(n);return t.custom?u:TE("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),RP=CP;function LP(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function MP(t,e){for(const n in e){const i=e[n],o=t[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Wn(o)||o.length!==i.length||i.some((u,c)=>u!==o[c]))return!1}return!0}function lb(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const fb=(t,e,n)=>t??e??n,jP=sE({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=ar(Id),o=An(()=>t.route||i.value),u=ar(ab,0),c=An(()=>{let p=$e(u);const{matched:v}=o.value;let m;for(;(m=v[p])&&!m.components;)p++;return p}),l=An(()=>o.value.matched[c.value]);kc(ab,An(()=>c.value+1)),kc(PP,l),kc(Id,o);const f=Le();return wu(()=>[f.value,l.value,t.name],([p,v,m],[y,b,_])=>{v&&(v.instances[m]=p,b&&b!==v&&p&&p===y&&(v.leaveGuards.size||(v.leaveGuards=b.leaveGuards),v.updateGuards.size||(v.updateGuards=b.updateGuards))),p&&v&&(!b||!rs(v,b)||!y)&&(v.enterCallbacks[m]||[]).forEach(T=>T(p))},{flush:"post"}),()=>{const p=o.value,v=t.name,m=l.value,y=m&&m.components[v];if(!y)return hb(n.default,{Component:y,route:p});const b=m.props[v],_=b?b===!0?p.params:typeof b=="function"?b(p):b:null,O=TE(y,Ft({},_,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(m.instances[v]=null)},ref:f}));return hb(n.default,{Component:O,route:p})||O}}});function hb(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const VP=jP;function UP(t){const e=hP(t.routes,t),n=t.parseQuery||xP,i=t.stringifyQuery||ub,o=t.history,u=lu(),c=lu(),l=lu(),f=Xk(qr);let p=qr;Lo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=Lp.bind(null,P=>""+P),m=Lp.bind(null,kP),y=Lp.bind(null,qc);function b(P,Q){let $,st;return NE(P)?($=e.getRecordMatcher(P),st=Q):st=P,e.addRoute(st,$)}function _(P){const Q=e.getRecordMatcher(P);Q&&e.removeRoute(Q)}function T(){return e.getRoutes().map(P=>P.record)}function O(P){return!!e.getRecordMatcher(P)}function x(P,Q){if(Q=Ft({},Q||f.value),typeof P=="string"){const N=Mp(n,P,Q.path),D=e.resolve({path:N.path},Q),L=o.createHref(N.fullPath);return Ft(N,D,{params:y(D.params),hash:qc(N.hash),redirectedFrom:void 0,href:L})}let $;if("path"in P)$=Ft({},P,{path:Mp(n,P.path,Q.path).path});else{const N=Ft({},P.params);for(const D in N)N[D]==null&&delete N[D];$=Ft({},P,{params:m(N)}),Q.params=m(Q.params)}const st=e.resolve($,Q),Dt=P.hash||"";st.params=v(y(st.params));const I=qO(i,Ft({},P,{hash:AP(Dt),path:st.path})),A=o.createHref(I);return Ft({fullPath:I,hash:Dt,query:i===ub?OP(P.query):P.query||{}},st,{redirectedFrom:void 0,href:A})}function R(P){return typeof P=="string"?Mp(n,P,f.value.path):Ft({},P)}function G(P,Q){if(p!==P)return is(8,{from:Q,to:P})}function V(P){return Lt(P)}function U(P){return V(Ft(R(P),{replace:!0}))}function pt(P){const Q=P.matched[P.matched.length-1];if(Q&&Q.redirect){const{redirect:$}=Q;let st=typeof $=="function"?$(P):$;return typeof st=="string"&&(st=st.includes("?")||st.includes("#")?st=R(st):{path:st},st.params={}),Ft({query:P.query,hash:P.hash,params:"path"in st?{}:P.params},st)}}function Lt(P,Q){const $=p=x(P),st=f.value,Dt=P.state,I=P.force,A=P.replace===!0,N=pt($);if(N)return Lt(Ft(R(N),{state:typeof N=="object"?Ft({},Dt,N.state):Dt,force:I,replace:A}),Q||$);const D=$;D.redirectedFrom=Q;let L;return!I&&BO(i,st,$)&&(L=is(16,{to:D,from:st}),sn(st,st,!0,!1)),(L?Promise.resolve(L):ee(D,st)).catch(M=>br(M)?br(M,2)?M:wn(M):kt(M,D,st)).then(M=>{if(M){if(br(M,2))return Lt(Ft({replace:A},R(M.to),{state:typeof M.to=="object"?Ft({},Dt,M.to.state):Dt,force:I}),Q||D)}else M=fe(D,st,!0,A,Dt);return Qt(D,st,M),M})}function tt(P,Q){const $=G(P,Q);return $?Promise.reject($):Promise.resolve()}function S(P){const Q=Or.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(P):P()}function ee(P,Q){let $;const[st,Dt,I]=FP(P,Q);$=jp(st.reverse(),"beforeRouteLeave",P,Q);for(const N of st)N.leaveGuards.forEach(D=>{$.push(zr(D,P,Q))});const A=tt.bind(null,P,Q);return $.push(A),he($).then(()=>{$=[];for(const N of u.list())$.push(zr(N,P,Q));return $.push(A),he($)}).then(()=>{$=jp(Dt,"beforeRouteUpdate",P,Q);for(const N of Dt)N.updateGuards.forEach(D=>{$.push(zr(D,P,Q))});return $.push(A),he($)}).then(()=>{$=[];for(const N of I)if(N.beforeEnter)if(Wn(N.beforeEnter))for(const D of N.beforeEnter)$.push(zr(D,P,Q));else $.push(zr(N.beforeEnter,P,Q));return $.push(A),he($)}).then(()=>(P.matched.forEach(N=>N.enterCallbacks={}),$=jp(I,"beforeRouteEnter",P,Q),$.push(A),he($))).then(()=>{$=[];for(const N of c.list())$.push(zr(N,P,Q));return $.push(A),he($)}).catch(N=>br(N,8)?N:Promise.reject(N))}function Qt(P,Q,$){l.list().forEach(st=>S(()=>st(P,Q,$)))}function fe(P,Q,$,st,Dt){const I=G(P,Q);if(I)return I;const A=Q===qr,N=Lo?history.state:{};$&&(st||A?o.replace(P.fullPath,Ft({scroll:A&&N&&N.scroll},Dt)):o.push(P.fullPath,Dt)),f.value=P,sn(P,Q,$,A),wn()}let we;function qe(){we||(we=o.listen((P,Q,$)=>{if(!Pr.listening)return;const st=x(P),Dt=pt(st);if(Dt){Lt(Ft(Dt,{replace:!0}),st).catch(_u);return}p=st;const I=f.value;Lo&&YO(Z0(I.fullPath,$.delta),xl()),ee(st,I).catch(A=>br(A,12)?A:br(A,2)?(Lt(A.to,st).then(N=>{br(N,20)&&!$.delta&&$.type===Ru.pop&&o.go(-1,!1)}).catch(_u),Promise.reject()):($.delta&&o.go(-$.delta,!1),kt(A,st,I))).then(A=>{A=A||fe(st,I,!1),A&&($.delta&&!br(A,8)?o.go(-$.delta,!1):$.type===Ru.pop&&br(A,20)&&o.go(-1,!1)),Qt(st,I,A)}).catch(_u)}))}let Je=lu(),Ot=lu(),dt;function kt(P,Q,$){wn(P);const st=Ot.list();return st.length?st.forEach(Dt=>Dt(P,Q,$)):console.error(P),Promise.reject(P)}function ke(){return dt&&f.value!==qr?Promise.resolve():new Promise((P,Q)=>{Je.add([P,Q])})}function wn(P){return dt||(dt=!P,qe(),Je.list().forEach(([Q,$])=>P?$(P):Q()),Je.reset()),P}function sn(P,Q,$,st){const{scrollBehavior:Dt}=t;if(!Lo||!Dt)return Promise.resolve();const I=!$&&JO(Z0(P.fullPath,0))||(st||!$)&&history.state&&history.state.scroll||null;return ZI().then(()=>Dt(P,Q,I)).then(A=>A&&XO(A)).catch(A=>kt(A,P,Q))}const Te=P=>o.go(P);let pr;const Or=new Set,Pr={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:O,getRoutes:T,resolve:x,options:t,push:V,replace:U,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:u.add,beforeResolve:c.add,afterEach:l.add,onError:Ot.add,isReady:ke,install(P){const Q=this;P.component("RouterLink",RP),P.component("RouterView",VP),P.config.globalProperties.$router=Q,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>$e(f)}),Lo&&!pr&&f.value===qr&&(pr=!0,V(o.location).catch(Dt=>{}));const $={};for(const Dt in qr)Object.defineProperty($,Dt,{get:()=>f.value[Dt],enumerable:!0});P.provide(Ol,Q),P.provide(LE,HI($)),P.provide(Id,f);const st=P.unmount;Or.add(P),P.unmount=function(){Or.delete(P),Or.size<1&&(p=qr,we&&we(),we=null,f.value=qr,pr=!1,dt=!1),st()}}};function he(P){return P.reduce((Q,$)=>Q.then(()=>S($)),Promise.resolve())}return Pr}function FP(t,e){const n=[],i=[],o=[],u=Math.max(e.matched.length,t.matched.length);for(let c=0;c<u;c++){const l=e.matched[c];l&&(t.matched.find(p=>rs(p,l))?i.push(l):n.push(l));const f=t.matched[c];f&&(e.matched.find(p=>rs(p,f))||o.push(f))}return[n,i,o]}function Ev(){return ar(Ol)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ed=function(t,e){return Ed=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},Ed(t,e)};function wt(t,e){Ed(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Lu=function(){return Lu=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Lu.apply(this,arguments)};function H(t,e,n,i){function o(u){return u instanceof n?u:new n(function(c){c(u)})}return new(n||(n=Promise))(function(u,c){function l(v){try{p(i.next(v))}catch(m){c(m)}}function f(v){try{p(i.throw(v))}catch(m){c(m)}}function p(v){v.done?u(v.value):o(v.value).then(l,f)}p((i=i.apply(t,e||[])).next())})}function B(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,c;return c={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function l(p){return function(v){return f([p,v])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,o&&(u=p[0]&2?o.return:p[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,p[1])).done)return u;switch(o=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){n.label=p[1];break}if(p[0]===6&&n.label<u[1]){n.label=u[1],u=p;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(p);break}u[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(v){p=[6,v],o=0}finally{i=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function _v(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ME(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,u=[],c;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){c={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return u}function qP(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ME(arguments[e]));return t}function qi(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],c=0,l=u.length;c<l;c++,o++)i[o]=u[c];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){return Mu(void 0,t)}function Mu(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)e.hasOwnProperty(i)&&(t[i]=Mu(t[i],e[i]));return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GP=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){e.resolve=n,e.reject=i})}return t.prototype.wrapCallback=function(e){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(i):e(i,o))}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zi())}function zP(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KP(){return typeof self=="object"&&self.self===self}function WP(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $P(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XP(){return zi().indexOf("Electron/")>=0}function YP(){var t=zi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JP(){return zi().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QP="FirebaseError",ZP=function(t){wt(e,t);function e(n,i,o){var u=t.call(this,i)||this;return u.code=n,u.customData=o,u.name=QP,Object.setPrototypeOf(u,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,Tv.prototype.create),u}return e}(Error),Tv=function(){function t(e,n,i){this.service=e,this.serviceName=n,this.errors=i}return t.prototype.create=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+e,c=this.errors[e],l=c?tD(c,o):"Error",f=this.serviceName+": "+l+" ("+u+").",p=new ZP(u,f,o);return p},t}();function tD(t,e){return t.replace(eD,function(n,i){var o=e[i];return o!=null?String(o):"<"+i+"?>"})}var eD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nD(t,e){var n=new rD(t,e);return n.subscribe.bind(n)}var rD=function(){function t(e,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(i)}).catch(function(o){i.error(o)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,i){var o=this,u;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");iD(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:i},u.next===void 0&&(u.next=Vp),u.error===void 0&&(u.error=Vp),u.complete===void 0&&(u.complete=Vp);var c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),c},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[e]!==void 0)try{n(i.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function iD(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&typeof t[o]=="function")return!0}return!1}function Vp(){}var Pl=function(){function t(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oD=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(e){e===void 0&&(e=Mo);var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var i=new GP;this.instancesDeferred.set(n,i);try{var o=this.getOrInitializeService(n);o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n=Lu({identifier:Mo,optional:!1},e),i=n.identifier,o=n.optional,u=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService(u);if(!c){if(o)return null;throw Error("Service "+this.name+" is not available")}return c}catch(l){if(o)return null;throw l}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,uD(e))try{this.getOrInitializeService(Mo)}catch{}try{for(var o=_v(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var c=ME(u.value,2),l=c[0],f=c[1],p=this.normalizeInstanceIdentifier(l);try{var v=this.getOrInitializeService(p);f.resolve(v)}catch{}}}catch(m){n={error:m}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Mo),this.instancesDeferred.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return H(this,void 0,void 0,function(){var e;return B(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(qP(e.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}),e.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()})))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.getOrInitializeService=function(e){var n=this.instances.get(e);return!n&&this.component&&(n=this.component.instanceFactory(this.container,sD(e)),this.instances.set(e,n)),n||null},t.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Mo:e},t}();function sD(t){return t===Mo?void 0:t}function uD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aD=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new oD(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function jn(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],c=0,l=u.length;c<l;c++,o++)i[o]=u[c];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci,Av=[],Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));var jE={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},cD=Rt.INFO,lD=(Ci={},Ci[Rt.DEBUG]="log",Ci[Rt.VERBOSE]="log",Ci[Rt.INFO]="info",Ci[Rt.WARN]="warn",Ci[Rt.ERROR]="error",Ci),fD=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=new Date().toISOString(),u=lD[e];if(u)console[u].apply(console,jn(["["+o+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},VE=function(){function t(e){this.name=e,this._logLevel=cD,this._logHandler=fD,this._userLogHandler=null,Av.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Rt))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?jE[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,jn([this,Rt.DEBUG],e)),this._logHandler.apply(this,jn([this,Rt.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,jn([this,Rt.VERBOSE],e)),this._logHandler.apply(this,jn([this,Rt.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,jn([this,Rt.INFO],e)),this._logHandler.apply(this,jn([this,Rt.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,jn([this,Rt.WARN],e)),this._logHandler.apply(this,jn([this,Rt.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,jn([this,Rt.ERROR],e)),this._logHandler.apply(this,jn([this,Rt.ERROR],e))},t}();function hD(t){Av.forEach(function(e){e.setLogLevel(t)})}function pD(t,e){for(var n=function(c){var l=null;e&&e.level&&(l=jE[e.level]),t===null?c.userLogHandler=null:c.userLogHandler=function(f,p){for(var v=[],m=2;m<arguments.length;m++)v[m-2]=arguments[m];var y=v.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");p>=(l??f.logLevel)&&t({level:Rt[p].toLowerCase(),message:y,args:v,type:f.name})}},i=0,o=Av;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br,dD=(Br={},Br["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Br["bad-app-name"]="Illegal App name: '{$appName}",Br["duplicate-app"]="Firebase App named '{$appName}' already exists",Br["app-deleted"]="Firebase App named '{$appName}' already deleted",Br["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Br["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Br),jo=new Tv("app","Firebase",dD),UE="@firebase/app",vD="0.6.12",mD="@firebase/analytics",gD="@firebase/auth",yD="@firebase/database",wD="@firebase/functions",bD="@firebase/installations",ID="@firebase/messaging",ED="@firebase/performance",_D="@firebase/remote-config",TD="@firebase/storage",AD="@firebase/firestore",SD="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,Bc="[DEFAULT]",ND=(He={},He[UE]="fire-core",He[mD]="fire-analytics",He[gD]="fire-auth",He[yD]="fire-rtdb",He[wD]="fire-fn",He[bD]="fire-iid",He[ID]="fire-fcm",He[ED]="fire-perf",He[_D]="fire-rc",He[TD]="fire-gcs",He[AD]="fire-fst",He["fire-js"]="fire-js",He[SD]="fire-js-all",He);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var os=new VE("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc=function(){function t(e,n,i){var o,u,c=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=BP(e),this.container=new aD(n.name),this._addComponent(new Pl("app",function(){return c},"PUBLIC"));try{for(var l=_v(this.firebase_.INTERNAL.components.values()),f=l.next();!f.done;f=l.next()){var p=f.value;this._addComponent(p)}}catch(v){o={error:v}}finally{try{f&&!f.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){return n===void 0&&(n=Bc),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Bc),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){os.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw jo.create("app-deleted",{appName:this.name_})},t}();Oc.prototype.name&&Oc.prototype.options||Oc.prototype.delete||console.log("dc");var kD="8.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){var e={},n=new Map,i={__esModule:!0,initializeApp:c,app:u,registerVersion:p,setLogLevel:hD,onLog:v,apps:null,SDK_VERSION:kD,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(y){delete e[y]}function u(y){if(y=y||Bc,!pb(e,y))throw jo.create("no-app",{appName:y});return e[y]}u.App=t;function c(y,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var T=b;T.name===void 0&&(T.name=Bc);var O=T.name;if(typeof O!="string"||!O)throw jo.create("bad-app-name",{appName:String(O)});if(pb(e,O))throw jo.create("duplicate-app",{appName:O});var x=new t(y,T,i);return e[O]=x,x}function l(){return Object.keys(e).map(function(y){return e[y]})}function f(y){var b,_,T=y.name;if(n.has(T))return os.debug("There were multiple attempts to register component "+T+"."),y.type==="PUBLIC"?i[T]:null;if(n.set(T,y),y.type==="PUBLIC"){var O=function(V){if(V===void 0&&(V=u()),typeof V[T]!="function")throw jo.create("invalid-app-argument",{appName:T});return V[T]()};y.serviceProps!==void 0&&Mu(O,y.serviceProps),i[T]=O,t.prototype[T]=function(){for(var V=[],U=0;U<arguments.length;U++)V[U]=arguments[U];var pt=this._getService.bind(this,T);return pt.apply(this,y.multipleInstances?V:[])}}try{for(var x=_v(Object.keys(e)),R=x.next();!R.done;R=x.next()){var G=R.value;e[G]._addComponent(y)}}catch(V){b={error:V}}finally{try{R&&!R.done&&(_=x.return)&&_.call(x)}finally{if(b)throw b.error}}return y.type==="PUBLIC"?i[T]:null}function p(y,b,_){var T,O=(T=ND[y])!==null&&T!==void 0?T:y;_&&(O+="-"+_);var x=O.match(/\s|\//),R=b.match(/\s|\//);if(x||R){var G=['Unable to register library "'+O+'" with version "'+b+'":'];x&&G.push('library name "'+O+'" contains illegal characters (whitespace or "/")'),x&&R&&G.push("and"),R&&G.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),os.warn(G.join(" "));return}f(new Pl(O+"-version",function(){return{library:O,version:b}},"VERSION"))}function v(y,b){if(y!==null&&typeof y!="function")throw jo.create("invalid-log-argument",{appName:name});pD(y,b)}function m(y,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){var t=xD(Oc);t.INTERNAL=Lu(Lu({},t.INTERNAL),{createFirebaseNamespace:FE,extendNamespace:e,createSubscribe:nD,ErrorFactory:Tv,deepExtend:Mu});function e(n){Mu(t,n)}return t}var Sv=FE();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OD=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(PD(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},t}();function PD(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e){t.INTERNAL.registerComponent(new Pl("platform-logger",function(n){return new OD(n)},"PRIVATE")),t.registerVersion(UE,vD,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(KP()&&self.firebase!==void 0){os.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var db=self.firebase.SDK_VERSION;db&&db.indexOf("LITE")>=0&&os.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var CD=Sv.initializeApp;Sv.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return zP()&&os.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),CD.apply(void 0,t)};var vt=Sv;DD(vt);var RD="firebase",LD="8.0.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vt.registerVersion(RD,LD,"app");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _d=function(t,e){return _d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},_d(t,e)};function MD(t,e){_d(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function qE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var jD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,Nv=Nv||{},bt=jD||self;function Gc(){}function Dl(t){var e=typeof t;return e!="object"?e:t?Array.isArray(t)?"array":e:"null"}function Td(t){var e=Dl(t);return e=="array"||e=="object"&&typeof t.length=="number"}function Qu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function VD(t){return Object.prototype.hasOwnProperty.call(t,Up)&&t[Up]||(t[Up]=++UD)}var Up="closure_uid_"+(1e9*Math.random()>>>0),UD=0;function FD(t,e,n){return t.call.apply(t.bind,arguments)}function qD(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function je(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?je=FD:je=qD,je.apply(null,arguments)}function mc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}var hr=Date.now;function Ye(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function ui(){this.j=this.j,this.i=this.i}var BD=0;ui.prototype.j=!1;ui.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),BD!=0)&&VD(this)};ui.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var BE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},GE=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=typeof t=="string"?t.split(""):t,u=0;u<i;u++)u in o&&e.call(n,o[u],u,t)};function GD(t){t:{for(var e=DC,n=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function vb(t){return Array.prototype.concat.apply([],arguments)}function kv(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Hc(t){return/^[\s\xa0]*$/.test(t)}var mb=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ke(t,e){return t.indexOf(e)!=-1}function Fp(t,e){return t<e?-1:t>e?1:0}var We;t:{var gb=bt.navigator;if(gb){var yb=gb.userAgent;if(yb){We=yb;break t}}We=""}function xv(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function HE(t){var e={};for(var n in t)e[n]=t[n];return e}var wb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zE(t,e){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)t[n]=i[n];for(var u=0;u<wb.length;u++)n=wb[u],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Ov(t){return Ov[" "](t),t}Ov[" "]=Gc;function HD(t,e){var n=WD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var zD=Ke(We,"Opera"),ei=Ke(We,"Trident")||Ke(We,"MSIE"),KE=Ke(We,"Edge"),Ad=KE||ei,WE=Ke(We,"Gecko")&&!(Ke(We.toLowerCase(),"webkit")&&!Ke(We,"Edge"))&&!(Ke(We,"Trident")||Ke(We,"MSIE"))&&!Ke(We,"Edge"),KD=Ke(We.toLowerCase(),"webkit")&&!Ke(We,"Edge");function $E(){var t=bt.document;return t?t.documentMode:void 0}var zc;t:{var qp="",Bp=function(){var t=We;if(WE)return/rv:([^\);]+)(\)|;)/.exec(t);if(KE)return/Edge\/([\d\.]+)/.exec(t);if(ei)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(KD)return/WebKit\/(\S+)/.exec(t);if(zD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Bp&&(qp=Bp?Bp[1]:""),ei){var Gp=$E();if(Gp!=null&&Gp>parseFloat(qp)){zc=String(Gp);break t}}zc=qp}var WD={};function XE(t){return HD(t,function(){for(var e=0,n=mb(String(zc)).split("."),i=mb(String(t)).split("."),o=Math.max(n.length,i.length),u=0;e==0&&u<o;u++){var c=n[u]||"",l=i[u]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],c[0].length==0&&l[0].length==0)break;e=Fp(c[1].length==0?0:parseInt(c[1],10),l[1].length==0?0:parseInt(l[1],10))||Fp(c[2].length==0,l[2].length==0)||Fp(c[2],l[2]),c=c[3],l=l[3]}while(e==0)}return 0<=e})}var Sd;if(bt.document&&ei){var bb=$E();Sd=bb||parseInt(zc,10)||void 0}else Sd=void 0;var YE=Sd,Pv=!ei||9<=Number(YE),$D=ei&&!XE("9"),XD=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{bt.addEventListener("test",Gc,e),bt.removeEventListener("test",Gc,e)}catch{}return t}();function Ve(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}Ve.prototype.b=function(){this.defaultPrevented=!0};function ju(t,e){if(Ve.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(WE){t:{try{Ov(e.nodeName);var o=!0;break t}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:YD[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ye(ju,Ve);var YD={2:"touch",3:"pen",4:"mouse"};ju.prototype.b=function(){ju.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$D)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch{}};var Zu="closure_listenable_"+(1e6*Math.random()|0),JD=0;function QD(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ca=o,this.key=++JD,this.Y=this.Z=!1}function Cl(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Rl(t){this.src=t,this.a={},this.b=0}Rl.prototype.add=function(t,e,n,i,o){var u=t.toString();t=this.a[u],t||(t=this.a[u]=[],this.b++);var c=kd(t,e,i,o);return-1<c?(e=t[c],n||(e.Z=!1)):(e=new QD(e,this.src,u,!!i,o),e.Z=n,t.push(e)),e};function Nd(t,e){var n=e.type;if(n in t.a){var i=t.a[n],o=BE(i,e),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(Cl(e),t.a[n].length==0&&(delete t.a[n],t.b--))}}function kd(t,e,n,i){for(var o=0;o<t.length;++o){var u=t[o];if(!u.Y&&u.listener==e&&u.capture==!!n&&u.ca==i)return o}return-1}var Dv="closure_lm_"+(1e6*Math.random()|0),Hp={};function Cv(t,e,n,i,o){if(i&&i.once)return QE(t,e,n,i,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Cv(t,e[u],n,i,o);return null}return n=Mv(n),t&&t[Zu]?t.va(e,n,Qu(i)?!!i.capture:!!i,o):JE(t,e,n,!1,i,o)}function JE(t,e,n,i,o,u){if(!e)throw Error("Invalid event type");var c=Qu(o)?!!o.capture:!!o;if(c&&!Pv)return null;var l=Lv(t);if(l||(t[Dv]=l=new Rl(t)),n=l.add(e,n,i,c,u),n.proxy)return n;if(i=ZD(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)XD||(o=c),o===void 0&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(t_(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ZD(){var t=tC,e=Pv?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function QE(t,e,n,i,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)QE(t,e[u],n,i,o);return null}return n=Mv(n),t&&t[Zu]?t.wa(e,n,Qu(i)?!!i.capture:!!i,o):JE(t,e,n,!0,i,o)}function ZE(t,e,n,i,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)ZE(t,e[u],n,i,o);else i=Qu(i)?!!i.capture:!!i,n=Mv(n),t&&t[Zu]?(t=t.c,e=String(e).toString(),e in t.a&&(u=t.a[e],n=kd(u,n,i,o),-1<n&&(Cl(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete t.a[e],t.b--)))):t&&(t=Lv(t))&&(e=t.a[e.toString()],t=-1,e&&(t=kd(e,n,i,o)),(n=-1<t?e[t]:null)&&Rv(n))}function Rv(t){if(typeof t!="number"&&t&&!t.Y){var e=t.src;if(e&&e[Zu])Nd(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(t_(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Lv(e))?(Nd(n,t),n.b==0&&(n.src=null,e[Dv]=null)):Cl(t)}}}function t_(t){return t in Hp?Hp[t]:Hp[t]="on"+t}function Ib(t,e){var n=t.listener,i=t.ca||t.src;return t.Z&&Rv(t),n.call(i,e)}function tC(t,e){if(t.Y)return!0;if(!Pv){if(!e)t:{e=["window","event"];for(var n=bt,i=0;i<e.length;i++)if(n=n[e[i]],n==null){e=null;break t}e=n}return e=new ju(e,this),Ib(t,e)}return Ib(t,new ju(e,this))}function Lv(t){return t=t[Dv],t instanceof Rl?t:null}var zp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mv(t){return Dl(t)=="function"?t:(t[zp]||(t[zp]=function(e){return t.handleEvent(e)}),t[zp])}function yn(){ui.call(this),this.c=new Rl(this),this.J=this,this.C=null}Ye(yn,ui);yn.prototype[Zu]=!0;Z=yn.prototype;Z.addEventListener=function(t,e,n,i){Cv(this,t,e,n,i)};Z.removeEventListener=function(t,e,n,i){ZE(this,t,e,n,i)};Z.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var i=t.type||t;if(typeof t=="string")t=new Ve(t,n);else if(t instanceof Ve)t.target=t.target||n;else{var o=t;t=new Ve(i,n),zE(t,o)}if(o=!0,e)for(var u=e.length-1;0<=u;u--){var c=t.a=e[u];o=gc(c,i,!0,t)&&o}if(c=t.a=n,o=gc(c,i,!0,t)&&o,o=gc(c,i,!1,t)&&o,e)for(u=0;u<e.length;u++)c=t.a=e[u],o=gc(c,i,!1,t)&&o;return o};Z.G=function(){if(yn.S.G.call(this),this.c){var t=this.c,e;for(e in t.a){for(var n=t.a[e],i=0;i<n.length;i++)Cl(n[i]);delete t.a[e],t.b--}}this.C=null};Z.va=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)};Z.wa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};function gc(t,e,n,i){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.Y&&c.capture==n){var l=c.listener,f=c.ca||c.src;c.Z&&Nd(t.c,c),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var jv=bt.JSON.stringify;function e_(){this.b=this.a=null}var n_=new(function(){function t(e,n,i){this.f=i,this.c=e,this.g=n,this.b=0,this.a=null}return t.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},t}())(function(){return new Vv},function(t){t.reset()},100);e_.prototype.add=function(t,e){var n=n_.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n};function eC(){var t=i_,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Vv(){this.next=this.b=this.a=null}Vv.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};Vv.prototype.reset=function(){this.next=this.b=this.a=null};function nC(t){bt.setTimeout(function(){throw t},0)}function r_(t,e){xd||rC(),Od||(xd(),Od=!0),i_.add(t,e)}var xd;function rC(){var t=bt.Promise.resolve(void 0);xd=function(){t.then(iC)}}var Od=!1,i_=new e_;function iC(){for(var t;t=eC();){try{t.a.call(t.b)}catch(n){nC(n)}var e=n_;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Od=!1}function Ll(t,e){yn.call(this),this.b=t||1,this.a=e||bt,this.f=je(this.Ya,this),this.g=hr()}Ye(Ll,yn);Z=Ll.prototype;Z.aa=!1;Z.M=null;Z.Ya=function(){if(this.aa){var t=hr()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Uv(this),this.start()))}};Z.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=hr())};function Uv(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}Z.G=function(){Ll.S.G.call(this),Uv(this),delete this.a};function Fv(t,e,n){if(Dl(t)=="function")n&&(t=je(t,n));else if(t&&typeof t.handleEvent=="function")t=je(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:bt.setTimeout(t,e||0)}function o_(t){t.a=Fv(function(){t.a=null,t.c&&(t.c=!1,o_(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}var oC=function(t){MD(e,t);function e(n,i,o){var u=t.call(this)||this;return u.g=o!=null?n.bind(o):n,u.h=i,u.b=null,u.c=!1,u.a=null,u}return e.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:o_(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(bt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ui);function Vu(t){ui.call(this),this.b=t,this.a={}}Ye(Vu,ui);var Eb=[];function s_(t,e,n,i){Array.isArray(n)||(n&&(Eb[0]=n.toString()),n=Eb);for(var o=0;o<n.length;o++){var u=Cv(e,n[o],i||t.handleEvent,!1,t.b||t);if(!u)break;t.a[u.key]=u}}function u_(t){xv(t.a,function(e,n){this.a.hasOwnProperty(n)&&Rv(e)},t),t.a={}}Vu.prototype.G=function(){Vu.S.G.call(this),u_(this)};Vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qv(){this.a=!0}function sC(t,e,n,i,o,u){t.info(function(){if(t.a)if(u)for(var c="",l=u.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var v=p[0];p=p[1];var m=v.split("_");c=2<=m.length&&m[1]=="type"?c+(v+"="+p+"&"):c+(v+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+`
`+n+`
`+c})}function uC(t,e,n,i,o,u,c){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+`
`+n+`
`+u+" "+c})}function qo(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+cC(t,n)+(i?" "+i:"")})}function aC(t,e){t.info(function(){return"TIMEOUT: "+e})}qv.prototype.info=function(){};function cC(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var c=1;c<o.length;c++)o[c]=""}}}}return jv(n)}catch{return e}}var _b=null;function Bv(){return _b=_b||new yn}function a_(t){Ve.call(this,"serverreachability",t)}Ye(a_,Ve);function Uu(t){var e=Bv();e.dispatchEvent(new a_(e))}function c_(t){Ve.call(this,"statevent",t)}Ye(c_,Ve);function gn(t){var e=Bv();e.dispatchEvent(new c_(e))}function l_(t){Ve.call(this,"timingevent",t)}Ye(l_,Ve);function ta(t,e){if(Dl(t)!="function")throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){t()},e)}var Ml={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},f_={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function h_(){}h_.prototype.a=null;function Tb(t){var e;return(e=t.a)||(e=t.a={}),e}function p_(){}var ea={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Gv(){Ve.call(this,"d")}Ye(Gv,Ve);function Hv(){Ve.call(this,"c")}Ye(Hv,Ve);var d_;function v_(){}Ye(v_,h_);d_=new v_;function na(t,e,n,i){this.g=t,this.c=e,this.f=n,this.T=i||1,this.J=new Vu(this),this.P=lC,t=Ad?125:void 0,this.R=new Ll(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}var lC=45e3,m_={},Pd={};Z=na.prototype;Z.setTimeout=function(t){this.P=t};function Dd(t,e,n){t.H=1,t.i=Vl(Nr(e)),t.j=n,t.I=!0,g_(t,null)}function g_(t,e){t.u=hr(),ra(t),t.l=Nr(t.i);var n=t.l,i=t.T;Array.isArray(i)||(i=[String(i)]),__(n.b,"t",i),t.D=0,t.a=q_(t.g,t.g.C?e:null),0<t.O&&(t.F=new oC(je(t.Ca,t,t.a),t.O)),s_(t.J,t.a,"readystatechange",t.Wa),e=t.B?HE(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Uu(),sC(t.c,t.m,t.l,t.f,t.T,t.j)}Z.Wa=function(t){t=t.target;var e=this.F;e&&Xr(t)==3?e.f():this.Ca(t)};Z.Ca=function(t){try{if(t==this.a)t:{var e=Xr(this.a),n=this.a.ua(),i=this.a.X();if(!(3>e||e==3&&!Ad&&!this.a.$())){this.A||e!=4||n==7||(n==8||0>=i?Uu(3):Uu(2)),jl(this);var o=this.a.X();this.N=o;var u=this.a.$();if(this.b=o==200,uC(this.c,this.m,this.l,this.f,this.T,e,o),this.b){if(this.V&&!this.C){e:{if(this.a){var c,l=this.a;if((c=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hc(c)){var f=c;break e}}f=null}if(f)qo(this.c,this.f,f,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Cd(this,f);else{this.b=!1,this.h=3,gn(12),Yo(this),Kc(this);break t}}this.I?(y_(this,e,u),Ad&&this.b&&e==3&&(s_(this.J,this.R,"tick",this.Va),this.R.start())):(qo(this.c,this.f,u,null),Cd(this,u)),e==4&&Yo(this),this.b&&!this.A&&(e==4?j_(this.g,this):(this.b=!1,ra(this)))}else o==400&&0<u.indexOf("Unknown SID")?(this.h=3,gn(12)):(this.h=0,gn(13)),Yo(this),Kc(this)}}}catch{}finally{}};function y_(t,e,n){for(var i=!0;!t.A&&t.D<n.length;){var o=fC(t,n);if(o==Pd){e==4&&(t.h=4,gn(),i=!1),qo(t.c,t.f,null,"[Incomplete Response]");break}else if(o==m_){t.h=4,gn(),qo(t.c,t.f,n,"[Invalid Chunk]"),i=!1;break}else qo(t.c,t.f,o,null),Cd(t,o)}e==4&&n.length==0&&(t.h=1,gn(),i=!1),t.b=t.b&&i,i?0<n.length&&!t.W&&(t.W=!0,e=t.g,e.a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qv(e),e.F=!0)):(qo(t.c,t.f,n,"[Invalid Chunked Response]"),Yo(t),Kc(t))}Z.Va=function(){if(this.a){var t=Xr(this.a),e=this.a.$();this.D<e.length&&(jl(this),y_(this,t,e),this.b&&t!=4&&ra(this))}};function fC(t,e){var n=t.D,i=e.indexOf(`
`,n);return i==-1?Pd:(n=Number(e.substring(n,i)),isNaN(n)?m_:(i+=1,i+n>e.length?Pd:(e=e.substr(i,n),t.D=i+n,e)))}Z.cancel=function(){this.A=!0,Yo(this)};function ra(t){t.U=hr()+t.P,w_(t,t.P)}function w_(t,e){if(t.o!=null)throw Error("WatchDog timer not null");t.o=ta(je(t.Ua,t),e)}function jl(t){t.o&&(bt.clearTimeout(t.o),t.o=null)}Z.Ua=function(){this.o=null;var t=hr();0<=t-this.U?(aC(this.c,this.l),this.H!=2&&(Uu(),gn()),Yo(this),this.h=2,Kc(this)):w_(this,this.U-t)};function Kc(t){t.g.v==0||t.A||j_(t.g,t)}function Yo(t){jl(t);var e=t.F;e&&typeof e.ja=="function"&&e.ja(),t.F=null,Uv(t.R),u_(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Cd(t,e){try{var n=t.g;if(n.v!=0&&(n.a==t||Rd(n.b,t))){if(n.I=t.N,!t.C&&Rd(n.b,t)&&n.v==3){try{var i=n.ka.a.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)Yc(n),Fl(n);else break t;Jv(n),gn(18)}}else n.oa=o[1],0<n.oa-n.P&&37500>o[2]&&n.H&&n.o==0&&!n.m&&(n.m=ta(je(n.Ra,n),6e3));if(1>=S_(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else Vi(n,11)}else if((t.C||n.a==t)&&Yc(n),!Hc(e))for(e=i=n.ka.a.parse(e),i=0;i<e.length;i++)if(o=e[i],n.P=o[0],o=o[1],n.v==2)if(o[0]=="c"){n.J=o[1],n.ga=o[2];var u=o[3];u!=null&&(n.ha=u,n.c.info("VER="+n.ha));var c=o[4];c!=null&&(n.pa=c,n.c.info("SVER="+n.pa));var l=o[5];if(l!=null&&typeof l=="number"&&0<l){var f=1.5*l;n.D=f,n.c.info("backChannelRequestTimeoutMs_="+f)}f=n;var p=t.a;if(p){var v=p.a?p.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var m=f.b;!m.a&&(Ke(v,"spdy")||Ke(v,"quic")||Ke(v,"h2"))&&(m.f=m.g,m.a=new Set,m.b&&(Wv(m,m.b),m.b=null))}if(f.A){var y=p.a?p.a.getResponseHeader("X-HTTP-Session-Id"):null;y&&(f.na=y,Yt(f.B,f.A,y))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=hr()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),f=n;var b=t;if(f.la=F_(f,f.C?f.ga:null,f.fa),b.C){N_(f.b,b);var _=b,T=f.D;T&&_.setTimeout(T),_.o&&(jl(_),ra(_)),f.a=b}else L_(f);0<n.g.length&&ql(n)}else o[0]!="stop"&&o[0]!="close"||Vi(n,7);else n.v==3&&(o[0]=="stop"||o[0]=="close"?o[0]=="stop"?Vi(n,7):Yv(n):o[0]!="noop"&&n.f&&n.f.sa(o),n.o=0)}Uu(4)}catch{}}function hC(t){if(t.K&&typeof t.K=="function")return t.K();if(typeof t=="string")return t.split("");if(Td(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return t=e}function zv(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Td(t)||typeof t=="string")GE(t,e,void 0);else{if(t.L&&typeof t.L=="function")var n=t.L();else if(t.K&&typeof t.K=="function")n=void 0;else if(Td(t)||typeof t=="string"){n=[];for(var i=t.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,t)n[i++]=o;i=hC(t),o=i.length;for(var u=0;u<o;u++)e.call(void 0,i[u],n&&n[u],t)}}function ws(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof ws)for(n=t.L(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}Z=ws.prototype;Z.K=function(){Kv(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};Z.L=function(){return Kv(this),this.a.concat()};function Kv(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Ki(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var o={};for(n=e=0;e<t.a.length;)i=t.a[e],Ki(o,i)||(t.a[n++]=i,o[i]=1),e++;t.a.length=n}}Z.get=function(t,e){return Ki(this.b,t)?this.b[t]:e};Z.set=function(t,e){Ki(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e};Z.forEach=function(t,e){for(var n=this.L(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);t.call(e,u,o,this)}};function Ki(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var b_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pC(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var u=t[n].substring(0,i);o=t[n].substring(i+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Wi(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Wi){this.a=e!==void 0?e:t.a,Wc(this,t.f),this.j=t.j,$c(this,t.c),Xc(this,t.h),this.g=t.g,e=t.b;var n=new Fu;n.c=e.c,e.a&&(n.a=new ws(e.a),n.b=e.b),Ab(this,n),this.i=t.i}else t&&(n=String(t).match(b_))?(this.a=!!e,Wc(this,n[1]||"",!0),this.j=Au(n[2]||""),$c(this,n[3]||"",!0),Xc(this,n[4]),this.g=Au(n[5]||"",!0),Ab(this,n[6]||"",!0),this.i=Au(n[7]||"")):(this.a=!!e,this.b=new Fu(null,this.a))}Wi.prototype.toString=function(){var t=[],e=this.f;e&&t.push(gu(e,Sb,!0),":");var n=this.c;return(n||e=="file")&&(t.push("//"),(e=this.j)&&t.push(gu(e,Sb,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&t.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&t.push("/"),t.push(gu(n,n.charAt(0)=="/"?yC:gC,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",gu(n,bC)),t.join("")};function Nr(t){return new Wi(t)}function Wc(t,e,n){t.f=n?Au(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $c(t,e,n){t.c=n?Au(e,!0):e}function Xc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ab(t,e,n){e instanceof Fu?(t.b=e,IC(t.b,t.a)):(n||(e=gu(e,wC)),t.b=new Fu(e,t.a))}function Yt(t,e,n){t.b.set(e,n)}function Vl(t){return Yt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^hr()).toString(36)),t}function dC(t){return t instanceof Wi?Nr(t):new Wi(t,void 0)}function vC(t,e,n,i){var o=new Wi(null,void 0);return t&&Wc(o,t),e&&$c(o,e),n&&Xc(o,n),i&&(o.g=i),o}function Au(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,mC),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Sb=/[#\/\?@]/g,gC=/[#\?:]/g,yC=/[#\?]/g,wC=/[#\?@]/g,bC=/#/g;function Fu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ai(t){t.a||(t.a=new ws,t.b=0,t.c&&pC(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Z=Fu.prototype;Z.add=function(t,e){ai(this),this.c=null,t=bs(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this};function I_(t,e){ai(t),e=bs(t,e),Ki(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Ki(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Kv(t)))}function E_(t,e){return ai(t),e=bs(t,e),Ki(t.a.b,e)}Z.forEach=function(t,e){ai(this),this.a.forEach(function(n,i){GE(n,function(o){t.call(e,o,i,this)},this)},this)};Z.L=function(){ai(this);for(var t=this.a.K(),e=this.a.L(),n=[],i=0;i<e.length;i++)for(var o=t[i],u=0;u<o.length;u++)n.push(e[i]);return n};Z.K=function(t){ai(this);var e=[];if(typeof t=="string")E_(this,t)&&(e=vb(e,this.a.get(bs(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=vb(e,t[n])}return e};Z.set=function(t,e){return ai(this),this.c=null,t=bs(this,t),E_(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this};Z.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e};function __(t,e,n){I_(t,e),0<n.length&&(t.c=null,t.a.set(bs(t,e),kv(n)),t.b+=n.length)}Z.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var i=e[n],o=encodeURIComponent(String(i));i=this.K(i);for(var u=0;u<i.length;u++){var c=o;i[u]!==""&&(c+="="+encodeURIComponent(String(i[u]))),t.push(c)}}return this.c=t.join("&")};function bs(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function IC(t,e){e&&!t.f&&(ai(t),t.c=null,t.a.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(I_(this,i),__(this,o,n))},t)),t.f=e}function EC(t,e){this.b=t,this.a=e}function T_(t){this.g=t||_C,bt.PerformanceNavigationTiming?(t=bt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(bt.ia&&bt.ia.ya&&bt.ia.ya()&&bt.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var _C=10;function A_(t){return t.b?!0:t.a?t.a.size>=t.f:!1}function S_(t){return t.b?1:t.a?t.a.size:0}function Rd(t,e){return t.b?t.b==e:t.a?t.a.has(e):!1}function Wv(t,e){t.a?t.a.add(e):t.b=e}function N_(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}T_.prototype.cancel=function(){var t,e;if(this.c=k_(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=qE(this.a.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}};function k_(t){var e,n;if(t.b!=null)return t.c.concat(t.b.s);if(t.a!=null&&t.a.size!==0){var i=t.c;try{for(var o=qE(t.a.values()),u=o.next();!u.done;u=o.next()){var c=u.value;i=i.concat(c.s)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return kv(t.c)}function $v(){}$v.prototype.stringify=function(t){return bt.JSON.stringify(t,void 0)};$v.prototype.parse=function(t){return bt.JSON.parse(t,void 0)};function TC(){this.a=new $v}function AC(t,e,n){var i=n||"";try{zv(t,function(o,u){var c=o;Qu(o)&&(c=jv(o)),e.push(i+u+"="+encodeURIComponent(c))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function SC(t,e){var n=new qv;if(bt.Image){var i=new Image;i.onload=mc(yc,n,i,"TestLoadImage: loaded",!0,e),i.onerror=mc(yc,n,i,"TestLoadImage: error",!1,e),i.onabort=mc(yc,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=mc(yc,n,i,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function yc(t,e,n,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}var NC=bt.JSON.parse;function ye(t){yn.call(this),this.headers=new ws,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=kC,this.D=this.F=!1}Ye(ye,yn);var kC="",xC=/^https?$/i,OC=["POST","PUT"];Z=ye.prototype;Z.ba=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Tb(this.H):Tb(d_),this.a.onreadystatechange=je(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(u){Nb(this,u);return}t=n||"";var o=new ws(this.headers);i&&zv(i,function(u,c){o.set(c,u)}),i=GD(o.L()),n=bt.FormData&&t instanceof bt.FormData,!(0<=BE(OC,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,c){this.a.setRequestHeader(c,u)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{P_(this),0<this.o&&((this.D=PC(this.a))?(this.a.timeout=this.o,this.a.ontimeout=je(this.xa,this)):this.m=Fv(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(u){Nb(this,u)}};function PC(t){return ei&&XE(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function DC(t){return t.toLowerCase()=="content-type"}Z.xa=function(){typeof Nv<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))};function Nb(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,x_(t),Ul(t)}function x_(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}Z.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ul(this))};Z.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ul(this,!0)),ye.S.G.call(this)};Z.za=function(){this.j||(this.A||this.l||this.g?O_(this):this.Ta())};Z.Ta=function(){O_(this)};function O_(t){if(t.b&&typeof Nv<"u"&&(!t.s[1]||Xr(t)!=4||t.X()!=2)){if(t.l&&Xr(t)==4)Fv(t.za,0,t);else if(t.dispatchEvent("readystatechange"),Xr(t)==4){t.b=!1;try{var e=t.X();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=e===0){var u=String(t.B).match(b_)[1]||null;if(!u&&bt.self&&bt.self.location){var c=bt.self.location.protocol;u=c.substr(0,c.length-1)}o=!xC.test(u?u.toLowerCase():"")}i=o}if(i)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<Xr(t)?t.a.statusText:""}catch{l=""}t.f=l+" ["+t.X()+"]",x_(t)}}finally{Ul(t)}}}}function Ul(t,e){if(t.a){P_(t);var n=t.a,i=t.s[0]?Gc:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch{}}}function P_(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(bt.clearTimeout(t.m),t.m=null)}function Xr(t){return t.a?t.a.readyState:0}Z.X=function(){try{return 2<Xr(this)?this.a.status:-1}catch{return-1}};Z.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};Z.Na=function(t){if(this.a){var e=this.a.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),NC(e)}};Z.ua=function(){return this.h};Z.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function CC(t){var e="";return xv(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function Xv(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=CC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Yt(t,e,n))}function fu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function D_(t){this.pa=0,this.g=[],this.c=new qv,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=fu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=fu("baseRetryDelayMs",5e3,t),this.Ma=fu("retryDelaySeedMs",1e4,t),this.Ja=fu("forwardChannelMaxRetries",2,t),this.ma=fu("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new T_(t&&t.concurrentRequestLimit),this.ka=new TC,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}Z=D_.prototype;Z.ha=8;Z.v=1;function Yv(t){if(C_(t),t.v==3){var e=t.R++,n=Nr(t.B);Yt(n,"SID",t.J),Yt(n,"RID",e),Yt(n,"TYPE","terminate"),ia(t,n),e=new na(t,t.c,e,void 0),e.H=2,e.i=Vl(Nr(n)),n=!1,bt.navigator&&bt.navigator.sendBeacon&&(n=bt.navigator.sendBeacon(e.i.toString(),"")),!n&&bt.Image&&(new Image().src=e.i,n=!0),n||(e.a=q_(e.g,null),e.a.ba(e.i)),e.u=hr(),ra(e)}U_(t)}function Fl(t){t.a&&(Qv(t),t.a.cancel(),t.a=null)}function C_(t){Fl(t),t.j&&(bt.clearTimeout(t.j),t.j=null),Yc(t),t.b.cancel(),t.h&&(typeof t.h=="number"&&bt.clearTimeout(t.h),t.h=null)}function Kp(t,e){t.g.push(new EC(t.La++,e)),t.v==3&&ql(t)}function ql(t){A_(t.b)||t.h||(t.h=!0,r_(t.Ba,t),t.u=0)}function RC(t,e){return S_(t.b)>=t.b.f-(t.h?1:0)?!1:t.h?(t.g=e.s.concat(t.g),!0):t.v==1||t.v==2||t.u>=(t.Ia?0:t.Ja)?!1:(t.h=ta(je(t.Ba,t,e),V_(t,t.u)),t.u++,!0)}Z.Ba=function(t){if(this.h)if(this.h=null,this.v==1){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new na(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=HE(n),zE(n,this.O)):n=this.O),this.i===null&&(e.B=n);var i;if(this.da)t:{for(var o=i=0;o<this.g.length;o++){e:{var u=this.g[o];if("__data__"in u.a&&(u=u.a.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break t}if(i===4096||o===this.g.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=R_(this,e,i),o=Nr(this.B),Yt(o,"RID",t),Yt(o,"CVER",22),this.A&&Yt(o,"X-HTTP-Session-Id",this.A),ia(this,o),this.i&&n&&Xv(o,this.i,n),Wv(this.b,e),this.Ga&&Yt(o,"TYPE","init"),this.da?(Yt(o,"$req",i),Yt(o,"SID","null"),e.V=!0,Dd(e,o,null)):Dd(e,o,i),this.v=2}}else this.v==3&&(t?kb(this,t):this.g.length==0||A_(this.b)||kb(this))};function kb(t,e){var n;e?n=e.f:n=t.R++;var i=Nr(t.B);Yt(i,"SID",t.J),Yt(i,"RID",n),Yt(i,"AID",t.P),ia(t,i),t.i&&t.l&&Xv(i,t.i,t.l),n=new na(t,t.c,n,t.u+1),t.i===null&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=R_(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Wv(t.b,n),Dd(n,i,e)}function ia(t,e){t.f&&zv({},function(n,i){Yt(e,i,n)})}function R_(t,e,n){n=Math.min(t.g.length,n);var i=t.f?je(t.f.Ha,t.f,t):null;t:for(var o=t.g,u=-1;;){var c=["count="+n];u==-1?0<n?(u=o[0].b,c.push("ofs="+u)):u=0:c.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var p=o[f].b,v=o[f].a;if(p-=u,0>p)u=Math.max(0,o[f].b-100),l=!1;else try{AC(v,c,"req"+p+"_")}catch{i&&i(v)}}if(l){i=c.join("&");break t}}return t=t.g.splice(0,n),e.s=t,i}function L_(t){t.a||t.j||(t.U=1,r_(t.Aa,t),t.o=0)}function Jv(t){return t.a||t.j||3<=t.o?!1:(t.U++,t.j=ta(je(t.Aa,t),V_(t,t.o)),t.o++,!0)}Z.Aa=function(){if(this.j=null,M_(this),this.V&&!(this.F||this.a==null||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ta(je(this.Sa,this),t)}};Z.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Fl(this),M_(this))};function Qv(t){t.s!=null&&(bt.clearTimeout(t.s),t.s=null)}function M_(t){t.a=new na(t,t.c,"rpc",t.U),t.i===null&&(t.a.B=t.l),t.a.O=0;var e=Nr(t.la);Yt(e,"RID","rpc"),Yt(e,"SID",t.J),Yt(e,"CI",t.H?"0":"1"),Yt(e,"AID",t.P),ia(t,e),Yt(e,"TYPE","xmlhttp"),t.i&&t.l&&Xv(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Vl(Nr(e)),n.j=null,n.I=!0,g_(n,t)}Z.Ra=function(){this.m!=null&&(this.m=null,Fl(this),Jv(this),gn())};function Yc(t){t.m!=null&&(bt.clearTimeout(t.m),t.m=null)}function j_(t,e){var n=null;if(t.a==e){Yc(t),Qv(t),t.a=null;var i=2}else if(Rd(t.b,e))n=e.s,N_(t.b,e),i=1;else return;if(t.I=e.N,t.v!=0){if(e.b)if(i==1){n=e.j?e.j.length:0,e=hr()-e.u;var o=t.u;i=Bv(),i.dispatchEvent(new l_(i)),ql(t)}else L_(t);else if(o=e.h,o==3||o==0&&0<t.I||!(i==1&&RC(t,e)||i==2&&Jv(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),o){case 1:Vi(t,5);break;case 4:Vi(t,10);break;case 3:Vi(t,6);break;default:Vi(t,2)}}}function V_(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Vi(t,e){if(t.c.info("Error code "+e),e==2){var n=null;t.f&&(n=null);var i=je(t.Xa,t);n||(n=new Wi("//www.google.com/images/cleardot.gif"),bt.location&&bt.location.protocol=="http"||Wc(n,"https"),Vl(n)),SC(n.toString(),i)}else gn();t.v=0,t.f&&t.f.ra(e),U_(t),C_(t)}Z.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),gn()):(this.c.info("Failed to ping google.com"),gn())};function U_(t){t.v=0,t.I=-1,t.f&&((k_(t.b).length!=0||t.g.length!=0)&&(t.b.c.length=0,kv(t.g),t.g.length=0),t.f.qa())}function F_(t,e,n){var i=dC(n);if(i.c!="")e&&$c(i,e+"."+i.c),Xc(i,i.h);else{var o=bt.location;i=vC(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.W&&xv(t.W,function(u,c){Yt(i,c,u)}),e=t.A,n=t.na,e&&n&&Yt(i,e,n),Yt(i,"VER",t.ha),ia(t,i),i}function q_(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new ye(t.Ka),e.F=t.C,e}function B_(){}Z=B_.prototype;Z.ta=function(){};Z.sa=function(){};Z.ra=function(){};Z.qa=function(){};Z.Ha=function(){};function Jc(){if(ei&&!(10<=Number(YE)))throw Error("Environmental error: no available transport.")}Jc.prototype.a=function(t,e){return new Nn(t,e)};function Nn(t,e){yn.call(this),this.a=new D_(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Hc(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hc(e)&&(this.a.A=e,t=this.b,t!==null&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new Is(this)}Ye(Nn,yn);Z=Nn.prototype;Z.addEventListener=function(t,e,n,i){Nn.S.addEventListener.call(this,t,e,n,i)};Z.removeEventListener=function(t,e,n,i){Nn.S.removeEventListener.call(this,t,e,n,i)};Z.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;gn(),t.fa=e,t.W=n||{},t.H=t.T,t.B=F_(t,null,t.fa),ql(t)};Z.close=function(){Yv(this.a)};Z.Pa=function(t){if(typeof t=="string"){var e={};e.__data__=t,Kp(this.a,e)}else this.g?(e={},e.__data__=jv(t),Kp(this.a,e)):Kp(this.a,t)};Z.G=function(){this.a.f=null,delete this.f,Yv(this.a),delete this.a,Nn.S.G.call(this)};function G_(t){Gv.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=e!==null&&t in e?e[t]:void 0):this.data=e}else this.data=t}Ye(G_,Gv);function H_(){Hv.call(this),this.status=1}Ye(H_,Hv);function Is(t){this.a=t}Ye(Is,B_);Is.prototype.ta=function(){this.a.dispatchEvent("a")};Is.prototype.sa=function(t){this.a.dispatchEvent(new G_(t))};Is.prototype.ra=function(t){this.a.dispatchEvent(new H_)};Is.prototype.qa=function(){this.a.dispatchEvent("b")};Jc.prototype.createWebChannel=Jc.prototype.a;Nn.prototype.send=Nn.prototype.Pa;Nn.prototype.open=Nn.prototype.Oa;Nn.prototype.close=Nn.prototype.close;Ml.NO_ERROR=0;Ml.TIMEOUT=8;Ml.HTTP_ERROR=6;f_.COMPLETE="complete";p_.EventType=ea;ea.OPEN="a";ea.CLOSE="b";ea.ERROR="c";ea.MESSAGE="d";yn.prototype.listen=yn.prototype.va;ye.prototype.listenOnce=ye.prototype.wa;ye.prototype.getLastError=ye.prototype.Qa;ye.prototype.getLastErrorCode=ye.prototype.ua;ye.prototype.getStatus=ye.prototype.X;ye.prototype.getResponseJson=ye.prototype.Na;ye.prototype.getResponseText=ye.prototype.$;ye.prototype.send=ye.prototype.ba;var LC=function(){return new Jc},Wp=Ml,MC=f_,wc=p_,jC=ye;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=function(t){function e(n,i){var o=this;return(o=t.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return wt(e,t),e}(Error),zn=new VE("@firebase/firestore");function Ld(){return zn.logLevel}function X(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zn.logLevel<=Rt.DEBUG){var i=e.map(Zv);zn.debug.apply(zn,qi(["Firestore (8.0.0): "+t],i))}}function le(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zn.logLevel<=Rt.ERROR){var i=e.map(Zv);zn.error.apply(zn,qi(["Firestore (8.0.0): "+t],i))}}function Md(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(zn.logLevel<=Rt.WARN){var i=e.map(Zv);zn.warn.apply(zn,qi(["Firestore (8.0.0): "+t],i))}}function Zv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.0.0) INTERNAL ASSERTION FAILED: "+t;throw le(e),new Error(e)}function lt(t,e){t||ot()}function J(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z_=function(){function t(){}return t.t=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var o=VC(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%e.length));return i},t}();function _t(t,e){return t<e?-1:t>e?1:0}function ss(t,e,n){return t.length===e.length&&t.every(function(i,o){return n(i,e[o])})}function K_(t){return t+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue=function(){function t(e){this.i=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(e))},t.prototype.toBase64=function(){return e=this.i,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.h=function(e){return _t(this.i,e.i)},t.prototype.isEqual=function(e){return this.i===e.i},t}();Ue.u=new Ue("");var tm=function(){function t(e){this.l=e}return t.fromBase64String=function(e){try{return new t(Ue.fromBase64String(e))}catch(n){throw new F(k.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Ue.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this.l.isEqual(e.l)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){if(typeof Uint8Array>"u")throw new F(k.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ob(){if(typeof atob>"u")throw new F(k.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var jd=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return wt(e,t),e.fromBase64String=function(n){Ob();try{return new e(Ue.fromBase64String(n))}catch(i){throw new F(k.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+i)}},e.fromUint8Array=function(n){return xb(),new e(Ue.fromUint8Array(n))},e.prototype.toBase64=function(){return Ob(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return xb(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tm),UC=function(t,e,n,i,o,u){this._=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=o,this.T=u},Vd=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"I",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.h=function(e){return _t(this.projectId,e.projectId)||_t(this.database,e.database)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function W_(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es=function(){function t(e,n){this.m=e,this.A=n,this.R={}}return t.prototype.get=function(e){var n=this.m(e),i=this.R[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var c=u[o],l=c[0],f=c[1];if(this.A(l,e))return f}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var i=this.m(e),o=this.R[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.A(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n])}else this.R[i]=[[e,n]]},t.prototype.delete=function(e){var n=this.m(e),i=this.R[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.A(i[o][0],e))return i.length===1?delete this.R[n]:i.splice(o,1),!0;return!1},t.prototype.forEach=function(e){oa(this.R,function(n,i){for(var o=0,u=i;o<u.length;o++){var c=u[o],l=c[0],f=c[1];e(l,f)}})},t.prototype.P=function(){return W_(this.R)},t}(),rn=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.g=function(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Nt=function(){function t(e){this.timestamp=e}return t.V=function(e){return new t(e)},t.min=function(){return new t(new rn(0,0))},t.prototype.h=function(e){return this.timestamp.g(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.p=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.v=function(){return this.timestamp},t}(),$_=function(){function t(e,n,i){n===void 0?n=0:n>e.length&&ot(),i===void 0?i=e.length-n:i>e.length-n&&ot(),this.segments=e,this.offset=n,this.S=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.S},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.D(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(i){n.push(i)}):n.push(e),this.C(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.N=function(e){return e=e===void 0?1:e,this.C(this.segments,this.offset+e,this.length-e)},t.prototype.F=function(){return this.C(this.segments,this.offset,this.length-1)},t.prototype.k=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.P=function(){return this.length===0},t.prototype.M=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.$=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])},t.prototype.L=function(){return this.segments.slice(this.offset,this.limit())},t.D=function(e,n){for(var i=Math.min(e.length,n.length),o=0;o<i;o++){var u=e.get(o),c=n.get(o);if(u<c)return-1;if(u>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Wt=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return wt(e,t),e.prototype.C=function(n,i,o){return new e(n,i,o)},e.prototype.B=function(){return this.L().join("/")},e.prototype.toString=function(){return this.B()},e.q=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,c=n;u<c.length;u++){var l=c[u];if(l.indexOf("//")>=0)throw new F(k.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new e(o)},e.U=function(){return new e([])},e}($_),FC=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$n=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return wt(e,t),e.prototype.C=function(n,i,o){return new e(n,i,o)},e.K=function(n){return FC.test(n)},e.prototype.B=function(){return this.L().map(function(n){return n=n.replace("\\","\\\\").replace("`","\\`"),e.K(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.B()},e.prototype.W=function(){return this.length===1&&this.get(0)==="__name__"},e.j=function(){return new e(["__name__"])},e.G=function(n){for(var i=[],o="",u=0,c=function(){if(o.length===0)throw new F(k.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new F(k.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[u+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new F(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(c(),u++)}if(c(),l)throw new F(k.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(i)},e.U=function(){return new e([])},e}($_),ht=function(){function t(e){this.path=e}return t.H=function(e){return new t(Wt.q(e))},t.J=function(e){return new t(Wt.q(e).N(5))},t.prototype.Y=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Wt.D(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.D=function(e,n){return Wt.D(e.path,n.path)},t.X=function(e){return e.length%2==0},t.Z=function(e){return new t(new Wt(e.slice()))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){return t==null}function Qc(t){return t===0&&1/t==-1/0}function X_(t){return typeof t=="number"&&Number.isInteger(t)&&!Qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qC=function(t,e,n,i,o,u,c){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),c===void 0&&(c=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=c,this.tt=null};function Db(t,e,n,i,o,u,c){return e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),c===void 0&&(c=null),new qC(t,e,n,i,o,u,c)}function sa(t){var e=J(t);if(e.tt===null){var n=e.path.B();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(i){return function(o){return o.field.B()+o.op.toString()+im(o.value)}(i)}).join(","),n+="|ob:",n+=e.orderBy.map(function(i){return(o=i).field.B()+o.dir;var o}).join(","),Zi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ul(e.startAt)),e.endAt&&(n+="|ub:",n+=ul(e.endAt)),e.tt=n}return e.tt}function Bl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!wR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(o=t.filters[i],u=e.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!lr(o.value,u.value))return!1;var o,u;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qb(t.startAt,e.startAt)&&Qb(t.endAt,e.endAt)}function Zc(t){return ht.X(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae,xt,Gl=function(){function t(e,n,i,o,u,c,l){u===void 0&&(u=Nt.min()),c===void 0&&(c=Nt.min()),l===void 0&&(l=Ue.u),this.target=e,this.targetId=n,this.et=i,this.sequenceNumber=o,this.nt=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=l}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),BC=function(t){this.count=t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){switch(t){case k.OK:return ot();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return ot()}}function J_(t){if(t===void 0)return le("GRPC error has no .code"),k.UNKNOWN;switch(t){case ae.OK:return k.OK;case ae.CANCELLED:return k.CANCELLED;case ae.UNKNOWN:return k.UNKNOWN;case ae.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ae.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ae.INTERNAL:return k.INTERNAL;case ae.UNAVAILABLE:return k.UNAVAILABLE;case ae.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ae.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ae.NOT_FOUND:return k.NOT_FOUND;case ae.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ae.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ae.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ae.ABORTED:return k.ABORTED;case ae.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ae.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ae.DATA_LOSS:return k.DATA_LOSS;default:return ot()}}(xt=ae||(ae={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe=function(){function t(e,n){this.D=e,this.root=n||Wr.EMPTY}return t.prototype.ot=function(e,n){return new t(this.D,this.root.ot(e,n,this.D).copy(null,null,Wr.at,null,null))},t.prototype.remove=function(e){return new t(this.D,this.root.remove(e,this.D).copy(null,null,Wr.at,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.P();){var i=this.D(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,i=this.root;!i.P();){var o=this.D(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},t.prototype.P=function(){return this.root.P()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ht=function(){return this.root.ht()},t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(e){return this.root.ut(e)},t.prototype.forEach=function(e){this.ut(function(n,i){return e(n,i),!1})},t.prototype.toString=function(){var e=[];return this.ut(function(n,i){return e.push(n+":"+i),!1}),"{"+e.join(", ")+"}"},t.prototype.lt=function(e){return this.root.lt(e)},t.prototype._t=function(){return new bc(this.root,null,this.D,!1)},t.prototype.ft=function(e){return new bc(this.root,e,this.D,!1)},t.prototype.dt=function(){return new bc(this.root,null,this.D,!0)},t.prototype.wt=function(e){return new bc(this.root,e,this.D,!0)},t}(),bc=function(){function t(e,n,i,o){this.Et=o,this.Tt=[];for(var u=1;!e.P();)if(u=n?i(e.key,n):1,o&&(u*=-1),u<0)e=this.Et?e.left:e.right;else{if(u===0){this.Tt.push(e);break}this.Tt.push(e),e=this.Et?e.right:e.left}}return t.prototype.It=function(){var e=this.Tt.pop(),n={key:e.key,value:e.value};if(this.Et)for(e=e.left;!e.P();)this.Tt.push(e),e=e.right;else for(e=e.right;!e.P();)this.Tt.push(e),e=e.left;return n},t.prototype.At=function(){return this.Tt.length>0},t.prototype.Rt=function(){if(this.Tt.length===0)return null;var e=this.Tt[this.Tt.length-1];return{key:e.key,value:e.value}},t}(),Wr=function(){function t(e,n,i,o,u){this.key=e,this.value=n,this.color=i??t.RED,this.left=o??t.EMPTY,this.right=u??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,o,u){return new t(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},t.prototype.P=function(){return!1},t.prototype.ut=function(e){return this.left.ut(e)||e(this.key,this.value)||this.right.ut(e)},t.prototype.lt=function(e){return this.right.lt(e)||e(this.key,this.value)||this.left.lt(e)},t.prototype.min=function(){return this.left.P()?this:this.left.min()},t.prototype.ht=function(){return this.min().key},t.prototype.ct=function(){return this.right.P()?this.key:this.right.ct()},t.prototype.ot=function(e,n,i){var o=this,u=i(e,o.key);return(o=u<0?o.copy(null,null,null,o.left.ot(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.ot(e,n,i))).Pt()},t.prototype.gt=function(){if(this.left.P())return t.EMPTY;var e=this;return e.left.Vt()||e.left.left.Vt()||(e=e.yt()),(e=e.copy(null,null,null,e.left.gt(),null)).Pt()},t.prototype.remove=function(e,n){var i,o=this;if(n(e,o.key)<0)o.left.P()||o.left.Vt()||o.left.left.Vt()||(o=o.yt()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.Vt()&&(o=o.bt()),o.right.P()||o.right.Vt()||o.right.left.Vt()||(o=o.vt()),n(e,o.key)===0){if(o.right.P())return t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.gt())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.Pt()},t.prototype.Vt=function(){return this.color},t.prototype.Pt=function(){var e=this;return e.right.Vt()&&!e.left.Vt()&&(e=e.St()),e.left.Vt()&&e.left.left.Vt()&&(e=e.bt()),e.left.Vt()&&e.right.Vt()&&(e=e.Dt()),e},t.prototype.yt=function(){var e=this.Dt();return e.right.left.Vt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.bt())).St()).Dt()),e},t.prototype.vt=function(){var e=this.Dt();return e.left.left.Vt()&&(e=(e=e.bt()).Dt()),e},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.Ct=function(){var e=this.Nt();return Math.pow(2,e)<=this.size+1},t.prototype.Nt=function(){if(this.Vt()&&this.left.Vt()||this.right.Vt())throw ot();var e=this.left.Nt();if(e!==this.right.Nt())throw ot();return e+(this.Vt()?0:1)},t}();Wr.EMPTY=null,Wr.RED=!0,Wr.at=!1,Wr.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ot()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,i,o,u){return this},t.prototype.ot=function(e,n,i){return new Wr(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.P=function(){return!0},t.prototype.ut=function(e){return!1},t.prototype.lt=function(e){return!1},t.prototype.ht=function(){return null},t.prototype.ct=function(){return null},t.prototype.Vt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me=function(){function t(e){this.D=e,this.data=new Fe(this.D)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.ht()},t.prototype.last=function(){return this.data.ct()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.ut(function(n,i){return e(n),!1})},t.prototype.xt=function(e,n){for(var i=this.data.ft(e[0]);i.At();){var o=i.It();if(this.D(o.key,e[1])>=0)return;n(o.key)}},t.prototype.Ft=function(e,n){var i;for(i=n!==void 0?this.data.ft(n):this.data._t();i.At();)if(!e(i.It().key))return},t.prototype.kt=function(e){var n=this.data.ft(e);return n.At()?n.It().key:null},t.prototype._t=function(){return new Cb(this.data._t())},t.prototype.ft=function(e){return new Cb(this.data.ft(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).ot(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.P=function(){return this.data.P()},t.prototype.Ot=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(i){n=n.add(i)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data._t(),i=e.data._t();n.At();){var o=n.It().key,u=i.It().key;if(this.D(o,u)!==0)return!1}return!0},t.prototype.L=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.D);return n.data=e,n},t}(),Cb=function(){function t(e){this.Mt=e}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),GC=new Fe(ht.D);function $i(){return GC}function tl(){return $i()}var HC=new Fe(ht.D);function qu(){return HC}var zC=new Fe(ht.D),KC=new me(ht.D);function Gt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=KC,i=0,o=t;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var WC=new me(_t);function Hl(){return WC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q_=function(){function t(e){this.D=e?function(n,i){return e(n,i)||ht.D(n.key,i.key)}:function(n,i){return ht.D(n.key,i.key)},this.$t=qu(),this.Lt=new Fe(this.D)}return t.Bt=function(e){return new t(e.D)},t.prototype.has=function(e){return this.$t.get(e)!=null},t.prototype.get=function(e){return this.$t.get(e)},t.prototype.first=function(){return this.Lt.ht()},t.prototype.last=function(){return this.Lt.ct()},t.prototype.P=function(){return this.Lt.P()},t.prototype.indexOf=function(e){var n=this.$t.get(e);return n?this.Lt.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.Lt.ut(function(n,i){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.$t.ot(e.key,e),n.Lt.ot(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.$t.remove(e),this.Lt.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.Lt._t(),i=e.Lt._t();n.At();){var o=n.It().key,u=i.It().key;if(!o.isEqual(u))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var i=new t;return i.D=this.D,i.$t=e,i.Lt=n,i},t}(),Rb=function(){function t(){this.qt=new Fe(ht.D)}return t.prototype.track=function(e){var n=e.doc.key,i=this.qt.get(n);i?e.type!==0&&i.type===3?this.qt=this.qt.ot(n,e):e.type===3&&i.type!==1?this.qt=this.qt.ot(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.qt=this.qt.ot(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.qt=this.qt.ot(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.qt=this.qt.remove(n):e.type===1&&i.type===2?this.qt=this.qt.ot(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.qt=this.qt.ot(n,{type:2,doc:e.doc}):ot():this.qt=this.qt.ot(n,e)},t.prototype.Ut=function(){var e=[];return this.qt.ut(function(n,i){e.push(i)}),e},t}(),el=function(){function t(e,n,i,o,u,c,l,f){this.query=e,this.docs=n,this.Kt=i,this.docChanges=o,this.Qt=u,this.fromCache=c,this.Wt=l,this.jt=f}return t.Gt=function(e,n,i,o){var u=[];return n.forEach(function(c){u.push({type:0,doc:c})}),new t(e,n,Q_.Bt(n),u,i,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Qt.P()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Wt===e.Wt&&this.Qt.isEqual(e.Qt)&&_s(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Kt.isEqual(e.Kt)))return!1;var n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},t}(),em=function(){function t(e,n,i,o,u){this.nt=e,this.zt=n,this.Ht=i,this.Jt=o,this.Yt=u}return t.Xt=function(e,n){var i=new Map;return i.set(e,nm.Zt(e,n)),new t(Nt.min(),i,Hl(),$i(),Gt())},t}(),nm=function(){function t(e,n,i,o,u){this.resumeToken=e,this.te=n,this.ee=i,this.ne=o,this.se=u}return t.Zt=function(e,n){return new t(Ue.u,n,Gt(),Gt(),Gt())},t}(),Pc=function(t,e,n,i){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=i},Z_=function(t,e){this.targetId=t,this.oe=e},t1=function(t,e,n,i){n===void 0&&(n=Ue.u),i===void 0&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},Lb=function(){function t(){this.ae=0,this.he=jb(),this.ce=Ue.u,this.ue=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return this.ae!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(e){e.o()>0&&(this.le=!0,this.ce=e)},t.prototype.we=function(){var e=Gt(),n=Gt(),i=Gt();return this.he.forEach(function(o,u){switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ot()}}),new nm(this.ce,this.ue,e,n,i)},t.prototype.Ee=function(){this.le=!1,this.he=jb()},t.prototype.Te=function(e,n){this.le=!0,this.he=this.he.ot(e,n)},t.prototype.Ie=function(e){this.le=!0,this.he=this.he.remove(e)},t.prototype.me=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.ue=!0},t}(),$C=function(){function t(e){this.Pe=e,this.ge=new Map,this.Ve=$i(),this.ye=Mb(),this.pe=new me(_t)}return t.prototype.be=function(e){for(var n=0,i=e.ie;n<i.length;n++){var o=i[n];e.re instanceof Mt?this.ve(o,e.re):e.re instanceof Ee&&this.Se(o,e.key,e.re)}for(var u=0,c=e.removedTargetIds;u<c.length;u++){var l=c[u];this.Se(l,e.key,e.re)}},t.prototype.De=function(e){var n=this;this.Ce(e,function(i){var o=n.Ne(i);switch(e.state){case 0:n.xe(i)&&o.de(e.resumeToken);break;case 1:o.Ae(),o._e||o.Ee(),o.de(e.resumeToken);break;case 2:o.Ae(),o._e||n.removeTarget(i);break;case 3:n.xe(i)&&(o.Re(),o.de(e.resumeToken));break;case 4:n.xe(i)&&(n.Fe(i),o.de(e.resumeToken));break;default:ot()}})},t.prototype.Ce=function(e,n){var i=this;e.targetIds.length>0?e.targetIds.forEach(n):this.ge.forEach(function(o,u){i.xe(u)&&n(u)})},t.prototype.ke=function(e){var n=e.targetId,i=e.oe.count,o=this.Oe(n);if(o){var u=o.target;if(Zc(u))if(i===0){var c=new ht(u.path);this.Se(n,c,new Ee(c,Nt.min()))}else lt(i===1);else this.Me(n)!==i&&(this.Fe(n),this.pe=this.pe.add(n))}},t.prototype.$e=function(e){var n=this,i=new Map;this.ge.forEach(function(c,l){var f=n.Oe(l);if(f){if(c.te&&Zc(f.target)){var p=new ht(f.target.path);n.Ve.get(p)!==null||n.Le(l,p)||n.Se(l,p,new Ee(p,e))}c.fe&&(i.set(l,c.we()),c.Ee())}});var o=Gt();this.ye.forEach(function(c,l){var f=!0;l.Ft(function(p){var v=n.Oe(p);return!v||v.et===2||(f=!1,!1)}),f&&(o=o.add(c))});var u=new em(e,i,this.pe,this.Ve,o);return this.Ve=$i(),this.ye=Mb(),this.pe=new me(_t),u},t.prototype.ve=function(e,n){if(this.xe(e)){var i=this.Le(e,n.key)?2:0;this.Ne(e).Te(n.key,i),this.Ve=this.Ve.ot(n.key,n),this.ye=this.ye.ot(n.key,this.Be(n.key).add(e))}},t.prototype.Se=function(e,n,i){if(this.xe(e)){var o=this.Ne(e);this.Le(e,n)?o.Te(n,1):o.Ie(n),this.ye=this.ye.ot(n,this.Be(n).delete(e)),i&&(this.Ve=this.Ve.ot(n,i))}},t.prototype.removeTarget=function(e){this.ge.delete(e)},t.prototype.Me=function(e){var n=this.Ne(e).we();return this.Pe.qe(e).size+n.ee.size-n.se.size},t.prototype.me=function(e){this.Ne(e).me()},t.prototype.Ne=function(e){var n=this.ge.get(e);return n||(n=new Lb,this.ge.set(e,n)),n},t.prototype.Be=function(e){var n=this.ye.get(e);return n||(n=new me(_t),this.ye=this.ye.ot(e,n)),n},t.prototype.xe=function(e){var n=this.Oe(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.Oe=function(e){var n=this.ge.get(e);return n&&n._e?null:this.Pe.Ue(e)},t.prototype.Fe=function(e){var n=this;this.ge.set(e,new Lb),this.Pe.qe(e).forEach(function(i){n.Se(e,i,null)})},t.prototype.Le=function(e,n){return this.Pe.qe(e).has(n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return new Fe(ht.D)}function jb(){return new Fe(ht.D)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function e1(t){var e=t.mapValue.fields.__previous_value__;return rm(e)?e1(e):e}function Bu(t){var e=ri(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rm(t)?4:10:ot()}function lr(t,e){var n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bu(t).isEqual(Bu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=ri(i.timestampValue),c=ri(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return as(i.bytesValue).isEqual(as(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ce(i.geoPointValue.latitude)===ce(o.geoPointValue.latitude)&&ce(i.geoPointValue.longitude)===ce(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ce(i.integerValue)===ce(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=ce(i.doubleValue),c=ce(o.doubleValue);return u===c?Qc(u)===Qc(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return ss(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:return function(i,o){var u=i.mapValue.fields||{},c=o.mapValue.fields||{};if(Pb(u)!==Pb(c))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(c[l]===void 0||!lr(u[l],c[l])))return!1;return!0}(t,e);default:return ot()}}function Gu(t,e){return(t.values||[]).find(function(n){return lr(n,e)})!==void 0}function us(t,e){var n=ni(t),i=ni(e);if(n!==i)return _t(n,i);switch(n){case 0:return 0;case 1:return _t(t.booleanValue,e.booleanValue);case 2:return function(o,u){var c=ce(o.integerValue||o.doubleValue),l=ce(u.integerValue||u.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return Vb(t.timestampValue,e.timestampValue);case 4:return Vb(Bu(t),Bu(e));case 5:return _t(t.stringValue,e.stringValue);case 6:return function(o,u){var c=as(o),l=as(u);return c.h(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){for(var c=o.split("/"),l=u.split("/"),f=0;f<c.length&&f<l.length;f++){var p=_t(c[f],l[f]);if(p!==0)return p}return _t(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){var c=_t(ce(o.latitude),ce(u.latitude));return c!==0?c:_t(ce(o.longitude),ce(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){for(var c=o.values||[],l=u.values||[],f=0;f<c.length&&f<l.length;++f){var p=us(c[f],l[f]);if(p)return p}return _t(c.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){var c=o.fields||{},l=Object.keys(c),f=u.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var v=0;v<l.length&&v<p.length;++v){var m=_t(l[v],p[v]);if(m!==0)return m;var y=us(c[l[v]],f[p[v]]);if(y!==0)return y}return _t(l.length,p.length)}(t.mapValue,e.mapValue);default:throw ot()}}function Vb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _t(t,e);var n=ri(t),i=ri(e),o=_t(n.seconds,i.seconds);return o!==0?o:_t(n.nanos,i.nanos)}function im(t){return Ud(t)}function Ud(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){var o=ri(i);return"time("+o.seconds+","+o.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?as(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ht.J(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(i){for(var o="[",u=!0,c=0,l=i.values||[];c<l.length;c++)u?u=!1:o+=",",o+=Ud(l[c]);return o+"]"}(t.arrayValue):"mapValue"in t?function(i){for(var o="{",u=!0,c=0,l=Object.keys(i.fields||{}).sort();c<l.length;c++){var f=l[c];u?u=!1:o+=",",o+=f+":"+Ud(i.fields[f])}return o+"}"}(t.mapValue):ot();var e,n}function ri(t){if(lt(!!t),typeof t=="string"){var e=0,n=XC.exec(t);if(lt(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:ce(t.seconds),nanos:ce(t.nanos)}}function ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function as(t){return typeof t=="string"?Ue.fromBase64String(t):Ue.fromUint8Array(t)}function nl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.B()}}function Fd(t){return!!t&&"integerValue"in t}function om(t){return!!t&&"arrayValue"in t}function Ub(t){return!!t&&"nullValue"in t}function Fb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sm(t){return!!t&&"mapValue"in t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YC={asc:"ASCENDING",desc:"DESCENDING"},JC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QC=function(t,e){this._=t,this.Ke=e};function n1(t){return{integerValue:""+t}}function r1(t,e){if(t.Ke){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function i1(t,e){return X_(e)?n1(e):r1(t,e)}function rl(t,e){return t.Ke?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function o1(t,e){return t.Ke?e.toBase64():e.toUint8Array()}function ZC(t,e){return rl(t,e.v())}function Bn(t){return lt(!!t),Nt.V(function(e){var n=ri(e);return new rn(n.seconds,n.nanos)}(t))}function um(t,e){return function(n){return new Wt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).B()}function s1(t){var e=Wt.q(t);return lt(h1(e)),e}function Jo(t,e){return um(t._,e.path)}function sr(t,e){var n=s1(e);return lt(n.get(1)===t._.projectId),lt(!n.get(3)&&!t._.database||n.get(3)===t._.database),new ht(a1(n))}function qd(t,e){return um(t._,e)}function u1(t){var e=s1(t);return e.length===4?Wt.U():a1(e)}function Hu(t){return new Wt(["projects",t._.projectId,"databases",t._.database]).B()}function a1(t){return lt(t.length>4&&t.get(4)==="documents"),t.N(5)}function qb(t,e,n){return{name:Jo(t,e),fields:n.proto.mapValue.fields}}function il(t,e){var n;if(e instanceof ca)n={update:qb(t,e.key,e.value)};else if(e instanceof la)n={delete:Jo(t,e.key)};else if(e instanceof ci)n={update:qb(t,e.key,e.data),updateMask:oR(e.Qe)};else if(e instanceof to)n={transform:{document:Jo(t,e.key),fieldTransforms:e.fieldTransforms.map(function(i){return function(o,u){var c=u.transform;if(c instanceof cs)return{fieldPath:u.field.B(),setToServerValue:"REQUEST_TIME"};if(c instanceof Xi)return{fieldPath:u.field.B(),appendMissingElements:{values:c.elements}};if(c instanceof Yi)return{fieldPath:u.field.B(),removeAllFromArray:{values:c.elements}};if(c instanceof ls)return{fieldPath:u.field.B(),increment:c.We};throw ot()}(0,i)})}};else{if(!(e instanceof am))return ot();n={verify:Jo(t,e.key)}}return e.Ge.je||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:ZC(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ot()}(t,e.Ge)),n}function Bb(t,e){var n=e.currentDocument?function(v){return v.updateTime!==void 0?Ce.updateTime(Bn(v.updateTime)):v.exists!==void 0?Ce.exists(v.exists):Ce.ze()}(e.currentDocument):Ce.ze();if(e.update){e.update.name;var i=sr(t,e.update.name),o=new ii({mapValue:{fields:e.update.fields}});if(e.updateMask){var u=function(v){var m=v.fieldPaths||[];return new fs(m.map(function(y){return $n.G(y)}))}(e.updateMask);return new ci(i,o,u,n)}return new ca(i,o,n)}if(e.delete){var c=sr(t,e.delete);return new la(c,n)}if(e.transform){var l=sr(t,e.transform.document),f=e.transform.fieldTransforms.map(function(v){return function(m,y){var b=null;if("setToServerValue"in y)lt(y.setToServerValue==="REQUEST_TIME"),b=new cs;else if("appendMissingElements"in y){var _=y.appendMissingElements.values||[];b=new Xi(_)}else if("removeAllFromArray"in y){var T=y.removeAllFromArray.values||[];b=new Yi(T)}else"increment"in y?b=new ls(m,y.increment):ot();var O=$n.G(y.fieldPath);return new ua(O,b)}(t,v)});return lt(n.exists===!0),new to(l,f)}if(e.verify){var p=sr(t,e.verify);return new am(p,n)}return ot()}function c1(t,e){return{documents:[qd(t,e.path)]}}function l1(t,e){var n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=qd(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qd(t,i.F()),n.structuredQuery.from=[{collectionId:i.O()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(v){if(v.op==="=="){if(Fb(v.value))return{unaryFilter:{field:Do(v.field),op:"IS_NAN"}};if(Ub(v.value))return{unaryFilter:{field:Do(v.field),op:"IS_NULL"}}}else if(v.op==="!="){if(Fb(v.value))return{unaryFilter:{field:Do(v.field),op:"IS_NOT_NAN"}};if(Ub(v.value))return{unaryFilter:{field:Do(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(v.field),op:nR(v.op),value:v.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(e.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:Do(p.field),direction:eR(p.dir)}}(f)})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);var c=function(l,f){return l.Ke||Zi(f)?f:{value:f}}(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=Gb(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Gb(e.endAt)),n}function tR(t){var e=u1(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){lt(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}var c=[];n.where&&(c=f1(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(m){return function(y){return new Qo(Bo(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m)}));var f=null;n.limit&&(f=function(m){var y;return Zi(y=typeof m=="object"?m.value:m)?null:y}(n.limit));var p=null;n.startAt&&(p=Hb(n.startAt));var v=null;return n.endAt&&(v=Hb(n.endAt)),fr(I1(e,o,l,c,f,"F",p,v))}function f1(t){return t?t.unaryFilter!==void 0?[iR(t)]:t.fieldFilter!==void 0?[rR(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return f1(e)}).reduce(function(e,n){return e.concat(n)}):ot():[]}function Gb(t){return{before:t.before,values:t.position}}function Hb(t){var e=!!t.before,n=t.values||[];return new zu(n,e)}function eR(t){return YC[t]}function nR(t){return JC[t]}function Do(t){return{fieldPath:t.B()}}function Bo(t){return $n.G(t.fieldPath)}function rR(t){return vn.create(Bo(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ot()}}(t.fieldFilter.op),t.fieldFilter.value)}function iR(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Bo(t.unaryFilter.field);return vn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Bo(t.unaryFilter.field);return vn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Bo(t.unaryFilter.field);return vn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Bo(t.unaryFilter.field);return vn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ot()}}function oR(t){var e=[];return t.fields.forEach(function(n){return e.push(n.B())}),{fieldPaths:e}}function h1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zl=function(){this.He=void 0};function sR(t,e,n){return t instanceof cs?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof Xi?d1(t,e):t instanceof Yi?v1(t,e):function(i,o){var u=p1(i,o),c=zb(u)+zb(i.We);return Fd(u)&&Fd(i.We)?n1(c):r1(i.serializer,c)}(t,e)}function uR(t,e,n){return t instanceof Xi?d1(t,e):t instanceof Yi?v1(t,e):n}function p1(t,e){return t instanceof ls?Fd(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}var cs=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return wt(e,t),e}(zl),Xi=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return wt(e,t),e}(zl);function d1(t,e){for(var n=m1(e),i=function(c){n.some(function(l){return lr(l,c)})||n.push(c)},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Yi=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return wt(e,t),e}(zl);function v1(t,e){for(var n=m1(e),i=function(c){n=n.filter(function(l){return!lr(l,c)})},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var ls=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).serializer=n,o.We=i,o}return wt(e,t),e}(zl);function zb(t){return ce(t.integerValue||t.doubleValue)}function m1(t){return om(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fs=function(){function t(e){this.fields=e,e.sort($n.D)}return t.prototype.Je=function(e){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].M(e))return!0;return!1},t.prototype.isEqual=function(e){return ss(this.fields,e.fields,function(n,i){return n.isEqual(i)})},t}(),ua=function(t,e){this.field=t,this.transform=e},aR=function(t,e){this.version=t,this.transformResults=e},Ce=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"je",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Go(t,e){return t.updateTime!==void 0?e instanceof Mt&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e instanceof Mt}var aa=function(){};function cR(t,e,n){return t instanceof ca?function(i,o,u){return new Mt(i.key,u.version,i.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof ci?function(i,o,u){if(!Go(i.Ge,o))return new ol(i.key,u.version);var c=g1(i,o);return new Mt(i.key,u.version,c,{hasCommittedMutations:!0})}(t,e,n):t instanceof to?function(i,o,u){if(lt(u.transformResults!=null),!Go(i.Ge,o))return new ol(i.key,u.version);var c=y1(i,o),l=function(v,m,y){var b=[];lt(v.length===y.length);for(var _=0;_<y.length;_++){var T=v[_],O=T.transform,x=null;m instanceof Mt&&(x=m.field(T.field)),b.push(uR(O,x,y[_]))}return b}(i.fieldTransforms,o,u.transformResults),f=u.version,p=w1(i,c.data(),l);return new Mt(i.key,f,p,{hasCommittedMutations:!0})}(t,e,n):function(i,o,u){return new Ee(i.key,u.version,{hasCommittedMutations:!0})}(t,0,n)}function Bd(t,e,n,i){return t instanceof ca?function(o,u){if(!Go(o.Ge,u))return u;var c=Wb(u);return new Mt(o.key,c,o.value,{Ye:!0})}(t,e):t instanceof ci?function(o,u){if(!Go(o.Ge,u))return u;var c=Wb(u),l=g1(o,u);return new Mt(o.key,c,l,{Ye:!0})}(t,e):t instanceof to?function(o,u,c,l){if(!Go(o.Ge,u))return u;var f=y1(o,u),p=function(m,y,b,_){for(var T=[],O=0,x=m;O<x.length;O++){var R=x[O],G=R.transform,V=null;b instanceof Mt&&(V=b.field(R.field)),V===null&&_ instanceof Mt&&(V=_.field(R.field)),T.push(sR(G,V,y))}return T}(o.fieldTransforms,c,u,l),v=w1(o,f.data(),p);return new Mt(o.key,f.version,v,{Ye:!0})}(t,e,i,n):function(o,u){return Go(o.Ge,u)?new Ee(o.key,Nt.min()):u}(t,e)}function lR(t,e){return t instanceof to?function(n,i){for(var o=null,u=0,c=n.fieldTransforms;u<c.length;u++){var l=c[u],f=i instanceof Mt?i.field(l.field):void 0,p=p1(l.transform,f||null);p!=null&&(o=o==null?new fa().set(l.field,p):o.set(l.field,p))}return o?o.Xe():null}(t,e):null}function Kb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(t.type===0?t.value.isEqual(e.value):t.type===1?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):t.type!==2||ss(t.fieldTransforms,t.fieldTransforms,function(n,i){return function(o,u){return o.field.isEqual(u.field)&&function(c,l){return c instanceof Xi&&l instanceof Xi||c instanceof Yi&&l instanceof Yi?ss(c.elements,l.elements,lr):c instanceof ls&&l instanceof ls?lr(c.We,l.We):c instanceof cs&&l instanceof cs}(o.transform,u.transform)}(n,i)}))}function Wb(t){return t instanceof Mt?t.version:Nt.min()}var ca=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).key=n,u.value=i,u.Ge=o,u.type=0,u}return wt(e,t),e}(aa),ci=function(t){function e(n,i,o,u){var c=this;return(c=t.call(this)||this).key=n,c.data=i,c.Qe=o,c.Ge=u,c.type=1,c}return wt(e,t),e}(aa);function g1(t,e){return function(n,i){var o=new fa(i);return n.Qe.fields.forEach(function(u){if(!u.P()){var c=n.data.field(u);c!==null?o.set(u,c):o.delete(u)}}),o.Xe()}(t,e instanceof Mt?e.data():ii.empty())}var to=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.fieldTransforms=i,o.type=2,o.Ge=Ce.exists(!0),o}return wt(e,t),e}(aa);function y1(t,e){return e}function w1(t,e,n){for(var i=new fa(e),o=0;o<t.fieldTransforms.length;o++){var u=t.fieldTransforms[o];i.set(u.field,n[o])}return i.Xe()}var la=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.Ge=i,o.type=3,o}return wt(e,t),e}(aa),am=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.Ge=i,o.type=4,o}return wt(e,t),e}(aa),ii=function(){function t(e){this.proto=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.P())return this.proto;for(var n=this.proto,i=0;i<e.length-1;++i)if(!n.mapValue.fields||!sm(n=n.mapValue.fields[e.get(i)]))return null;return(n=(n.mapValue.fields||{})[e.O()])||null},t.prototype.isEqual=function(e){return lr(this.proto,e.proto)},t}(),fa=function(){function t(e){e===void 0&&(e=ii.empty()),this.Ze=e,this.tn=new Map}return t.prototype.set=function(e,n){return this.en(e,n),this},t.prototype.delete=function(e){return this.en(e,null),this},t.prototype.en=function(e,n){for(var i=this.tn,o=0;o<e.length-1;++o){var u=e.get(o),c=i.get(u);c instanceof Map?i=c:c&&ni(c)===10?(c=new Map(Object.entries(c.mapValue.fields||{})),i.set(u,c),i=c):(c=new Map,i.set(u,c),i=c)}i.set(e.O(),n)},t.prototype.Xe=function(){var e=this.nn($n.U(),this.tn);return e!=null?new ii(e):this.Ze},t.prototype.nn=function(e,n){var i=this,o=!1,u=this.Ze.field(e),c=sm(u)?Object.assign({},u.mapValue.fields):{};return n.forEach(function(l,f){if(l instanceof Map){var p=i.nn(e.child(f),l);p!=null&&(c[f]=p,o=!0)}else l!==null?(c[f]=l,o=!0):c.hasOwnProperty(f)&&(delete c[f],o=!0)}),o?{mapValue:{fields:c}}:null},t}();function b1(t){var e=[];return oa(t.fields||{},function(n,i){var o=new $n([n]);if(sm(i)){var u=b1(i.mapValue).fields;if(u.length===0)e.push(o);else for(var c=0,l=u;c<l.length;c++){var f=l[c];e.push(o.child(f))}}else e.push(o)}),new fs(e)}var cm=function(t,e){this.key=t,this.version=e},Mt=function(t){function e(n,i,o,u){var c=this;return(c=t.call(this,n,i)||this).sn=o,c.Ye=!!u.Ye,c.hasCommittedMutations=!!u.hasCommittedMutations,c}return wt(e,t),e.prototype.field=function(n){return this.sn.field(n)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Ye===n.Ye&&this.hasCommittedMutations===n.hasCommittedMutations&&this.sn.isEqual(n.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(cm),Ee=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i)||this).hasCommittedMutations=!(!o||!o.hasCommittedMutations),u}return wt(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(cm),ol=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return wt(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(cm),kr=function(t,e,n,i,o,u,c,l){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),c===void 0&&(c=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=i,this.limit=o,this.an=u,this.startAt=c,this.endAt=l,this.hn=null,this.cn=null,this.startAt,this.endAt};function I1(t,e,n,i,o,u,c,l){return new kr(t,e,n,i,o,u,c,l)}function ha(t){return new kr(t)}function Dc(t){return!Zi(t.limit)&&t.an==="F"}function sl(t){return!Zi(t.limit)&&t.an==="L"}function Gd(t){return t.on.length>0?t.on[0].field:null}function Hd(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.un())return i.field}return null}function lm(t){return t.collectionGroup!==null}function hs(t){var e=J(t);if(e.hn===null){e.hn=[];var n=Hd(e),i=Gd(e);if(n!==null&&i===null)n.W()||e.hn.push(new Qo(n)),e.hn.push(new Qo($n.j(),"asc"));else{for(var o=!1,u=0,c=e.on;u<c.length;u++){var l=c[u];e.hn.push(l),l.field.W()&&(o=!0)}if(!o){var f=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.hn.push(new Qo($n.j(),f))}}}return e.hn}function fr(t){var e=J(t);if(!e.cn)if(e.an==="F")e.cn=Db(e.path,e.collectionGroup,hs(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,o=hs(e);i<o.length;i++){var u=o[i],c=u.dir==="desc"?"asc":"desc";n.push(new Qo(u.field,c))}var l=e.endAt?new zu(e.endAt.position,!e.endAt.before):null,f=e.startAt?new zu(e.startAt.position,!e.startAt.before):null;e.cn=Db(e.path,e.collectionGroup,n,e.filters,e.limit,l,f)}return e.cn}function $b(t,e,n){return new kr(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xb(t,e){return new kr(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Yb(t,e){return new kr(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function _s(t,e){return Bl(fr(t),fr(e))&&t.an===e.an}function E1(t){return sa(fr(t))+"|lt:"+t.an}function zd(t){return"Query(target="+function(e){var n=e.path.B();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(i){return(o=i).field.B()+" "+o.op+" "+im(o.value);var o}).join(", ")+"]"),Zi(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(i){return(o=i).field.B()+" ("+o.dir+")";var o}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+ul(e.startAt)),e.endAt&&(n+=", endAt: "+ul(e.endAt)),"Target("+n+")"}(fr(t))+"; limitType="+t.an+")"}function pa(t,e){return function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.Y(n.collectionGroup)&&n.path.M(o):ht.X(n.path)?n.path.isEqual(o):n.path.$(o)}(t,e)&&function(n,i){for(var o=0,u=n.on;o<u.length;o++){var c=u[o];if(!c.field.W()&&i.field(c.field)===null)return!1}return!0}(t,e)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!Jb(n.startAt,hs(n),i))&&(!n.endAt||!Jb(n.endAt,hs(n),i))}(t,e)}function _1(t){return function(e,n){for(var i=!1,o=0,u=hs(t);o<u.length;o++){var c=u[o],l=yR(c,e,n);if(l!==0)return l;i=i||c.field.W()}return 0}}var vn=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).field=n,u.op=i,u.value=o,u}return wt(e,t),e.create=function(n,i,o){return n.W()?i==="in"||i==="not-in"?this.ln(n,i,o):new fR(n,i,o):i==="array-contains"?new dR(n,o):i==="in"?new vR(n,o):i==="not-in"?new mR(n,o):i==="array-contains-any"?new gR(n,o):new e(n,i,o)},e.ln=function(n,i,o){return i==="in"?new hR(n,o):new pR(n,o)},e.prototype.matches=function(n){var i=n.field(this.field);return this.op==="!="?i!==null&&this._n(us(i,this.value)):i!==null&&ni(this.value)===ni(i)&&this._n(us(i,this.value))},e.prototype._n=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ot()}},e.prototype.un=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),fR=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,o)||this).key=ht.J(o.referenceValue),u}return wt(e,t),e.prototype.matches=function(n){var i=ht.D(n.key,this.key);return this._n(i)},e}(vn),hR=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"in",i)||this).keys=T1("in",i),o}return wt(e,t),e.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},e}(vn),pR=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"not-in",i)||this).keys=T1("not-in",i),o}return wt(e,t),e.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},e}(vn);function T1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return ht.J(i.referenceValue)})}var dR=function(t){function e(n,i){return t.call(this,n,"array-contains",i)||this}return wt(e,t),e.prototype.matches=function(n){var i=n.field(this.field);return om(i)&&Gu(i.arrayValue,this.value)},e}(vn),vR=function(t){function e(n,i){return t.call(this,n,"in",i)||this}return wt(e,t),e.prototype.matches=function(n){var i=n.field(this.field);return i!==null&&Gu(this.value.arrayValue,i)},e}(vn),mR=function(t){function e(n,i){return t.call(this,n,"not-in",i)||this}return wt(e,t),e.prototype.matches=function(n){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.field(this.field);return i!==null&&!Gu(this.value.arrayValue,i)},e}(vn),gR=function(t){function e(n,i){return t.call(this,n,"array-contains-any",i)||this}return wt(e,t),e.prototype.matches=function(n){var i=this,o=n.field(this.field);return!(!om(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Gu(i.value.arrayValue,u)})},e}(vn),zu=function(t,e){this.position=t,this.before=e};function ul(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return im(e)}).join(",")}function Jb(t,e,n){for(var i=0,o=0;o<t.position.length;o++){var u=e[o],c=t.position[o];if(i=u.field.W()?ht.D(ht.J(c.referenceValue),n.key):us(c,n.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return t.before?i<=0:i<0}function Qb(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}var Qo=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function yR(t,e,n){var i=t.field.W()?ht.D(e.key,n.key):function(o,u,c){var l=u.field(o),f=c.field(o);return l!==null&&f!==null?us(l,f):ot()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}function wR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},fm=function(){function t(e,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.fn=e,this.dn=n,this.wn=i,this.En=o,this.Tn=u,this.In=0,this.mn=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.In=0},t.prototype.Rn=function(){this.In=this.Tn},t.prototype.Pn=function(e){var n=this;this.cancel();var i=Math.floor(this.In+this.gn()),o=Math.max(0,Date.now()-this.An),u=Math.max(0,i-o);u>0&&X("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.In+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.mn=this.fn.Vn(this.dn,u,function(){return n.An=Date.now(),e()}),this.In*=this.En,this.In<this.wn&&(this.In=this.wn),this.In>this.Tn&&(this.In=this.Tn)},t.prototype.yn=function(){this.mn!==null&&(this.mn.pn(),this.mn=null)},t.prototype.cancel=function(){this.mn!==null&&(this.mn.cancel(),this.mn=null)},t.prototype.gn=function(){return(Math.random()-.5)*this.In},t}(),z=function(){function t(e){var n=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,e(function(i){n.Sn=!0,n.result=i,n.bn&&n.bn(i)},function(i){n.Sn=!0,n.error=i,n.vn&&n.vn(i)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var i=this;return this.Dn&&ot(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t(function(o,u){i.bn=function(c){i.Nn(e,c).next(o,u)},i.vn=function(c){i.Cn(n,c).next(o,u)}})},t.prototype.xn=function(){var e=this;return new Promise(function(n,i){e.next(n,i)})},t.prototype.Fn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.Nn=function(e,n){return e?this.Fn(function(){return e(n)}):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.Fn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,i){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.kn=function(e){return new t(function(n,i){var o=0,u=0,c=!1;e.forEach(function(l){++o,l.next(function(){++u,c&&u===o&&n()},function(f){return i(f)})}),c=!0,u===o&&n()})},t.On=function(e){for(var n=t.resolve(!1),i=function(c){n=n.next(function(l){return l?t.resolve(l):c()})},o=0,u=e;o<u.length;o++)i(u[o]);return n},t.forEach=function(e,n){var i=this,o=[];return e.forEach(function(u,c){o.push(n.call(i,u,c))}),this.kn(o)},t}(),Zo=function(){function t(e,n,i){this.name=e,this.version=n,this.Mn=i,t.$n(zi())===12.2&&le("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return X("SimpleDb","Removing database:",e),Mi(window.indexedDB.deleteDatabase(e)).xn()},t.Ln=function(){if(typeof indexedDB>"u")return!1;if(t.Bn())return!0;var e=zi(),n=t.$n(e),i=0<n&&n<10,o=t.qn(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)},t.Bn=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Un)==="YES"},t.Kn=function(e,n){return e.store(n)},t.$n=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.qn=function(e){var n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.Qn=function(e){return H(this,void 0,void 0,function(){var n,i=this;return B(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(X("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,c){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var p=f.target.result;u(p)},l.onblocked=function(){c(new Su(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?c(new F(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c(new Su(e,p))},l.onupgradeneeded=function(f){X("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;i.Mn.createOrUpgrade(p,l.transaction,f.oldVersion,i.version).next(function(){X("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(u){return i.Wn(u)}),this.db)]}})})},t.prototype.jn=function(e){this.Wn=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,i,o){return H(this,void 0,void 0,function(){var u,c,l,f,p;return B(this,function(v){switch(v.label){case 0:u=n==="readonly",c=0,l=function(){var m,y,b,_,T;return B(this,function(O){switch(O.label){case 0:++c,O.label=1;case 1:return O.trys.push([1,4,,5]),[4,f.Qn(e)];case 2:return f.db=O.sent(),m=A1.open(f.db,e,u?"readonly":"readwrite",i),y=o(m).catch(function(x){return m.abort(x),z.reject(x)}).xn(),b={},y.catch(function(){}),[4,m.Gn];case 3:return[2,(b.value=(O.sent(),y),b)];case 4:return _=O.sent(),T=_.name!=="FirebaseError"&&c<3,X("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,v.label=1;case 1:return[5,l()];case 2:if(typeof(p=v.sent())=="object")return[2,p.value];v.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),bR=function(){function t(e){this.zn=e,this.Hn=!1,this.Jn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Yn",{get:function(){return this.Jn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.zn=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(e){this.Jn=e},t.prototype.delete=function(){return Mi(this.zn.delete())},t}(),Su=function(t){function e(n,i){var o=this;return(o=t.call(this,k.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return wt(e,t),e}(F);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){return t.name==="IndexedDbTransactionError"}var A1=function(){function t(e,n){var i=this;this.action=e,this.transaction=n,this.aborted=!1,this.Zn=new hn,this.transaction.oncomplete=function(){i.Zn.resolve()},this.transaction.onabort=function(){n.error?i.Zn.reject(new Su(e,n.error)):i.Zn.resolve()},this.transaction.onerror=function(o){var u=hm(o.target.error);i.Zn.reject(new Su(e,u))}}return t.open=function(e,n,i,o){try{return new t(n,e.transaction(o,i))}catch(u){throw new Su(n,u)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.Zn.reject(e),this.aborted||(X("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new IR(n)},t}(),IR=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var i;return n!==void 0?(X("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(X("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Mi(i)},t.prototype.add=function(e){return X("SimpleDb","ADD",this.store.name,e,e),Mi(this.store.add(e))},t.prototype.get=function(e){var n=this;return Mi(this.store.get(e)).next(function(i){return i===void 0&&(i=null),X("SimpleDb","GET",n.store.name,e,i),i})},t.prototype.delete=function(e){return X("SimpleDb","DELETE",this.store.name,e),Mi(this.store.delete(e))},t.prototype.count=function(){return X("SimpleDb","COUNT",this.store.name),Mi(this.store.count())},t.prototype.ts=function(e,n){var i=this.cursor(this.options(e,n)),o=[];return this.es(i,function(u,c){o.push(c)}).next(function(){return o})},t.prototype.ns=function(e,n){X("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,n);i.ss=!1;var o=this.cursor(i);return this.es(o,function(u,c,l){return l.delete()})},t.prototype.rs=function(e,n){var i;n?i=e:(i={},n=e);var o=this.cursor(i);return this.es(o,n)},t.prototype.os=function(e){var n=this.cursor({});return new z(function(i,o){n.onerror=function(u){var c=hm(u.target.error);o(c)},n.onsuccess=function(u){var c=u.target.result;c?e(c.primaryKey,c.value).next(function(l){l?c.continue():i()}):i()}})},t.prototype.es=function(e,n){var i=[];return new z(function(o,u){e.onerror=function(c){u(c.target.error)},e.onsuccess=function(c){var l=c.target.result;if(l){var f=new bR(l),p=n(l.primaryKey,l.value,f);if(p instanceof z){var v=p.catch(function(m){return f.done(),z.reject(m)});i.push(v)}f.Sn?o():f.Yn===null?l.continue():l.continue(f.Yn)}else o()}}).next(function(){return z.kn(i)})},t.prototype.options=function(e,n){var i=void 0;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var i=this.store.index(e.index);return e.ss?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function Mi(t){return new z(function(e,n){t.onsuccess=function(i){var o=i.target.result;e(o)},t.onerror=function(i){var o=hm(i.target.error);n(o)}})}var Zb=!1;function hm(t){var e=Zo.$n(zi());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new F("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zb||(Zb=!0,setTimeout(function(){throw i},0)),i}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof window<"u"?window:null}function Cc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ER=function(){function t(e,n,i,o,u){this.hs=e,this.dn=n,this.cs=i,this.op=o,this.us=u,this.ls=new hn,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch(function(c){})}return t._s=function(e,n,i,o,u){var c=new t(e,n,Date.now()+i,o,u);return c.start(i),c},t.prototype.start=function(e){var n=this;this.fs=setTimeout(function(){return n.ds()},e)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(e){this.fs!==null&&(this.clearTimeout(),this.ls.reject(new F(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.ds=function(){var e=this;this.hs.ws(function(){return e.fs!==null?(e.clearTimeout(),e.op().then(function(n){return e.ls.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.fs!==null&&(this.us(this),clearTimeout(this.fs),this.fs=null)},t}(),_R=function(){function t(){var e=this;this.Es=Promise.resolve(),this.Ts=[],this.Is=!1,this.As=[],this.Rs=null,this.Ps=!1,this.gs=[],this.Vs=new fm(this,"async_queue_retry"),this.ys=function(){var i=Cc();i&&X("AsyncQueue","Visibility state changed to  ",i.visibilityState),e.Vs.yn()};var n=Cc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ys)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(e){this.enqueue(e)},t.prototype.bs=function(e){this.vs(),this.Ss(e)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var e=Cc();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ys)}},t.prototype.enqueue=function(e){return this.vs(),this.Is?new Promise(function(n){}):this.Ss(e)},t.prototype.Cs=function(e){var n=this;this.ws(function(){return n.Ts.push(e),n.Ns()})},t.prototype.Ns=function(){return H(this,void 0,void 0,function(){var e,n=this;return B(this,function(i){switch(i.label){case 0:if(this.Ts.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return i.sent(),this.Ts.shift(),this.Vs.reset(),[3,4];case 3:if(!eo(e=i.sent()))throw e;return X("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Ts.length>0&&this.Vs.Pn(function(){return n.Ns()}),i.label=5;case 5:return[2]}})})},t.prototype.Ss=function(e){var n=this,i=this.Es.then(function(){return n.Ps=!0,e().catch(function(o){throw n.Rs=o,n.Ps=!1,le("INTERNAL UNHANDLED ERROR: ",function(u){var c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),c}(o)),o}).then(function(o){return n.Ps=!1,o})});return this.Es=i,i},t.prototype.Vn=function(e,n,i){var o=this;this.vs(),this.gs.indexOf(e)>-1&&(n=0);var u=ER._s(this,e,n,i,function(c){return o.xs(c)});return this.As.push(u),u},t.prototype.vs=function(){this.Rs&&ot()},t.prototype.Fs=function(){},t.prototype.ks=function(){return H(this,void 0,void 0,function(){var e;return B(this,function(n){switch(n.label){case 0:return[4,e=this.Es];case 1:n.sent(),n.label=2;case 2:if(e!==this.Es)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Os=function(e){for(var n=0,i=this.As;n<i.length;n++)if(i[n].dn===e)return!0;return!1},t.prototype.Ms=function(e){var n=this;return this.ks().then(function(){n.As.sort(function(c,l){return c.cs-l.cs});for(var i=0,o=n.As;i<o.length;i++){var u=o[i];if(u.pn(),e!=="all"&&u.dn===e)break}return n.ks()})},t.prototype.$s=function(e){this.gs.push(e)},t.prototype.xs=function(e){var n=this.As.indexOf(e);this.As.splice(n,1)},t}();function Vo(t,e){if(le("AsyncQueue",e+": "+t),eo(t))return new F(k.UNAVAILABLE,e+": "+t);throw t}var TR=function(){this.Ls=void 0,this.listeners=[]},AR=function(){this.Bs=new Es(function(t){return E1(t)},_s),this.onlineState="Unknown",this.qs=new Set};function $p(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,c,l,f;return B(this,function(p){switch(p.label){case 0:if(n=J(t),i=e.query,o=!1,(u=n.Bs.get(i))||(o=!0,u=new TR),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),c=u,[4,n.Us(i)];case 2:return c.Ls=p.sent(),[3,4];case 3:return l=p.sent(),f=Vo(l,"Initialization of query '"+zd(e.query)+"' failed"),[2,void e.onError(f)];case 4:return n.Bs.set(i,u),u.listeners.push(e),e.Ks(n.onlineState),u.Ls&&e.Qs(u.Ls)&&pm(n),[2]}})})}function Xp(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,c;return B(this,function(l){return n=J(t),i=e.query,o=!1,(u=n.Bs.get(i))&&(c=u.listeners.indexOf(e))>=0&&(u.listeners.splice(c,1),o=u.listeners.length===0),o?[2,(n.Bs.delete(i),n.Ws(i))]:[2]})})}function SR(t,e){for(var n=J(t),i=!1,o=0,u=e;o<u.length;o++){var c=u[o],l=c.query,f=n.Bs.get(l);if(f){for(var p=0,v=f.listeners;p<v.length;p++)v[p].Qs(c)&&(i=!0);f.Ls=c}}i&&pm(n)}function NR(t,e,n){var i=J(t),o=i.Bs.get(e);if(o)for(var u=0,c=o.listeners;u<c.length;u++)c[u].onError(n);i.Bs.delete(e)}function pm(t){t.qs.forEach(function(e){e.next()})}var Yp=function(){function t(e,n,i){this.query=e,this.js=n,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Qs=function(e){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=e.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}e=new el(e.query,e.docs,e.Kt,n,e.Qt,e.fromCache,e.Wt,!0)}var c=!1;return this.Gs?this.Hs(e)&&(this.js.next(e),c=!0):this.Js(e,this.onlineState)&&(this.Ys(e),c=!0),this.zs=e,c},t.prototype.onError=function(e){this.js.error(e)},t.prototype.Ks=function(e){this.onlineState=e;var n=!1;return this.zs&&!this.Gs&&this.Js(this.zs,e)&&(this.Ys(this.zs),n=!0),n},t.prototype.Js=function(e,n){if(!e.fromCache)return!0;var i=n!=="Offline";return!(this.options.Xs&&i||e.docs.P()&&n!=="Offline")},t.prototype.Hs=function(e){if(e.docChanges.length>0)return!0;var n=this.zs&&this.zs.hasPendingWrites!==e.hasPendingWrites;return!(!e.Wt&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.Ys=function(e){e=el.Gt(e.query,e.docs,e.Qt,e.fromCache),this.Gs=!0,this.js.next(e)},t}(),Tn=function(){function t(e){this.uid=e}return t.prototype.Zs=function(){return this.uid!=null},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.UNAUTHENTICATED=new Tn(null),Tn.ei=new Tn("google-credentials-uid"),Tn.ni=new Tn("first-party-uid");/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn=function(){function t(e,n){var i=this;this.previousValue=e,n&&(n.si=function(o){return i.ii(o)},this.ri=function(o){return n.oi(o)})}return t.prototype.ii=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.ri&&this.ri(e),e},t}();function tI(t,e){return"firestore_clients_"+t+"_"+e}function eI(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.Zs()&&(i+="_"+e.uid),i}function Jp(t,e){return"firestore_targets_"+t+"_"+e}mn.ai=-1;var nI=function(){function t(e,n,i,o){this.user=e,this.batchId=n,this.state=i,this.error=o}return t.hi=function(e,n,i){var o=JSON.parse(i),u=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object"),c=void 0;return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(c=new F(o.error.code,o.error.message)),u?new t(e,n,o.state,c):(le("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.ci=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),Qp=function(){function t(e,n,i){this.targetId=e,this.state=n,this.error=i}return t.hi=function(e,n){var i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object"),u=void 0;return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(u=new F(i.error.code,i.error.message)),o?new t(e,i.state,u):(le("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ci=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),rI=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.hi=function(e,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Hl(),c=0;o&&c<i.activeTargetIds.length;++c)o=X_(i.activeTargetIds[c]),u=u.add(i.activeTargetIds[c]);return o?new t(e,u):(le("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),kR=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.hi=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(le("SharedClientState","Failed to parse online state: "+e),null)},t}(),Kd=function(){function t(){this.activeTargetIds=Hl()}return t.prototype.ui=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.li=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.ci=function(){var e={activeTargetIds:this.activeTargetIds.L(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),Zp=function(){function t(e,n,i,o,u){this.window=e,this.fn=n,this.persistenceKey=i,this._i=o,this.fi=null,this.di=null,this.si=null,this.wi=this.Ei.bind(this),this.Ti=new Fe(_t),this.Ii=!1,this.mi=[];var c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Ai=tI(this.persistenceKey,this._i),this.Ri=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Kd),this.Pi=new RegExp("^firestore_clients_"+c+"_([^_]*)$"),this.gi=new RegExp("^firestore_mutations_"+c+"_(\\d+)(?:_(.*))?$"),this.Vi=new RegExp("^firestore_targets_"+c+"_(\\d+)$"),this.yi=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return H(this,void 0,void 0,function(){var e,n,i,o,u,c,l,f,p,v,m,y=this;return B(this,function(b){switch(b.label){case 0:return[4,this.fi.pi()];case 1:for(e=b.sent(),n=0,i=e;n<i.length;n++)(o=i[n])!==this._i&&(u=this.getItem(tI(this.persistenceKey,o)))&&(c=rI.hi(o,u))&&(this.Ti=this.Ti.ot(c.clientId,c));for(this.bi(),(l=this.storage.getItem(this.yi))&&(f=this.vi(l))&&this.Si(f),p=0,v=this.mi;p<v.length;p++)m=v[p],this.Ei(m);return this.mi=[],this.window.addEventListener("unload",function(){return y.Di()}),this.Ii=!0,[2]}})})},t.prototype.oi=function(e){this.setItem(this.Ri,JSON.stringify(e))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.xi=function(e){var n=!1;return this.Ti.forEach(function(i,o){o.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.Fi=function(e){this.ki(e,"pending")},t.prototype.Oi=function(e,n,i){this.ki(e,n,i),this.Mi(e)},t.prototype.$i=function(e){var n="not-current";if(this.xi(e)){var i=this.storage.getItem(Jp(this.persistenceKey,e));if(i){var o=Qp.hi(e,i);o&&(n=o.state)}}return this.Li.ui(e),this.bi(),n},t.prototype.Bi=function(e){this.Li.li(e),this.bi()},t.prototype.qi=function(e){return this.Li.activeTargetIds.has(e)},t.prototype.Ui=function(e){this.removeItem(Jp(this.persistenceKey,e))},t.prototype.Ki=function(e,n,i){this.Qi(e,n,i)},t.prototype.Wi=function(e,n,i){var o=this;n.forEach(function(u){o.Mi(u)}),this.currentUser=e,i.forEach(function(u){o.Fi(u)})},t.prototype.ji=function(e){this.Gi(e)},t.prototype.Di=function(){this.Ii&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ii=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return X("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){X("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){X("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.Ei=function(e){var n=this,i=e;if(i.storageArea===this.storage){if(X("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ai)return void le("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs(function(){return H(n,void 0,void 0,function(){var o,u,c,l,f,p;return B(this,function(v){if(this.Ii){if(i.key!==null)if(this.Pi.test(i.key)){if(i.newValue==null)return o=this.zi(i.key),[2,this.Hi(o,null)];if(u=this.Ji(i.key,i.newValue))return[2,this.Hi(u.clientId,u)]}else if(this.gi.test(i.key)){if(i.newValue!==null&&(c=this.Yi(i.key,i.newValue)))return[2,this.Xi(c)]}else if(this.Vi.test(i.key)){if(i.newValue!==null&&(l=this.Zi(i.key,i.newValue)))return[2,this.tr(l)]}else if(i.key===this.yi){if(i.newValue!==null&&(f=this.vi(i.newValue)))return[2,this.Si(f)]}else i.key===this.Ri&&(p=function(m){var y=mn.ai;if(m!=null)try{var b=JSON.parse(m);lt(typeof b=="number"),y=b}catch(_){le("SharedClientState","Failed to read sequence number from WebStorage",_)}return y}(i.newValue))!==mn.ai&&this.si(p)}else this.mi.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ci())},t.prototype.ki=function(e,n,i){var o=new nI(this.currentUser,e,n,i),u=eI(this.persistenceKey,this.currentUser,e);this.setItem(u,o.ci())},t.prototype.Mi=function(e){var n=eI(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Gi=function(e){var n={clientId:this._i,onlineState:e};this.storage.setItem(this.yi,JSON.stringify(n))},t.prototype.Qi=function(e,n,i){var o=Jp(this.persistenceKey,e),u=new Qp(e,n,i);this.setItem(o,u.ci())},t.prototype.zi=function(e){var n=this.Pi.exec(e);return n?n[1]:null},t.prototype.Ji=function(e,n){var i=this.zi(e);return rI.hi(i,n)},t.prototype.Yi=function(e,n){var i=this.gi.exec(e),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return nI.hi(new Tn(u),o,n)},t.prototype.Zi=function(e,n){var i=this.Vi.exec(e),o=Number(i[1]);return Qp.hi(o,n)},t.prototype.vi=function(e){return kR.hi(e)},t.prototype.Xi=function(e){return H(this,void 0,void 0,function(){return B(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.fi.er(e.batchId,e.state,e.error)]:(X("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.tr=function(e){return this.fi.nr(e.targetId,e.state,e.error)},t.prototype.Hi=function(e,n){var i=this,o=n?this.Ti.ot(e,n):this.Ti.remove(e),u=this.Ni(this.Ti),c=this.Ni(o),l=[],f=[];return c.forEach(function(p){u.has(p)||l.push(p)}),u.forEach(function(p){c.has(p)||f.push(p)}),this.fi.sr(l,f).then(function(){i.Ti=o})},t.prototype.Si=function(e){this.Ti.get(e.clientId)&&this.di(e.onlineState)},t.prototype.Ni=function(e){var n=Hl();return e.forEach(function(i,o){n=n.Ot(o.activeTargetIds)}),n},t}(),N1=function(){function t(){this.ir=new Kd,this.rr={},this.di=null,this.si=null}return t.prototype.Fi=function(e){},t.prototype.Oi=function(e,n,i){},t.prototype.$i=function(e){return this.ir.ui(e),this.rr[e]||"not-current"},t.prototype.Ki=function(e,n,i){this.rr[e]=n},t.prototype.Bi=function(e){this.ir.li(e)},t.prototype.qi=function(e){return this.ir.activeTargetIds.has(e)},t.prototype.Ui=function(e){delete this.rr[e]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.xi=function(e){return this.ir.activeTargetIds.has(e)},t.prototype.start=function(){return this.ir=new Kd,Promise.resolve()},t.prototype.Wi=function(e,n,i){},t.prototype.ji=function(e){},t.prototype.Di=function(){},t.prototype.oi=function(e){},t}(),dm=function(){function t(e,n,i,o){this.batchId=e,this.ar=n,this.baseMutations=i,this.mutations=o}return t.prototype.hr=function(e,n,i){for(var o=i.cr,u=0;u<this.mutations.length;u++){var c=this.mutations[u];c.key.isEqual(e)&&(n=cR(c,n,o[u]))}return n},t.prototype.ur=function(e,n){for(var i=0,o=this.baseMutations;i<o.length;i++){var u=o[i];u.key.isEqual(e)&&(n=Bd(u,n,n,this.ar))}for(var c=n,l=0,f=this.mutations;l<f.length;l++){var p=f[l];p.key.isEqual(e)&&(n=Bd(p,n,c,this.ar))}return n},t.prototype.lr=function(e){var n=this,i=e;return this.mutations.forEach(function(o){var u=n.ur(o.key,e.get(o.key));u&&(i=i.ot(o.key,u))}),i},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},Gt())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,function(n,i){return Kb(n,i)})&&ss(this.baseMutations,e.baseMutations,function(n,i){return Kb(n,i)})},t}(),xR=function(){function t(e,n,i,o){this.batch=e,this._r=n,this.cr=i,this.dr=o}return t.from=function(e,n,i){lt(e.mutations.length===i.length);for(var o=zC,u=e.mutations,c=0;c<u.length;c++)o=o.ot(u[c].key,i[c].version);return new t(e,n,i,o)},t}(),k1=function(){function t(){this.wr=new Es(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.Er=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(e){this.Tr=e},enumerable:!1,configurable:!0}),t.prototype.Ir=function(e,n){this.mr(),this.readTime=n,this.wr.set(e.key,e)},t.prototype.Ar=function(e,n){this.mr(),n&&(this.readTime=n),this.wr.set(e,null)},t.prototype.Rr=function(e,n){this.mr();var i=this.wr.get(n);return i!==void 0?z.resolve(i):this.Pr(e,n)},t.prototype.getEntries=function(e,n){return this.gr(e,n)},t.prototype.apply=function(e){return this.mr(),this.Er=!0,this.Vr(e)},t.prototype.mr=function(){},t}(),x1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",O1=function(){function t(){this.yr=[]}return t.prototype.pr=function(e){this.yr.push(e)},t.prototype.br=function(){this.yr.forEach(function(e){return e()})},t}(),P1=function(){function t(e,n,i){this.vr=e,this.Sr=n,this.Dr=i}return t.prototype.Cr=function(e,n){var i=this;return this.Sr.Nr(e,n).next(function(o){return i.Fr(e,n,o)})},t.prototype.Fr=function(e,n,i){return this.vr.Rr(e,n).next(function(o){for(var u=0,c=i;u<c.length;u++)o=c[u].ur(n,o);return o})},t.prototype.kr=function(e,n,i){var o=tl();return n.forEach(function(u,c){for(var l=0,f=i;l<f.length;l++)c=f[l].ur(u,c);o=o.ot(u,c)}),o},t.prototype.Or=function(e,n){var i=this;return this.vr.getEntries(e,n).next(function(o){return i.Mr(e,o)})},t.prototype.Mr=function(e,n){var i=this;return this.Sr.$r(e,n).next(function(o){var u=i.kr(e,n,o),c=$i();return u.forEach(function(l,f){f||(f=new Ee(l,Nt.min())),c=c.ot(l,f)}),c})},t.prototype.Lr=function(e,n,i){return function(o){return ht.X(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Br(e,n.path):lm(n)?this.qr(e,n,i):this.Ur(e,n,i)},t.prototype.Br=function(e,n){return this.Cr(e,new ht(n)).next(function(i){var o=qu();return i instanceof Mt&&(o=o.ot(i.key,i)),o})},t.prototype.qr=function(e,n,i){var o=this,u=n.collectionGroup,c=qu();return this.Dr.Kr(e,u).next(function(l){return z.forEach(l,function(f){var p=function(v,m){return new kr(m,null,v.on.slice(),v.filters.slice(),v.limit,v.an,v.startAt,v.endAt)}(n,f.child(u));return o.Ur(e,p,i).next(function(v){v.forEach(function(m,y){c=c.ot(m,y)})})}).next(function(){return c})})},t.prototype.Ur=function(e,n,i){var o,u,c=this;return this.vr.Lr(e,n,i).next(function(l){return o=l,c.Sr.Qr(e,n)}).next(function(l){return u=l,c.Wr(e,u,o).next(function(f){o=f;for(var p=0,v=u;p<v.length;p++)for(var m=v[p],y=0,b=m.mutations;y<b.length;y++){var _=b[y],T=_.key,O=o.get(T),x=Bd(_,O,O,m.ar);o=x instanceof Mt?o.ot(T,x):o.remove(T)}})}).next(function(){return o.forEach(function(l,f){pa(n,f)||(o=o.remove(l))}),o})},t.prototype.Wr=function(e,n,i){for(var o=Gt(),u=0,c=n;u<c.length;u++)for(var l=0,f=c[u].mutations;l<f.length;l++){var p=f[l];p instanceof ci&&i.get(p.key)===null&&(o=o.add(p.key))}var v=i;return this.vr.getEntries(e,o).next(function(m){return m.forEach(function(y,b){b!==null&&b instanceof Mt&&(v=v.ot(y,b))}),v})},t}(),OR=function(){function t(e,n,i,o){this.targetId=e,this.fromCache=n,this.jr=i,this.Gr=o}return t.zr=function(e,n){for(var i=Gt(),o=Gt(),u=0,c=n.docChanges;u<c.length;u++){var l=c[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new t(e,n.fromCache,i,o)},t}();/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t,e){var n=t[0],i=t[1],o=e[0],u=e[1],c=_t(n,o);return c===0?_t(i,u):c}var PR=function(){function t(e){this.Hr=e,this.buffer=new me(iI),this.Jr=0}return t.prototype.Yr=function(){return++this.Jr},t.prototype.Xr=function(e){var n=[e,this.Yr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();iI(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),oI={Zr:!1,eo:0,no:0,so:0},ue=function(){function t(e,n,i){this.io=e,this.ro=n,this.oo=i}return t.ao=function(e){return new t(e,t.ho,t.co)},t}();ue.uo=-1,ue.lo=1048576,ue._o=41943040,ue.ho=10,ue.co=1e3,ue.fo=new ue(ue._o,ue.ho,ue.co),ue.do=new ue(ue.uo,0,0);var DR=function(){function t(e,n){this.wo=e,this.hs=n,this.Eo=!1,this.To=null}return t.prototype.start=function(e){this.wo.params.io!==ue.uo&&this.Io(e)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ii",{get:function(){return this.To!==null},enumerable:!1,configurable:!0}),t.prototype.Io=function(e){var n=this,i=this.Eo?3e5:6e4;X("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.To=this.hs.Vn("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return B(this,function(u){switch(u.label){case 0:this.To=null,this.Eo=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.mo(this.wo)];case 2:return u.sent(),[3,7];case 3:return eo(o=u.sent())?(X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,no(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.Io(e)];case 8:return u.sent(),[2]}})})})},t}(),CR=function(){function t(e,n){this.Ao=e,this.params=n}return t.prototype.Ro=function(e,n){return this.Ao.Po(e).next(function(i){return Math.floor(n/100*i)})},t.prototype.Vo=function(e,n){var i=this;if(n===0)return z.resolve(mn.ai);var o=new PR(n);return this.Ao.Ce(e,function(u){return o.Xr(u.sequenceNumber)}).next(function(){return i.Ao.yo(e,function(u){return o.Xr(u)})}).next(function(){return o.maxValue})},t.prototype.po=function(e,n,i){return this.Ao.po(e,n,i)},t.prototype.bo=function(e,n){return this.Ao.bo(e,n)},t.prototype.vo=function(e,n){var i=this;return this.params.io===ue.uo?(X("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(oI)):this.So(e).next(function(o){return o<i.params.io?(X("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.io),oI):i.Do(e,n)})},t.prototype.So=function(e){return this.Ao.So(e)},t.prototype.Do=function(e,n){var i,o,u,c,l,f,p,v=this,m=Date.now();return this.Ro(e,this.params.ro).next(function(y){return y>v.params.oo?(X("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.oo+" from "+y),o=v.params.oo):o=y,c=Date.now(),v.Vo(e,o)}).next(function(y){return i=y,l=Date.now(),v.po(e,i,n)}).next(function(y){return u=y,f=Date.now(),v.bo(e,i)}).next(function(y){return p=Date.now(),Ld()<=Rt.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(c-m)+`ms
	Determined least recently used `+o+" in "+(l-c)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+y+" documents in "+(p-f)+`ms
Total Duration: `+(p-m)+"ms"),z.resolve({Zr:!0,eo:o,no:u,so:y})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=sI(e)),e=RR(t.get(n),e);return sI(e)}function RR(t,e){for(var n=e,i=t.length,o=0;o<i;o++){var u=t.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function sI(t){return t+""}function _r(t){var e=t.length;if(lt(e>=2),e===2)return lt(t.charAt(0)===""&&t.charAt(1)===""),Wt.U();for(var n=e-2,i=[],o="",u=0;u<e;){var c=t.indexOf("",u);switch((c<0||c>n)&&ot(),t.charAt(c+1)){case"":var l=t.substring(u,c),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=t.substring(u,c),o+="\0";break;case"":o+=t.substring(u,c+1);break;default:ot()}u=c+2}return new Wt(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LR=function(t){this.Co=t};function Wd(t,e){if(e.document)return function(c,l,f){var p=sr(c,l.name),v=Bn(l.updateTime),m=new ii({mapValue:{fields:l.fields}});return new Mt(p,v,m,{hasCommittedMutations:!!f})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ht.Z(e.noDocument.path),i=cl(e.noDocument.readTime);return new Ee(n,i,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var o=ht.Z(e.unknownDocument.path),u=cl(e.unknownDocument.version);return new ol(o,u)}return ot()}function uI(t,e,n){var i=vm(n),o=e.key.path.F().L();if(e instanceof Mt){var u=function(y,b){return{name:Jo(y,b.key),fields:b.rn().mapValue.fields,updateTime:rl(y,b.version.v())}}(t.Co,e),c=e.hasCommittedMutations;return new re(null,null,u,c,i,o)}if(e instanceof Ee){var l=e.key.path.L(),f=al(e.version),p=e.hasCommittedMutations;return new re(null,new BR(l,f),null,p,i,o)}if(e instanceof ol){var v=e.key.path.L(),m=al(e.version);return new re(new GR(v,m),null,null,!0,i,o)}return ot()}function vm(t){var e=t.v();return[e.seconds,e.nanoseconds]}function D1(t){var e=new rn(t[0],t[1]);return Nt.V(e)}function al(t){var e=t.v();return new qR(e.seconds,e.nanoseconds)}function cl(t){var e=new rn(t.seconds,t.nanoseconds);return Nt.V(e)}function Uo(t,e){var n=(e.baseMutations||[]).map(function(u){return Bb(t.Co,u)}),i=e.mutations.map(function(u){return Bb(t.Co,u)}),o=rn.fromMillis(e.localWriteTimeMs);return new dm(e.batchId,o,n,i)}function yu(t){var e,n,i=cl(t.readTime),o=t.lastLimboFreeSnapshotVersion!==void 0?cl(t.lastLimboFreeSnapshotVersion):Nt.min();return t.query.documents!==void 0?(lt((n=t.query).documents.length===1),e=fr(ha(u1(n.documents[0])))):e=tR(t.query),new Gl(e,t.targetId,0,t.lastListenSequenceNumber,i,o,Ue.fromBase64String(t.resumeToken))}function C1(t,e){var n,i=al(e.nt),o=al(e.lastLimboFreeSnapshotVersion);n=Zc(e.target)?c1(t.Co,e.target):l1(t.Co,e.target);var u=e.resumeToken.toBase64();return new nn(e.targetId,sa(e.target),i,u,e.sequenceNumber,o,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MR=function(){function t(e,n,i,o){this.userId=e,this.serializer=n,this.Dr=i,this.No=o,this.xo={}}return t.Fo=function(e,n,i,o){return lt(e.uid!==""),new t(e.Zs()?e.uid:"",n,i,o)},t.prototype.ko=function(e){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gr(e).rs({index:zt.userMutationsIndex,range:i},function(o,u,c){n=!1,c.done()}).next(function(){return n})},t.prototype.Oo=function(e,n,i,o){var u=this,c=Fo(e),l=Gr(e);return l.add({}).next(function(f){lt(typeof f=="number");for(var p=new dm(f,n,i,o),v=function(x,R,G){var V=G.baseMutations.map(function(pt){return il(x.Co,pt)}),U=G.mutations.map(function(pt){return il(x.Co,pt)});return new zt(R,G.batchId,G.ar.toMillis(),V,U)}(u.serializer,u.userId,p),m=[],y=new me(function(x,R){return _t(x.B(),R.B())}),b=0,_=o;b<_.length;b++){var T=_[b],O=Oe.key(u.userId,T.key.path,f);y=y.add(T.key.path.F()),m.push(l.put(v)),m.push(c.put(O,Oe.PLACEHOLDER))}return y.forEach(function(x){m.push(u.Dr.Mo(e,x))}),e.pr(function(){u.xo[f]=p.keys()}),z.kn(m).next(function(){return p})})},t.prototype.$o=function(e,n){var i=this;return Gr(e).get(n).next(function(o){return o?(lt(o.userId===i.userId),Uo(i.serializer,o)):null})},t.prototype.Lo=function(e,n){var i=this;return this.xo[n]?z.resolve(this.xo[n]):this.$o(e,n).next(function(o){if(o){var u=o.keys();return i.xo[n]=u,u}return null})},t.prototype.Bo=function(e,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),c=null;return Gr(e).rs({index:zt.userMutationsIndex,range:u},function(l,f,p){f.userId===i.userId&&(lt(f.batchId>=o),c=Uo(i.serializer,f)),p.done()}).next(function(){return c})},t.prototype.qo=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Gr(e).rs({index:zt.userMutationsIndex,range:n,reverse:!0},function(o,u,c){i=u.batchId,c.done()}).next(function(){return i})},t.prototype.Uo=function(e){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gr(e).ts(zt.userMutationsIndex,i).next(function(o){return o.map(function(u){return Uo(n.serializer,u)})})},t.prototype.Nr=function(e,n){var i=this,o=Oe.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),c=[];return Fo(e).rs({range:u},function(l,f,p){var v=l[0],m=l[1],y=l[2],b=_r(m);if(v===i.userId&&n.path.isEqual(b))return Gr(e).get(y).next(function(_){if(!_)throw ot();lt(_.userId===i.userId),c.push(Uo(i.serializer,_))});p.done()}).next(function(){return c})},t.prototype.$r=function(e,n){var i=this,o=new me(_t),u=[];return n.forEach(function(c){var l=Oe.prefixForPath(i.userId,c.path),f=IDBKeyRange.lowerBound(l),p=Fo(e).rs({range:f},function(v,m,y){var b=v[0],_=v[1],T=v[2],O=_r(_);b===i.userId&&c.path.isEqual(O)?o=o.add(T):y.done()});u.push(p)}),z.kn(u).next(function(){return i.Ko(e,o)})},t.prototype.Qr=function(e,n){var i=this,o=n.path,u=o.length+1,c=Oe.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(c),f=new me(_t);return Fo(e).rs({range:l},function(p,v,m){var y=p[0],b=p[1],_=p[2],T=_r(b);y===i.userId&&o.M(T)?T.length===u&&(f=f.add(_)):m.done()}).next(function(){return i.Ko(e,f)})},t.prototype.Ko=function(e,n){var i=this,o=[],u=[];return n.forEach(function(c){u.push(Gr(e).get(c).next(function(l){if(l===null)throw ot();lt(l.userId===i.userId),o.push(Uo(i.serializer,l))}))}),z.kn(u).next(function(){return o})},t.prototype.Qo=function(e,n){var i=this;return L1(e.Wo,this.userId,n).next(function(o){return e.pr(function(){i.jo(n.batchId)}),z.forEach(o,function(u){return i.No.Go(e,u)})})},t.prototype.jo=function(e){delete this.xo[e]},t.prototype.zo=function(e){var n=this;return this.ko(e).next(function(i){if(!i)return z.resolve();var o=IDBKeyRange.lowerBound(Oe.prefixForUser(n.userId)),u=[];return Fo(e).rs({range:o},function(c,l,f){if(c[0]===n.userId){var p=_r(c[1]);u.push(p)}else f.done()}).next(function(){lt(u.length===0)})})},t.prototype.Ho=function(e,n){return R1(e,this.userId,n)},t.prototype.Jo=function(e){var n=this;return M1(e).get(this.userId).next(function(i){return i||new Zr(n.userId,-1,"")})},t}();function R1(t,e,n){var i=Oe.prefixForPath(e,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),c=!1;return Fo(t).rs({range:u,ss:!0},function(l,f,p){var v=l[0],m=l[1];l[2],v===e&&m===o&&(c=!0),p.done()}).next(function(){return c})}function L1(t,e,n){var i=t.store(zt.store),o=t.store(Oe.store),u=[],c=IDBKeyRange.only(n.batchId),l=0,f=i.rs({range:c},function(_,T,O){return l++,O.delete()});u.push(f.next(function(){lt(l===1)}));for(var p=[],v=0,m=n.mutations;v<m.length;v++){var y=m[v],b=Oe.key(e,y.key.path,n.batchId);u.push(o.delete(b)),p.push(y.key)}return z.kn(u).next(function(){return p})}function Gr(t){return kn.Kn(t,zt.store)}function Fo(t){return kn.Kn(t,Oe.store)}function M1(t){return kn.Kn(t,Zr.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jR=function(){function t(e,n){this.serializer=e,this.Dr=n}return t.prototype.Ir=function(e,n,i){return Kr(e).put(Ic(n),i)},t.prototype.Ar=function(e,n){var i=Kr(e),o=Ic(n);return i.delete(o)},t.prototype.updateMetadata=function(e,n){var i=this;return this.getMetadata(e).next(function(o){return o.byteSize+=n,i.Yo(e,o)})},t.prototype.Rr=function(e,n){var i=this;return Kr(e).get(Ic(n)).next(function(o){return i.Xo(o)})},t.prototype.Zo=function(e,n){var i=this;return Kr(e).get(Ic(n)).next(function(o){var u=i.Xo(o);return u?{ta:u,size:ll(o)}:null})},t.prototype.getEntries=function(e,n){var i=this,o=tl();return this.ea(e,n,function(u,c){var l=i.Xo(c);o=o.ot(u,l)}).next(function(){return o})},t.prototype.na=function(e,n){var i=this,o=tl(),u=new Fe(ht.D);return this.ea(e,n,function(c,l){var f=i.Xo(l);f?(o=o.ot(c,f),u=u.ot(c,ll(l))):(o=o.ot(c,null),u=u.ot(c,0))}).next(function(){return{sa:o,ia:u}})},t.prototype.ea=function(e,n,i){if(n.P())return z.resolve();var o=IDBKeyRange.bound(n.first().path.L(),n.last().path.L()),u=n._t(),c=u.It();return Kr(e).rs({range:o},function(l,f,p){for(var v=ht.Z(l);c&&ht.D(c,v)<0;)i(c,null),c=u.It();c&&c.isEqual(v)&&(i(c,f),c=u.At()?u.It():null),c?p.Xn(c.path.L()):p.done()}).next(function(){for(;c;)i(c,null),c=u.At()?u.It():null})},t.prototype.Lr=function(e,n,i){var o=this,u=qu(),c=n.path.length+1,l={};if(i.isEqual(Nt.min())){var f=n.path.L();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.L(),v=vm(i);l.range=IDBKeyRange.lowerBound([p,v],!0),l.index=re.collectionReadTimeIndex}return Kr(e).rs(l,function(m,y,b){if(m.length===c){var _=Wd(o.serializer,y);n.path.M(_.key.path)?_ instanceof Mt&&pa(n,_)&&(u=u.ot(_.key,_)):b.done()}}).next(function(){return u})},t.prototype.ra=function(e){return new VR(this,!!e&&e.oa)},t.prototype.aa=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return aI(e).get(ur.key).next(function(n){return lt(!!n),n})},t.prototype.Yo=function(e,n){return aI(e).put(ur.key,n)},t.prototype.Xo=function(e){if(e){var n=Wd(this.serializer,e);return n instanceof Ee&&n.version.isEqual(Nt.min())?null:n}return null},t}(),VR=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).ha=n,o.oa=i,o.ca=new Es(function(u){return u.toString()},function(u,c){return u.isEqual(c)}),o}return wt(e,t),e.prototype.Vr=function(n){var i=this,o=[],u=0,c=new me(function(l,f){return _t(l.B(),f.B())});return this.wr.forEach(function(l,f){var p=i.ca.get(l);if(f){var v=uI(i.ha.serializer,f,i.readTime);c=c.add(l.path.F());var m=ll(v);u+=m-p,o.push(i.ha.Ir(n,l,v))}else if(u-=p,i.oa){var y=uI(i.ha.serializer,new Ee(l,Nt.min()),i.readTime);o.push(i.ha.Ir(n,l,y))}else o.push(i.ha.Ar(n,l))}),c.forEach(function(l){o.push(i.ha.Dr.Mo(n,l))}),o.push(this.ha.updateMetadata(n,u)),z.kn(o)},e.prototype.Pr=function(n,i){var o=this;return this.ha.Zo(n,i).next(function(u){return u===null?(o.ca.set(i,0),null):(o.ca.set(i,u.size),u.ta)})},e.prototype.gr=function(n,i){var o=this;return this.ha.na(n,i).next(function(u){var c=u.sa;return u.ia.forEach(function(l,f){o.ca.set(l,f)}),c})},e}(k1);function aI(t){return kn.Kn(t,ur.store)}function Kr(t){return kn.Kn(t,re.store)}function Ic(t){return t.path.L()}function ll(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ot();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UR=function(){function t(){this.ua=new mm}return t.prototype.Mo=function(e,n){return this.ua.add(n),z.resolve()},t.prototype.Kr=function(e,n){return z.resolve(this.ua.getEntries(n))},t}(),mm=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.O(),i=e.F(),o=this.index[n]||new me(Wt.D),u=!o.has(i);return this.index[n]=o.add(i),u},t.prototype.has=function(e){var n=e.O(),i=e.F(),o=this.index[n];return o&&o.has(i)},t.prototype.getEntries=function(e){return(this.index[e]||new me(Wt.D)).L()},t}(),FR=function(){function t(e){this.serializer=e}return t.prototype.createOrUpgrade=function(e,n,i,o){var u=this;lt(i<o&&i>=0&&o<=10);var c=new A1("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(pn.store)}(e),function(f){f.createObjectStore(Zr.store,{keyPath:Zr.keyPath}),f.createObjectStore(zt.store,{keyPath:zt.keyPath,autoIncrement:!0}).createIndex(zt.userMutationsIndex,zt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Oe.store)}(e),cI(e),function(f){f.createObjectStore(re.store)}(e));var l=z.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Ne.store),f.deleteObjectStore(nn.store),f.deleteObjectStore(dn.store)}(e),cI(e)),l=l.next(function(){return function(f){var p=f.store(dn.store),v=new dn(0,0,Nt.min().v(),0);return p.put(dn.key,v)}(c)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,p){return p.store(zt.store).ts().next(function(v){f.deleteObjectStore(zt.store),f.createObjectStore(zt.store,{keyPath:zt.keyPath,autoIncrement:!0}).createIndex(zt.userMutationsIndex,zt.userMutationsKeyPath,{unique:!0});var m=p.store(zt.store),y=v.map(function(b){return m.put(b)});return z.kn(y)})}(e,c)})),l=l.next(function(){(function(f){f.createObjectStore(Tr.store,{keyPath:Tr.keyPath})})(e)})),i<5&&o>=5&&(l=l.next(function(){return u.removeAcknowledgedMutations(c)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(ur.store)}(e),u.addDocumentGlobal(c)})),i<7&&o>=7&&(l=l.next(function(){return u.ensureSequenceNumbers(c)})),i<8&&o>=8&&(l=l.next(function(){return u.createCollectionParentIndex(e,c)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){var p=f.objectStore(re.store);p.createIndex(re.readTimeIndex,re.readTimeIndexPath,{unique:!1}),p.createIndex(re.collectionReadTimeIndex,re.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.rewriteCanonicalIds(c)})),l},t.prototype.addDocumentGlobal=function(e){var n=0;return e.store(re.store).rs(function(i,o){n+=ll(o)}).next(function(){var i=new ur(n);return e.store(ur.store).put(ur.key,i)})},t.prototype.removeAcknowledgedMutations=function(e){var n=this,i=e.store(Zr.store),o=e.store(zt.store);return i.ts().next(function(u){return z.forEach(u,function(c){var l=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return o.ts(zt.userMutationsIndex,l).next(function(f){return z.forEach(f,function(p){lt(p.userId===c.userId);var v=Uo(n.serializer,p);return L1(e,c.userId,v).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(e){var n=e.store(Ne.store),i=e.store(re.store);return e.store(dn.store).get(dn.key).next(function(o){var u=[];return i.rs(function(c,l){var f=new Wt(c),p=function(v){return[0,Kn(v)]}(f);u.push(n.get(p).next(function(v){return v?z.resolve():function(m){return n.put(new Ne(0,Kn(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return z.kn(u)})})},t.prototype.createCollectionParentIndex=function(e,n){e.createObjectStore(Bi.store,{keyPath:Bi.keyPath});var i=n.store(Bi.store),o=new mm,u=function(c){if(o.add(c)){var l=c.O(),f=c.F();return i.put({collectionId:l,parent:Kn(f)})}};return n.store(re.store).rs({ss:!0},function(c,l){var f=new Wt(c);return u(f.F())}).next(function(){return n.store(Oe.store).rs({ss:!0},function(c,l){c[0];var f=c[1],p=(c[2],_r(f));return u(p.F())})})},t.prototype.rewriteCanonicalIds=function(e){var n=this,i=e.store(nn.store);return i.rs(function(o,u){var c=yu(u),l=C1(n.serializer,c);return i.put(l)})},t}(),qR=function(t,e){this.seconds=t,this.nanoseconds=e},pn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};pn.store="owner",pn.key="owner";var Zr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Zr.store="mutationQueues",Zr.keyPath="userId";var zt=function(t,e,n,i,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};zt.store="mutations",zt.keyPath="batchId",zt.userMutationsIndex="userMutationsIndex",zt.userMutationsKeyPath=["userId","batchId"];var Oe=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,Kn(n)]},t.key=function(e,n,i){return[e,Kn(n),i]},t}();Oe.store="documentMutations",Oe.PLACEHOLDER=new Oe;var BR=function(t,e){this.path=t,this.readTime=e},GR=function(t,e){this.path=t,this.version=e},re=function(t,e,n,i,o,u){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};re.store="remoteDocuments",re.readTimeIndex="readTimeIndex",re.readTimeIndexPath="readTime",re.collectionReadTimeIndex="collectionReadTimeIndex",re.collectionReadTimeIndexPath=["parentPath","readTime"];var ur=function(t){this.byteSize=t};ur.store="remoteDocumentGlobal",ur.key="remoteDocumentGlobalKey";var nn=function(t,e,n,i,o,u,c){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=c};nn.store="targets",nn.keyPath="targetId",nn.queryTargetsIndexName="queryTargetsIndex",nn.queryTargetsKeyPath=["canonicalId","targetId"];var Ne=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ne.store="targetDocuments",Ne.keyPath=["targetId","path"],Ne.documentTargetsIndex="documentTargetsIndex",Ne.documentTargetsKeyPath=["path","targetId"];var dn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};dn.key="targetGlobalKey",dn.store="targetGlobal";var Bi=function(t,e){this.collectionId=t,this.parent=e};function cI(t){t.createObjectStore(Ne.store,{keyPath:Ne.keyPath}).createIndex(Ne.documentTargetsIndex,Ne.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(nn.store,{keyPath:nn.keyPath}).createIndex(nn.queryTargetsIndexName,nn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(dn.store)}Bi.store="collectionParents",Bi.keyPath=["collectionId","parent"];var Tr=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Tr.store="clientMetadata",Tr.keyPath="clientId";var HR=qi(qi(qi([Zr.store,zt.store,Oe.store,re.store,nn.store,pn.store,dn.store,Ne.store],[Tr.store]),[ur.store]),[Bi.store]),zR=function(){function t(){this.la=new mm}return t.prototype.Mo=function(e,n){var i=this;if(!this.la.has(n)){var o=n.O(),u=n.F();e.pr(function(){i.la.add(n)});var c={collectionId:o,parent:Kn(u)};return lI(e).put(c)}return z.resolve()},t.prototype.Kr=function(e,n){var i=[],o=IDBKeyRange.bound([n,""],[K_(n),""],!1,!0);return lI(e).ts(o).next(function(u){for(var c=0,l=u;c<l.length;c++){var f=l[c];if(f.collectionId!==n)break;i.push(_r(f.parent))}return i})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){return kn.Kn(t,Bi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fl=function(){function t(e){this._a=e}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),KR=function(){function t(e,n){this.No=e,this.serializer=n}return t.prototype.wa=function(e){var n=this;return this.Ea(e).next(function(i){var o=new fl(i.highestTargetId);return i.highestTargetId=o.next(),n.Ta(e,i).next(function(){return i.highestTargetId})})},t.prototype.Ia=function(e){return this.Ea(e).next(function(n){return Nt.V(new rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ma=function(e){return this.Ea(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.Aa=function(e,n,i){var o=this;return this.Ea(e).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.v()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Ta(e,u)})},t.prototype.Ra=function(e,n){var i=this;return this.Pa(e,n).next(function(){return i.Ea(e).next(function(o){return o.targetCount+=1,i.ga(n,o),i.Ta(e,o)})})},t.prototype.Va=function(e,n){return this.Pa(e,n)},t.prototype.ya=function(e,n){var i=this;return this.pa(e,n.targetId).next(function(){return Co(e).delete(n.targetId)}).next(function(){return i.Ea(e)}).next(function(o){return lt(o.targetCount>0),o.targetCount-=1,i.Ta(e,o)})},t.prototype.po=function(e,n,i){var o=this,u=0,c=[];return Co(e).rs(function(l,f){var p=yu(f);p.sequenceNumber<=n&&i.get(p.targetId)===null&&(u++,c.push(o.ya(e,p)))}).next(function(){return z.kn(c)}).next(function(){return u})},t.prototype.Ce=function(e,n){return Co(e).rs(function(i,o){var u=yu(o);n(u)})},t.prototype.Ea=function(e){return fI(e).get(dn.key).next(function(n){return lt(n!==null),n})},t.prototype.Ta=function(e,n){return fI(e).put(dn.key,n)},t.prototype.Pa=function(e,n){return Co(e).put(C1(this.serializer,n))},t.prototype.ga=function(e,n){var i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i},t.prototype.ba=function(e){return this.Ea(e).next(function(n){return n.targetCount})},t.prototype.va=function(e,n){var i=sa(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return Co(e).rs({range:o,index:nn.queryTargetsIndexName},function(c,l,f){var p=yu(l);Bl(n,p.target)&&(u=p,f.done())}).next(function(){return u})},t.prototype.Sa=function(e,n,i){var o=this,u=[],c=$r(e);return n.forEach(function(l){var f=Kn(l.path);u.push(c.put(new Ne(i,f))),u.push(o.No.Da(e,i,l))}),z.kn(u)},t.prototype.Ca=function(e,n,i){var o=this,u=$r(e);return z.forEach(n,function(c){var l=Kn(c.path);return z.kn([u.delete([i,l]),o.No.Na(e,i,c)])})},t.prototype.pa=function(e,n){var i=$r(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},t.prototype.xa=function(e,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=$r(e),u=Gt();return o.rs({range:i,ss:!0},function(c,l,f){var p=_r(c[1]),v=new ht(p);u=u.add(v)}).next(function(){return u})},t.prototype.Ho=function(e,n){var i=Kn(n.path),o=IDBKeyRange.bound([i],[K_(i)],!1,!0),u=0;return $r(e).rs({index:Ne.documentTargetsIndex,ss:!0,range:o},function(c,l,f){var p=c[0];c[1],p!==0&&(u++,f.done())}).next(function(){return u>0})},t.prototype.Ue=function(e,n){return Co(e).get(n).next(function(i){return i?yu(i):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){return kn.Kn(t,nn.store)}function fI(t){return kn.Kn(t,dn.store)}function $r(t){return kn.Kn(t,Ne.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var td="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ed=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Wo=n,o.Fa=i,o}return wt(e,t),e}(O1),kn=function(){function t(e,n,i,o,u,c,l,f,p,v){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.fn=u,this.window=c,this.document=l,this.ka=p,this.Oa=v,this.Ma=null,this.$a=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Ka=function(m){return Promise.resolve()},!t.Ln())throw new F(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new WR(this,o),this.Qa=n+"main",this.serializer=new LR(f),this.Wa=new Zo(this.Qa,10,new FR(this.serializer)),this.ja=new KR(this.No,this.serializer),this.Dr=new zR,this.vr=function(m,y){return new jR(m,y)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,v===!1&&le("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Kn=function(e,n){if(e instanceof ed)return Zo.Kn(e.Wo,n);throw ot()},t.prototype.start=function(){var e=this;return this.za().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new F(k.FAILED_PRECONDITION,td);return e.Ha(),e.Ja(),e.Ya(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.ja.ma(n)})}).then(function(n){e.Ma=new mn(n,e.ka)}).then(function(){e.$a=!0}).catch(function(n){return e.Wa&&e.Wa.close(),Promise.reject(n)})},t.prototype.Xa=function(e){var n=this;return this.Ka=function(i){return H(n,void 0,void 0,function(){return B(this,function(o){return this.Ii?[2,e(i)]:[2]})})},e(this.isPrimary)},t.prototype.Za=function(e){var n=this;this.Wa.jn(function(i){return H(n,void 0,void 0,function(){return B(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,e()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.th=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.fn.ws(function(){return H(n,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return this.Ii?[4,this.za()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},t.prototype.za=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Ec(n).put(new Tr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.eh(n).next(function(i){i||(e.isPrimary=!1,e.fn.Cs(function(){return e.Ka(!1)}))})}).next(function(){return e.nh(n)}).next(function(i){return e.isPrimary&&!i?e.sh(n).next(function(){return!1}):!!i&&e.ih(n).next(function(){return!0})})}).catch(function(n){if(eo(n))return X("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return X("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.fn.Cs(function(){return e.Ka(n)}),e.isPrimary=n})},t.prototype.eh=function(e){var n=this;return hu(e).get(pn.key).next(function(i){return z.resolve(n.rh(i))})},t.prototype.oh=function(e){return Ec(e).delete(this.clientId)},t.prototype.ah=function(){return H(this,void 0,void 0,function(){var e,n,i,o,u=this;return B(this,function(c){switch(c.label){case 0:return!this.isPrimary||this.hh(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=t.Kn(l,Tr.store);return f.ts().next(function(p){var v=u.uh(p,18e5),m=p.filter(function(y){return v.indexOf(y)===-1});return z.forEach(m,function(y){return f.delete(y.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(e=c.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)o=i[n],this.Ga.removeItem(this.lh(o.clientId));c.label=2;case 2:return[2]}})})},t.prototype.Ya=function(){var e=this;this.qa=this.fn.Vn("client_metadata_refresh",4e3,function(){return e.za().then(function(){return e.ah()}).then(function(){return e.Ya()})})},t.prototype.rh=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.nh=function(e){var n=this;return this.Oa?z.resolve(!0):hu(e).get(pn.key).next(function(i){if(i!==null&&n.hh(i.leaseTimestampMs,5e3)&&!n._h(i.ownerId)){if(n.rh(i)&&n.networkEnabled)return!0;if(!n.rh(i)){if(!i.allowTabSynchronization)throw new F(k.FAILED_PRECONDITION,td);return!1}}return!(!n.networkEnabled||!n.inForeground)||Ec(e).ts().next(function(o){return n.uh(o,5e3).find(function(u){if(n.clientId!==u.clientId){var c=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(c||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&X("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},t.prototype.Di=function(){return H(this,void 0,void 0,function(){var e=this;return B(this,function(n){switch(n.label){case 0:return this.$a=!1,this.fh(),this.qa&&(this.qa.cancel(),this.qa=null),this.dh(),this.wh(),[4,this.Wa.runTransaction("shutdown","readwrite",[pn.store,Tr.store],function(i){var o=new ed(i,mn.ai);return e.sh(o).next(function(){return e.oh(o)})})];case 1:return n.sent(),this.Wa.close(),this.Eh(),[2]}})})},t.prototype.uh=function(e,n){var i=this;return e.filter(function(o){return i.hh(o.updateTimeMs,n)&&!i._h(o.clientId)})},t.prototype.pi=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Ec(n).ts().next(function(i){return e.uh(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),t.prototype.Th=function(e){return MR.Fo(e,this.serializer,this.Dr,this.No)},t.prototype.Ih=function(){return this.ja},t.prototype.mh=function(){return this.vr},t.prototype.Ah=function(){return this.Dr},t.prototype.runTransaction=function(e,n,i){var o=this;X("IndexedDbPersistence","Starting transaction:",e);var u,c=n==="readonly"?"readonly":"readwrite";return this.Wa.runTransaction(e,c,HR,function(l){return u=new ed(l,o.Ma?o.Ma.next():mn.ai),n==="readwrite-primary"?o.eh(u).next(function(f){return!!f||o.nh(u)}).next(function(f){if(!f)throw le("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.fn.Cs(function(){return o.Ka(!1)}),new F(k.FAILED_PRECONDITION,x1);return i(u)}).next(function(f){return o.ih(u).next(function(){return f})}):o.Rh(u).next(function(){return i(u)})}).then(function(l){return u.br(),l})},t.prototype.Rh=function(e){var n=this;return hu(e).get(pn.key).next(function(i){if(i!==null&&n.hh(i.leaseTimestampMs,5e3)&&!n._h(i.ownerId)&&!n.rh(i)&&!(n.Oa||n.allowTabSynchronization&&i.allowTabSynchronization))throw new F(k.FAILED_PRECONDITION,td)})},t.prototype.ih=function(e){var n=new pn(this.clientId,this.allowTabSynchronization,Date.now());return hu(e).put(pn.key,n)},t.Ln=function(){return Zo.Ln()},t.prototype.sh=function(e){var n=this,i=hu(e);return i.get(pn.key).next(function(o){return n.rh(o)?(X("IndexedDbPersistence","Releasing primary lease."),i.delete(pn.key)):z.resolve()})},t.prototype.hh=function(e,n){var i=Date.now();return!(e<i-n||e>i&&(le("Detected an update time that is in the future: "+e+" > "+i),1))},t.prototype.Ha=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ba=function(){e.fn.ws(function(){return e.inForeground=e.document.visibilityState==="visible",e.za()})},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground=this.document.visibilityState==="visible")},t.prototype.dh=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ja=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.La=function(){n.fh(),n.fn.ws(function(){return n.Di()})},this.window.addEventListener("unload",this.La))},t.prototype.wh=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype._h=function(e){var n;try{var i=((n=this.Ga)===null||n===void 0?void 0:n.getItem(this.lh(e)))!==null;return X("IndexedDbPersistence","Client '"+e+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return le("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.fh=function(){if(this.Ga)try{this.Ga.setItem(this.lh(this.clientId),String(Date.now()))}catch(e){le("Failed to set zombie client id.",e)}},t.prototype.Eh=function(){if(this.Ga)try{this.Ga.removeItem(this.lh(this.clientId))}catch{}},t.prototype.lh=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function hu(t){return kn.Kn(t,pn.store)}function Ec(t){return kn.Kn(t,Tr.store)}var WR=function(){function t(e,n){this.db=e,this.wo=new CR(this,n)}return t.prototype.Po=function(e){var n=this.Ph(e);return this.db.Ih().ba(e).next(function(i){return n.next(function(o){return i+o})})},t.prototype.Ph=function(e){var n=0;return this.yo(e,function(i){n++}).next(function(){return n})},t.prototype.Ce=function(e,n){return this.db.Ih().Ce(e,n)},t.prototype.yo=function(e,n){return this.gh(e,function(i,o){return n(o)})},t.prototype.Da=function(e,n,i){return _c(e,i)},t.prototype.Na=function(e,n,i){return _c(e,i)},t.prototype.po=function(e,n,i){return this.db.Ih().po(e,n,i)},t.prototype.Go=function(e,n){return _c(e,n)},t.prototype.Vh=function(e,n){return function(i,o){var u=!1;return M1(i).os(function(c){return R1(i,c,o).next(function(l){return l&&(u=!0),z.resolve(!l)})}).next(function(){return u})}(e,n)},t.prototype.bo=function(e,n){var i=this,o=this.db.mh().ra(),u=[],c=0;return this.gh(e,function(l,f){if(f<=n){var p=i.Vh(e,l).next(function(v){if(!v)return c++,o.Rr(e,l).next(function(){return o.Ar(l),$r(e).delete([0,Kn(l.path)])})});u.push(p)}}).next(function(){return z.kn(u)}).next(function(){return o.apply(e)}).next(function(){return c})},t.prototype.removeTarget=function(e,n){var i=n.st(e.Fa);return this.db.Ih().Va(e,i)},t.prototype.yh=function(e,n){return _c(e,n)},t.prototype.gh=function(e,n){var i,o=$r(e),u=mn.ai;return o.rs({index:Ne.documentTargetsIndex},function(c,l){var f=c[0],p=(c[1],l.path),v=l.sequenceNumber;f===0?(u!==mn.ai&&n(new ht(_r(i)),u),u=v,i=p):u=mn.ai}).next(function(){u!==mn.ai&&n(new ht(_r(i)),u)})},t.prototype.So=function(e){return this.db.mh().aa(e)},t}();function _c(t,e){return $r(t).put(function(n,i){return new Ne(0,Kn(n.path),i)}(e,t.Fa))}function gm(t,e){var n=t.projectId;return t.I||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var $R=function(){function t(e,n,i){this.persistence=e,this.ph=n,this.bh=new Fe(_t),this.Sh=new Es(function(o){return sa(o)},Bl),this.Dh=Nt.min(),this.Sr=e.Th(i),this.Ch=e.mh(),this.ja=e.Ih(),this.Nh=new P1(this.Ch,this.Sr,this.persistence.Ah()),this.ph.xh(this.Nh)}return t.prototype.mo=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return e.vo(i,n.bh)})},t}();function XR(t,e){var n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=e.batch.keys(),u=n.Ch.ra({oa:!0});return function(c,l,f,p){var v=f.batch,m=v.keys(),y=z.resolve();return m.forEach(function(b){y=y.next(function(){return p.Rr(l,b)}).next(function(_){var T=_,O=f.dr.get(b);lt(O!==null),(!T||T.version.h(O)<0)&&(T=v.hr(b,T,f))&&p.Ir(T,f._r)})}),y.next(function(){return c.Sr.Qo(l,v)})}(n,i,e,u).next(function(){return u.apply(i)}).next(function(){return n.Sr.zo(i)}).next(function(){return n.Nh.Or(i,o)})})}function j1(t){var e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.ja.Ia(n)})}function YR(t,e){var n=J(t),i=e.nt,o=n.bh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var c=n.Ch.ra({oa:!0});o=n.bh;var l=[];e.zt.forEach(function(m,y){var b=o.get(y);if(b){l.push(n.ja.Ca(u,m.se,y).next(function(){return n.ja.Sa(u,m.ee,y)}));var _=m.resumeToken;if(_.o()>0){var T=b.it(_,i).st(u.Fa);o=o.ot(y,T),function(O,x,R){return lt(x.resumeToken.o()>0),O.resumeToken.o()===0||x.nt.p()-O.nt.p()>=3e8||R.ee.size+R.ne.size+R.se.size>0}(b,T,m)&&l.push(n.ja.Va(u,T))}}});var f=$i(),p=Gt();if(e.Jt.forEach(function(m,y){p=p.add(m)}),l.push(c.getEntries(u,p).next(function(m){e.Jt.forEach(function(y,b){var _=m.get(y);b instanceof Ee&&b.version.isEqual(Nt.min())?(c.Ar(y,i),f=f.ot(y,b)):_==null||b.version.h(_.version)>0||b.version.h(_.version)===0&&_.hasPendingWrites?(c.Ir(b,i),f=f.ot(y,b)):X("LocalStore","Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",b.version),e.Yt.has(y)&&l.push(n.persistence.No.yh(u,y))})})),!i.isEqual(Nt.min())){var v=n.ja.Ia(u).next(function(m){return n.ja.Aa(u,u.Fa,i)});l.push(v)}return z.kn(l).next(function(){return c.apply(u)}).next(function(){return n.Nh.Mr(u,f)})}).then(function(u){return n.bh=o,u})}function JR(t,e){var n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return e===void 0&&(e=-1),n.Sr.Bo(i,e)})}function hl(t,e){var n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.ja.va(i,e).next(function(u){return u?(o=u,z.resolve(o)):n.ja.wa(i).next(function(c){return o=new Gl(e,c,0,i.Fa),n.ja.Ra(i,o).next(function(){return o})})})}).then(function(i){var o=n.bh.get(i.targetId);return(o===null||i.nt.h(o.nt)>0)&&(n.bh=n.bh.ot(i.targetId,i),n.Sh.set(e,i.targetId)),i})}function ps(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,c;return B(this,function(l){switch(l.label){case 0:i=J(t),o=i.bh.get(e),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.No.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!eo(c=l.sent()))throw c;return X("LocalStore","Failed to update sequence numbers for target "+e+": "+c),[3,5];case 5:return i.bh=i.bh.remove(e),i.Sh.delete(o.target),[2]}})})}function pl(t,e,n){var i=J(t),o=Nt.min(),u=Gt();return i.persistence.runTransaction("Execute query","readonly",function(c){return function(l,f,p){var v=J(l),m=v.Sh.get(p);return m!==void 0?z.resolve(v.bh.get(m)):v.ja.va(f,p)}(i,c,fr(e)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.ja.xa(c,l.targetId).next(function(f){u=f})}).next(function(){return i.ph.Lr(c,e,n?o:Nt.min(),n?u:Gt())}).next(function(l){return{documents:l,Fh:u}})})}function V1(t,e){var n=J(t),i=J(n.ja),o=n.bh.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.Ue(u,e).next(function(c){return c?c.target:null})})}function QR(t){var e=J(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var c=J(i),l=$i(),f=vm(u),p=Kr(o),v=IDBKeyRange.lowerBound(f,!0);return p.rs({index:re.readTimeIndex,range:v},function(m,y){var b=Wd(c.serializer,y);l=l.ot(b.key,b),f=y.readTime}).next(function(){return{kh:l,readTime:D1(f)}})}(e.Ch,n,e.Dh)}).then(function(n){var i=n.kh,o=n.readTime;return e.Dh=o,i})}function ZR(t){return H(this,void 0,void 0,function(){var e;return B(this,function(n){return[2,(e=J(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=Kr(o),c=Nt.min();return u.rs({index:re.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(c=D1(f.readTime)),p.done()}).next(function(){return c})}(i)}).then(function(i){e.Dh=i})]})})}function no(t){return H(this,void 0,void 0,function(){return B(this,function(e){if(t.code!==k.FAILED_PRECONDITION||t.message!==x1)throw t;return X("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ym=function(){function t(){this.Oh=new me(Ie.Mh),this.$h=new me(Ie.Lh)}return t.prototype.P=function(){return this.Oh.P()},t.prototype.Da=function(e,n){var i=new Ie(e,n);this.Oh=this.Oh.add(i),this.$h=this.$h.add(i)},t.prototype.Bh=function(e,n){var i=this;e.forEach(function(o){return i.Da(o,n)})},t.prototype.Na=function(e,n){this.qh(new Ie(e,n))},t.prototype.Uh=function(e,n){var i=this;e.forEach(function(o){return i.Na(o,n)})},t.prototype.Kh=function(e){var n=this,i=new ht(new Wt([])),o=new Ie(i,e),u=new Ie(i,e+1),c=[];return this.$h.xt([o,u],function(l){n.qh(l),c.push(l.key)}),c},t.prototype.Qh=function(){var e=this;this.Oh.forEach(function(n){return e.qh(n)})},t.prototype.qh=function(e){this.Oh=this.Oh.delete(e),this.$h=this.$h.delete(e)},t.prototype.Wh=function(e){var n=new ht(new Wt([])),i=new Ie(n,e),o=new Ie(n,e+1),u=Gt();return this.$h.xt([i,o],function(c){u=u.add(c.key)}),u},t.prototype.Ho=function(e){var n=new Ie(e,0),i=this.Oh.kt(n);return i!==null&&e.isEqual(i.key)},t}(),Ie=function(){function t(e,n){this.key=e,this.jh=n}return t.Mh=function(e,n){return ht.D(e.key,n.key)||_t(e.jh,n.jh)},t.Lh=function(e,n){return _t(e.jh,n.jh)||ht.D(e.key,n.key)},t}(),tL=function(t,e){this.user=e,this.type="OAuth",this.Gh={},this.Gh.Authorization="Bearer "+t},hI=function(){function t(){this.zh=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.Hh=function(){},t.prototype.Jh=function(e){this.zh=e,e(Tn.UNAUTHENTICATED)},t.prototype.Yh=function(){this.zh=null},t}(),eL=function(){function t(e){var n=this;this.Xh=null,this.currentUser=Tn.UNAUTHENTICATED,this.Zh=!1,this.tc=0,this.zh=null,this.forceRefresh=!1,this.Xh=function(){n.tc++,n.currentUser=n.ec(),n.Zh=!0,n.zh&&n.zh(n.currentUser)},this.tc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Xh):(this.Xh(null),e.get().then(function(i){n.auth=i,n.Xh&&n.auth.addAuthTokenListener(n.Xh)},function(){}))}return t.prototype.getToken=function(){var e=this,n=this.tc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return e.tc!==n?(X("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):o?(lt(typeof o.accessToken=="string"),new tL(o.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.Hh=function(){this.forceRefresh=!0},t.prototype.Jh=function(e){this.zh=e,this.Zh&&e(this.currentUser)},t.prototype.Yh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Xh),this.Xh=null,this.zh=null},t.prototype.ec=function(){var e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string"),new Tn(e)},t}(),nL=function(){function t(e,n){this.nc=e,this.sc=n,this.type="FirstParty",this.user=Tn.ni}return Object.defineProperty(t.prototype,"Gh",{get:function(){var e={"X-Goog-AuthUser":this.sc},n=this.nc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),e},enumerable:!1,configurable:!0}),t}(),rL=function(){function t(e,n){this.nc=e,this.sc=n}return t.prototype.getToken=function(){return Promise.resolve(new nL(this.nc,this.sc))},t.prototype.Jh=function(e){e(Tn.ni)},t.prototype.Yh=function(){},t.prototype.Hh=function(){},t}(),U1=function(){function t(e,n,i,o,u,c){this.fn=e,this.ic=i,this.rc=o,this.oc=u,this.listener=c,this.state=0,this.ac=0,this.hc=null,this.stream=null,this.Vs=new fm(e,n)}return t.prototype.cc=function(){return this.state===1||this.state===2||this.state===4},t.prototype.uc=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.lc()},t.prototype.stop=function(){return H(this,void 0,void 0,function(){return B(this,function(e){switch(e.label){case 0:return this.cc()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype._c=function(){this.state=0,this.Vs.reset()},t.prototype.fc=function(){var e=this;this.uc()&&this.hc===null&&(this.hc=this.fn.Vn(this.ic,6e4,function(){return e.dc()}))},t.prototype.wc=function(e){this.Ec(),this.stream.send(e)},t.prototype.dc=function(){return H(this,void 0,void 0,function(){return B(this,function(e){return this.uc()?[2,this.close(0)]:[2]})})},t.prototype.Ec=function(){this.hc&&(this.hc.cancel(),this.hc=null)},t.prototype.close=function(e,n){return H(this,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return this.Ec(),this.Vs.cancel(),this.ac++,e!==3?this.Vs.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(le(n.toString()),le("Using maximum backoff delay to prevent overloading the backend."),this.Vs.Rn()):n&&n.code===k.UNAUTHENTICATED&&this.oc.Hh(),this.stream!==null&&(this.Tc(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ic(n)];case 1:return i.sent(),[2]}})})},t.prototype.Tc=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.mc(this.ac),i=this.ac;this.oc.getToken().then(function(o){e.ac===i&&e.Ac(o)},function(o){n(function(){var u=new F(k.UNKNOWN,"Fetching auth token failed: "+o.message);return e.Rc(u)})})},t.prototype.Ac=function(e){var n=this,i=this.mc(this.ac);this.stream=this.Pc(e),this.stream.gc(function(){i(function(){return n.state=2,n.listener.gc()})}),this.stream.Ic(function(o){i(function(){return n.Rc(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},t.prototype.lc=function(){var e=this;this.state=4,this.Vs.Pn(function(){return H(e,void 0,void 0,function(){return B(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.Rc=function(e){return X("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.mc=function(e){var n=this;return function(i){n.fn.ws(function(){return n.ac===e?i():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),iL=function(t){function e(n,i,o,u,c){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,c)||this).serializer=u,l}return wt(e,t),e.prototype.Pc=function(n){return this.rc.Vc("Listen",n)},e.prototype.onMessage=function(n){this.Vs.reset();var i=function(u,c){var l;if("targetChange"in c){c.targetChange;var f=function(Ot){return Ot==="NO_CHANGE"?0:Ot==="ADD"?1:Ot==="REMOVE"?2:Ot==="CURRENT"?3:Ot==="RESET"?4:ot()}(c.targetChange.targetChangeType||"NO_CHANGE"),p=c.targetChange.targetIds||[],v=function(Ot,dt){return Ot.Ke?(lt(dt===void 0||typeof dt=="string"),Ue.fromBase64String(dt||"")):(lt(dt===void 0||dt instanceof Uint8Array),Ue.fromUint8Array(dt||new Uint8Array))}(u,c.targetChange.resumeToken),m=c.targetChange.cause,y=m&&function(Ot){var dt=Ot.code===void 0?k.UNKNOWN:J_(Ot.code);return new F(dt,Ot.message||"")}(m);l=new t1(f,p,v,y||null)}else if("documentChange"in c){c.documentChange;var b=c.documentChange;b.document,b.document.name,b.document.updateTime;var _=sr(u,b.document.name),T=Bn(b.document.updateTime),O=new ii({mapValue:{fields:b.document.fields}}),x=new Mt(_,T,O,{}),R=b.targetIds||[],G=b.removedTargetIds||[];l=new Pc(R,G,x.key,x)}else if("documentDelete"in c){c.documentDelete;var V=c.documentDelete;V.document;var U=sr(u,V.document),pt=V.readTime?Bn(V.readTime):Nt.min(),Lt=new Ee(U,pt),tt=V.removedTargetIds||[];l=new Pc([],tt,Lt.key,Lt)}else if("documentRemove"in c){c.documentRemove;var S=c.documentRemove;S.document;var ee=sr(u,S.document),Qt=S.removedTargetIds||[];l=new Pc([],Qt,ee,null)}else{if(!("filter"in c))return ot();c.filter;var fe=c.filter;fe.targetId;var we=fe.count||0,qe=new BC(we),Je=fe.targetId;l=new Z_(Je,qe)}return l}(this.serializer,n),o=function(u){if(!("targetChange"in u))return Nt.min();var c=u.targetChange;return c.targetIds&&c.targetIds.length?Nt.min():c.readTime?Bn(c.readTime):Nt.min()}(n);return this.listener.yc(i,o)},e.prototype.bc=function(n){var i={};i.database=Hu(this.serializer),i.addTarget=function(u,c){var l,f=c.target;return(l=Zc(f)?{documents:c1(u,f)}:{query:l1(u,f)}).targetId=c.targetId,c.resumeToken.o()>0&&(l.resumeToken=o1(u,c.resumeToken)),l}(this.serializer,n);var o=function(u,c){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,c.et);return l==null?null:{"goog-listen-tags":l}}(this.serializer,n);o&&(i.labels=o),this.wc(i)},e.prototype.vc=function(n){var i={};i.database=Hu(this.serializer),i.removeTarget=n,this.wc(i)},e}(U1),oL=function(t){function e(n,i,o,u,c){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,c)||this).serializer=u,l.Sc=!1,l}return wt(e,t),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.Sc},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Sc=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.Tc=function(){this.Sc&&this.Cc([])},e.prototype.Pc=function(n){return this.rc.Vc("Write",n)},e.prototype.onMessage=function(n){if(lt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Sc){this.Vs.reset();var i=function(u,c){return u&&u.length>0?(lt(c!==void 0),u.map(function(l){return function(f,p){var v=f.updateTime?Bn(f.updateTime):Bn(p);v.isEqual(Nt.min())&&(v=Bn(p));var m=null;return f.transformResults&&f.transformResults.length>0&&(m=f.transformResults),new aR(v,m)}(l,c)})):[]}(n.writeResults,n.commitTime),o=Bn(n.commitTime);return this.listener.Nc(o,i)}return lt(!n.writeResults||n.writeResults.length===0),this.Sc=!0,this.listener.xc()},e.prototype.Fc=function(){var n={};n.database=Hu(this.serializer),this.wc(n)},e.prototype.Cc=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return il(i.serializer,u)})};this.wc(o)},e}(U1),sL=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).credentials=n,u.rc=i,u.serializer=o,u.kc=!1,u}return wt(e,t),e.prototype.Oc=function(){if(this.kc)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mc=function(n,i,o){var u=this;return this.Oc(),this.credentials.getToken().then(function(c){return u.rc.Mc(n,i,o,c)}).catch(function(c){throw c.code===k.UNAUTHENTICATED&&u.credentials.Hh(),c})},e.prototype.$c=function(n,i,o){var u=this;return this.Oc(),this.credentials.getToken().then(function(c){return u.rc.$c(n,i,o,c)}).catch(function(c){throw c.code===k.UNAUTHENTICATED&&u.credentials.Hh(),c})},e.prototype.terminate=function(){this.kc=!1},e}(function(){}),uL=function(){function t(e,n){this.hs=e,this.di=n,this.state="Unknown",this.Lc=0,this.Bc=null,this.qc=!0}return t.prototype.Uc=function(){var e=this;this.Lc===0&&(this.Kc("Unknown"),this.Bc=this.hs.Vn("online_state_timeout",1e4,function(){return e.Bc=null,e.Qc("Backend didn't respond within 10 seconds."),e.Kc("Offline"),Promise.resolve()}))},t.prototype.Wc=function(e){this.state==="Online"?this.Kc("Unknown"):(this.Lc++,this.Lc>=1&&(this.jc(),this.Qc("Connection failed 1 times. Most recent error: "+e.toString()),this.Kc("Offline")))},t.prototype.set=function(e){this.jc(),this.Lc=0,e==="Online"&&(this.qc=!1),this.Kc(e)},t.prototype.Kc=function(e){e!==this.state&&(this.state=e,this.di(e))},t.prototype.Qc=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.qc?(le(n),this.qc=!1):X("OnlineStateTracker",n)},t.prototype.jc=function(){this.Bc!==null&&(this.Bc.cancel(),this.Bc=null)},t}(),aL=function(t,e,n,i,o){var u=this;this.Gc=t,this.zc=e,this.hs=n,this.Hc={},this.Jc=[],this.Yc=new Map,this.Xc=new Set,this.Zc=[],this.tu=o,this.tu.eu(function(c){n.ws(function(){return H(u,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return oi(this)?(X("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var p;return B(this,function(v){switch(v.label){case 0:return(p=J(f)).Xc.add(4),[4,ds(p)];case 1:return v.sent(),p.nu.set("Unknown"),p.Xc.delete(4),[4,Ku(p)];case 2:return v.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.nu=new uL(n,i)};function Ku(t){return H(this,void 0,void 0,function(){var e,n;return B(this,function(i){switch(i.label){case 0:if(!oi(t))return[3,4];e=0,n=t.Zc,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ds(t){return H(this,void 0,void 0,function(){var e,n;return B(this,function(i){switch(i.label){case 0:e=0,n=t.Zc,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function F1(t){return H(this,void 0,void 0,function(){var e;return B(this,function(n){switch(n.label){case 0:return e=J(t),X("RemoteStore","RemoteStore shutting down."),e.Xc.add(5),[4,ds(e)];case 1:return n.sent(),e.tu.Di(),e.nu.set("Unknown"),[2]}})})}function Kl(t,e){var n=J(t);n.Yc.has(e.targetId)||(n.Yc.set(e.targetId,e),Im(n)?bm(n):As(n).uc()&&wm(n,e))}function Wu(t,e){var n=J(t),i=As(n);n.Yc.delete(e),i.uc()&&q1(n,e),n.Yc.size===0&&(i.uc()?i.fc():oi(n)&&n.nu.set("Unknown"))}function wm(t,e){t.su.me(e.targetId),As(t).bc(e)}function q1(t,e){t.su.me(e),As(t).vc(e)}function bm(t){t.su=new $C({qe:function(e){return t.Hc.qe(e)},Ue:function(e){return t.Yc.get(e)||null}}),As(t).start(),t.nu.Uc()}function Im(t){return oi(t)&&!As(t).cc()&&t.Yc.size>0}function oi(t){return J(t).Xc.size===0}function B1(t){t.su=void 0}function cL(t){return H(this,void 0,void 0,function(){return B(this,function(e){return t.Yc.forEach(function(n,i){wm(t,n)}),[2]})})}function lL(t,e){return H(this,void 0,void 0,function(){return B(this,function(n){return B1(t),Im(t)?(t.nu.Wc(e),bm(t)):t.nu.set("Unknown"),[2]})})}function fL(t,e,n){return H(this,void 0,void 0,function(){var i,o,u;return B(this,function(c){switch(c.label){case 0:if(t.nu.set("Online"),!(e instanceof t1&&e.state===2&&e.cause))return[3,6];c.label=1;case 1:return c.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var p,v,m,y;return B(this,function(b){switch(b.label){case 0:p=f.cause,v=0,m=f.targetIds,b.label=1;case 1:return v<m.length?(y=m[v],l.Yc.has(y)?[4,l.Hc.iu(y,p)]:[3,3]):[3,5];case 2:b.sent(),l.Yc.delete(y),l.su.removeTarget(y),b.label=3;case 3:b.label=4;case 4:return v++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return c.sent(),[3,5];case 3:return i=c.sent(),X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,dl(t,i)];case 4:return c.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Pc?t.su.be(e):e instanceof Z_?t.su.ke(e):t.su.De(e),n.isEqual(Nt.min()))return[3,13];c.label=7;case 7:return c.trys.push([7,11,,13]),[4,j1(t.Gc)];case 8:return o=c.sent(),n.h(o)>=0?[4,function(l,f){var p=l.su.$e(f);return p.zt.forEach(function(v,m){if(v.resumeToken.o()>0){var y=l.Yc.get(m);y&&l.Yc.set(m,y.it(v.resumeToken,f))}}),p.Ht.forEach(function(v){var m=l.Yc.get(v);if(m){l.Yc.set(v,m.it(Ue.u,m.nt)),q1(l,v);var y=new Gl(m.target,v,1,m.sequenceNumber);wm(l,y)}}),l.Hc.ru(p)}(t,n)]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,13];case 11:return X("RemoteStore","Failed to raise snapshot:",u=c.sent()),[4,dl(t,u)];case 12:return c.sent(),[3,13];case 13:return[2]}})})}function dl(t,e,n){return H(this,void 0,void 0,function(){var i=this;return B(this,function(o){switch(o.label){case 0:if(!eo(e))throw e;return t.Xc.add(1),[4,ds(t)];case 1:return o.sent(),t.nu.set("Offline"),n||(n=function(){return j1(t.Gc)}),t.hs.Cs(function(){return H(i,void 0,void 0,function(){return B(this,function(u){switch(u.label){case 0:return X("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),t.Xc.delete(1),[4,Ku(t)];case 2:return u.sent(),[2]}})})}),[2]}})})}function G1(t,e){return e().catch(function(n){return dl(t,n,e)})}function Ts(t){return H(this,void 0,void 0,function(){var e,n,i,o,u;return B(this,function(c){switch(c.label){case 0:e=J(t),n=si(e),i=e.Jc.length>0?e.Jc[e.Jc.length-1].batchId:-1,c.label=1;case 1:if(!function(l){return oi(l)&&l.Jc.length<10}(e))return[3,7];c.label=2;case 2:return c.trys.push([2,4,,6]),[4,JR(e.Gc,i)];case 3:return(o=c.sent())===null?(e.Jc.length===0&&n.fc(),[3,7]):(i=o.batchId,function(l,f){l.Jc.push(f);var p=si(l);p.uc()&&p.Dc&&p.Cc(f.mutations)}(e,o),[3,6]);case 4:return u=c.sent(),[4,dl(e,u)];case 5:return c.sent(),[3,6];case 6:return[3,1];case 7:return H1(e)&&z1(e),[2]}})})}function H1(t){return oi(t)&&!si(t).cc()&&t.Jc.length>0}function z1(t){si(t).start()}function hL(t){return H(this,void 0,void 0,function(){return B(this,function(e){return si(t).Fc(),[2]})})}function pL(t){return H(this,void 0,void 0,function(){var e,n,i,o;return B(this,function(u){for(e=si(t),n=0,i=t.Jc;n<i.length;n++)o=i[n],e.Cc(o.mutations);return[2]})})}function dL(t,e,n){return H(this,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:return i=t.Jc.shift(),o=xR.from(i,e,n),[4,G1(t,function(){return t.Hc.ou(o)})];case 1:return u.sent(),[4,Ts(t)];case 2:return u.sent(),[2]}})})}function vL(t,e){return H(this,void 0,void 0,function(){return B(this,function(n){switch(n.label){case 0:return e&&si(t).Dc?[4,function(i,o){return H(this,void 0,void 0,function(){var u,c;return B(this,function(l){switch(l.label){case 0:return Y_(c=o.code)&&c!==k.ABORTED?(u=i.Jc.shift(),si(i)._c(),[4,G1(i,function(){return i.Hc.au(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Ts(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return H1(t)&&z1(t),[2]}})})}function $d(t,e){return H(this,void 0,void 0,function(){var n;return B(this,function(i){switch(i.label){case 0:return n=J(t),e?(n.Xc.delete(2),[4,Ku(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Xc.add(2),[4,ds(n)]);case 3:i.sent(),n.nu.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function As(t){var e=this;return t.hu||(t.hu=function(n,i,o){var u=J(n);return u.Oc(),new iL(i,u.rc,u.credentials,u.serializer,o)}(t.zc,t.hs,{gc:cL.bind(null,t),Ic:lL.bind(null,t),yc:fL.bind(null,t)}),t.Zc.push(function(n){return H(e,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return n?(t.hu._c(),Im(t)?bm(t):t.nu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.hu.stop()];case 2:i.sent(),B1(t),i.label=3;case 3:return[2]}})})})),t.hu}function si(t){var e=this;return t.cu||(t.cu=function(n,i,o){var u=J(n);return u.Oc(),new oL(i,u.rc,u.credentials,u.serializer,o)}(t.zc,t.hs,{gc:hL.bind(null,t),Ic:vL.bind(null,t),xc:pL.bind(null,t),Nc:dL.bind(null,t)}),t.Zc.push(function(n){return H(e,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return n?(t.cu._c(),[4,Ts(t)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.cu.stop()];case 3:i.sent(),t.Jc.length>0&&(X("RemoteStore","Stopping write stream with "+t.Jc.length+" pending writes"),t.Jc=[]),i.label=4;case 4:return[2]}})})})),t.cu}var K1=function(t){this.key=t},W1=function(t){this.key=t},$1=function(){function t(e,n){this.query=e,this.uu=n,this.lu=null,this.te=!1,this._u=Gt(),this.Qt=Gt(),this.fu=_1(e),this.du=new Q_(this.fu)}return Object.defineProperty(t.prototype,"wu",{get:function(){return this.uu},enumerable:!1,configurable:!0}),t.prototype.Eu=function(e,n){var i=this,o=n?n.Tu:new Rb,u=n?n.du:this.du,c=n?n.Qt:this.Qt,l=u,f=!1,p=Dc(this.query)&&u.size===this.query.limit?u.last():null,v=sl(this.query)&&u.size===this.query.limit?u.first():null;if(e.ut(function(y,b){var _=u.get(y),T=b instanceof Mt?b:null;T&&(T=pa(i.query,T)?T:null);var O=!!_&&i.Qt.has(_.key),x=!!T&&(T.Ye||i.Qt.has(T.key)&&T.hasCommittedMutations),R=!1;_&&T?_.data().isEqual(T.data())?O!==x&&(o.track({type:3,doc:T}),R=!0):i.Iu(_,T)||(o.track({type:2,doc:T}),R=!0,(p&&i.fu(T,p)>0||v&&i.fu(T,v)<0)&&(f=!0)):!_&&T?(o.track({type:0,doc:T}),R=!0):_&&!T&&(o.track({type:1,doc:_}),R=!0,(p||v)&&(f=!0)),R&&(T?(l=l.add(T),c=x?c.add(y):c.delete(y)):(l=l.delete(y),c=c.delete(y)))}),Dc(this.query)||sl(this.query))for(;l.size>this.query.limit;){var m=Dc(this.query)?l.last():l.first();l=l.delete(m.key),c=c.delete(m.key),o.track({type:1,doc:m})}return{du:l,Tu:o,mu:f,Qt:c}},t.prototype.Iu=function(e,n){return e.Ye&&n.hasCommittedMutations&&!n.Ye},t.prototype.Vr=function(e,n,i){var o=this,u=this.du;this.du=e.du,this.Qt=e.Qt;var c=e.Tu.Ut();c.sort(function(v,m){return function(y,b){var _=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return _(y)-_(b)}(v.type,m.type)||o.fu(v.doc,m.doc)}),this.Au(i);var l=n?this.Ru():[],f=this._u.size===0&&this.te?1:0,p=f!==this.lu;return this.lu=f,c.length!==0||p?{snapshot:new el(this.query,e.du,u,c,e.Qt,f===0,p,!1),Pu:l}:{Pu:l}},t.prototype.Ks=function(e){return this.te&&e==="Offline"?(this.te=!1,this.Vr({du:this.du,Tu:new Rb,Qt:this.Qt,mu:!1},!1)):{Pu:[]}},t.prototype.gu=function(e){return!this.uu.has(e)&&!!this.du.has(e)&&!this.du.get(e).Ye},t.prototype.Au=function(e){var n=this;e&&(e.ee.forEach(function(i){return n.uu=n.uu.add(i)}),e.ne.forEach(function(i){}),e.se.forEach(function(i){return n.uu=n.uu.delete(i)}),this.te=e.te)},t.prototype.Ru=function(){var e=this;if(!this.te)return[];var n=this._u;this._u=Gt(),this.du.forEach(function(o){e.gu(o.key)&&(e._u=e._u.add(o.key))});var i=[];return n.forEach(function(o){e._u.has(o)||i.push(new W1(o))}),this._u.forEach(function(o){n.has(o)||i.push(new K1(o))}),i},t.prototype.Vu=function(e){this.uu=e.Fh,this._u=Gt();var n=this.Eu(e.documents);return this.Vr(n,!0)},t.prototype.yu=function(){return el.Gt(this.query,this.du,this.Qt,this.lu===0)},t}(),mL=function(t,e,n){this.query=t,this.targetId=e,this.view=n},gL=function(t){this.key=t,this.pu=!1},yL=function(){function t(e,n,i,o,u,c){this.Gc=e,this.bu=n,this.vu=i,this.Su=o,this.currentUser=u,this.Du=c,this.Cu={},this.Nu=new Es(function(l){return E1(l)},_s),this.xu=new Map,this.Fu=[],this.ku=new Fe(ht.D),this.Ou=new Map,this.Mu=new ym,this.$u={},this.Lu=new Map,this.Bu=fl.da(),this.onlineState="Unknown",this.qu=void 0}return Object.defineProperty(t.prototype,"Uu",{get:function(){return this.qu===!0},enumerable:!1,configurable:!0}),t}();function wL(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,c,l;return B(this,function(f){switch(f.label){case 0:return n=Sm(t),(u=n.Nu.get(e))?(i=u.targetId,n.Su.$i(i),o=u.view.yu(),[3,4]):[3,1];case 1:return[4,hl(n.Gc,fr(e))];case 2:return c=f.sent(),l=n.Su.$i(c.targetId),i=c.targetId,[4,Em(n,e,i,l==="current")];case 3:o=f.sent(),n.Uu&&Kl(n.bu,c),f.label=4;case 4:return[2,o]}})})}function Em(t,e,n,i){return H(this,void 0,void 0,function(){var o,u,c,l,f,p;return B(this,function(v){switch(v.label){case 0:return t.Ku=function(m,y,b){return function(_,T,O,x){return H(this,void 0,void 0,function(){var R,G,V;return B(this,function(U){switch(U.label){case 0:return R=T.view.Eu(O),R.mu?[4,pl(_.Gc,T.query,!1).then(function(pt){var Lt=pt.documents;return T.view.Eu(Lt,R)})]:[3,2];case 1:R=U.sent(),U.label=2;case 2:return G=x&&x.zt.get(T.targetId),V=T.view.Vr(R,_.Uu,G),[2,(Xd(_,T.targetId,V.Pu),V.snapshot)]}})})}(t,m,y,b)},[4,pl(t.Gc,e,!0)];case 1:return o=v.sent(),u=new $1(e,o.Fh),c=u.Eu(o.documents),l=nm.Zt(n,i&&t.onlineState!=="Offline"),f=u.Vr(c,t.Uu,l),Xd(t,n,f.Pu),p=new mL(e,n,u),[2,(t.Nu.set(e,p),t.xu.has(n)?t.xu.get(n).push(e):t.xu.set(n,[e]),f.snapshot)]}})})}function bL(t,e){return H(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:return n=J(t),i=n.Nu.get(e),(o=n.xu.get(i.targetId)).length>1?[2,(n.xu.set(i.targetId,o.filter(function(c){return!_s(c,e)})),void n.Nu.delete(e))]:n.Uu?(n.Su.Bi(i.targetId),n.Su.xi(i.targetId)?[3,2]:[4,ps(n.Gc,i.targetId,!1).then(function(){n.Su.Ui(i.targetId),Wu(n.bu,i.targetId),vs(n,i.targetId)}).catch(no)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return vs(n,i.targetId),[4,ps(n.Gc,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function X1(t,e){return H(this,void 0,void 0,function(){var n,i;return B(this,function(o){switch(o.label){case 0:n=J(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,YR(n.Gc,e)];case 2:return i=o.sent(),e.zt.forEach(function(u,c){var l=n.Ou.get(c);l&&(lt(u.ee.size+u.ne.size+u.se.size<=1),u.ee.size>0?l.pu=!0:u.ne.size>0?lt(l.pu):u.se.size>0&&(lt(l.pu),l.pu=!1))}),[4,ro(n,i,e)];case 3:return o.sent(),[3,6];case 4:return[4,no(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function pI(t,e,n){var i=J(t);if(i.Uu&&n===0||!i.Uu&&n===1){var o=[];i.Nu.forEach(function(u,c){var l=c.view.Ks(e);l.snapshot&&o.push(l.snapshot)}),function(u,c){var l=J(u);l.onlineState=c;var f=!1;l.Bs.forEach(function(p,v){for(var m=0,y=v.listeners;m<y.length;m++)y[m].Ks(c)&&(f=!0)}),f&&pm(l)}(i.vu,e),o.length&&i.Cu.yc(o),i.onlineState=e,i.Uu&&i.Su.ji(e)}}function IL(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,c,l,f;return B(this,function(p){switch(p.label){case 0:return(i=J(t)).Su.Ki(e,"rejected",n),o=i.Ou.get(e),(u=o&&o.key)?(c=(c=new Fe(ht.D)).ot(u,new Ee(u,Nt.min())),l=Gt().add(u),f=new em(Nt.min(),new Map,new me(_t),c,l),[4,X1(i,f)]):[3,2];case 1:return p.sent(),i.ku=i.ku.remove(u),i.Ou.delete(e),Am(i),[3,4];case 2:return[4,ps(i.Gc,e,!1).then(function(){return vs(i,e,n)}).catch(no)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function EL(t,e){return H(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:n=J(t),i=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,XR(n.Gc,e)];case 2:return o=u.sent(),Tm(n,i,null),_m(n,i),n.Su.Oi(i,"acknowledged"),[4,ro(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,no(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function _L(t,e,n){return H(this,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:i=J(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(c,l){var f=J(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var v;return f.Sr.$o(p,l).next(function(m){return lt(m!==null),v=m.keys(),f.Sr.Qo(p,m)}).next(function(){return f.Sr.zo(p)}).next(function(){return f.Nh.Or(p,v)})})}(i.Gc,e)];case 2:return o=u.sent(),Tm(i,e,n),_m(i,e),i.Su.Oi(e,"rejected",n),[4,ro(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,no(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function _m(t,e){(t.Lu.get(e)||[]).forEach(function(n){n.resolve()}),t.Lu.delete(e)}function Tm(t,e,n){var i=J(t),o=i.$u[i.currentUser.ti()];if(o){var u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.$u[i.currentUser.ti()]=o}}function vs(t,e,n){n===void 0&&(n=null),t.Su.Bi(e);for(var i=0,o=t.xu.get(e);i<o.length;i++){var u=o[i];t.Nu.delete(u),n&&t.Cu.Qu(u,n)}t.xu.delete(e),t.Uu&&t.Mu.Kh(e).forEach(function(c){t.Mu.Ho(c)||Y1(t,c)})}function Y1(t,e){var n=t.ku.get(e);n!==null&&(Wu(t.bu,n),t.ku=t.ku.remove(e),t.Ou.delete(n),Am(t))}function Xd(t,e,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof K1?(t.Mu.Da(u.key,e),TL(t,u)):u instanceof W1?(X("SyncEngine","Document no longer in limbo: "+u.key),t.Mu.Na(u.key,e),t.Mu.Ho(u.key)||Y1(t,u.key)):ot()}}function TL(t,e){var n=e.key;t.ku.get(n)||(X("SyncEngine","New document in limbo: "+n),t.Fu.push(n),Am(t))}function Am(t){for(;t.Fu.length>0&&t.ku.size<t.Du;){var e=t.Fu.shift(),n=t.Bu.next();t.Ou.set(n,new gL(e)),t.ku=t.ku.ot(e,n),Kl(t.bu,new Gl(fr(ha(e.path)),n,2,mn.ai))}}function ro(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,c;return B(this,function(l){switch(l.label){case 0:return i=J(t),o=[],u=[],c=[],i.Nu.P()?[3,3]:(i.Nu.forEach(function(f,p){c.push(i.Ku(p,e,n).then(function(v){if(v){i.Uu&&i.Su.Ki(p.targetId,v.fromCache?"not-current":"current"),o.push(v);var m=OR.zr(p.targetId,v);u.push(m)}}))}),[4,Promise.all(c)]);case 1:return l.sent(),i.Cu.yc(o),[4,function(f,p){return H(this,void 0,void 0,function(){var v,m,y,b,_,T,O,x,R;return B(this,function(G){switch(G.label){case 0:v=J(f),G.label=1;case 1:return G.trys.push([1,3,,4]),[4,v.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(V){return z.forEach(p,function(U){return z.forEach(U.jr,function(pt){return v.persistence.No.Da(V,U.targetId,pt)}).next(function(){return z.forEach(U.Gr,function(pt){return v.persistence.No.Na(V,U.targetId,pt)})})})})];case 2:return G.sent(),[3,4];case 3:if(!eo(m=G.sent()))throw m;return X("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(y=0,b=p;y<b.length;y++)_=b[y],T=_.targetId,_.fromCache||(O=v.bh.get(T),x=O.nt,R=O.rt(x),v.bh=v.bh.ot(T,R));return[2]}})})}(i.Gc,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function AL(t,e){return H(this,void 0,void 0,function(){var n,i;return B(this,function(o){switch(o.label){case 0:return(n=J(t)).currentUser.isEqual(e)?[3,3]:(X("SyncEngine","User change. New user:",e.ti()),[4,function(u,c){return H(this,void 0,void 0,function(){var l,f,p,v;return B(this,function(m){switch(m.label){case 0:return l=J(u),f=l.Sr,p=l.Nh,[4,l.persistence.runTransaction("Handle user change","readonly",function(y){var b;return l.Sr.Uo(y).next(function(_){return b=_,f=l.persistence.Th(c),p=new P1(l.Ch,f,l.persistence.Ah()),f.Uo(y)}).next(function(_){for(var T=[],O=[],x=Gt(),R=0,G=b;R<G.length;R++){var V=G[R];T.push(V.batchId);for(var U=0,pt=V.mutations;U<pt.length;U++){var Lt=pt[U];x=x.add(Lt.key)}}for(var tt=0,S=_;tt<S.length;tt++){var ee=S[tt];O.push(ee.batchId);for(var Qt=0,fe=ee.mutations;Qt<fe.length;Qt++){var we=fe[Qt];x=x.add(we.key)}}return p.Or(y,x).next(function(qe){return{Wu:qe,ju:T,Gu:O}})})})];case 1:return v=m.sent(),[2,(l.Sr=f,l.Nh=p,l.ph.xh(l.Nh),v)]}})})}(n.Gc,e)]);case 1:return i=o.sent(),n.currentUser=e,function(u,c){u.Lu.forEach(function(l){l.forEach(function(f){f.reject(new F(k.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Lu.clear()}(n),n.Su.Wi(e,i.ju,i.Gu),[4,ro(n,i.Wu)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function SL(t,e){var n=J(t),i=n.Ou.get(e);if(i&&i.pu)return Gt().add(i.key);var o=Gt(),u=n.xu.get(e);if(!u)return o;for(var c=0,l=u;c<l.length;c++){var f=l[c],p=n.Nu.get(f);o=o.Ot(p.view.wu)}return o}function NL(t,e){return H(this,void 0,void 0,function(){var n,i,o;return B(this,function(u){switch(u.label){case 0:return[4,pl((n=J(t)).Gc,e.query,!0)];case 1:return i=u.sent(),o=e.view.Vu(i),[2,(n.Uu&&Xd(n,e.targetId,o.Pu),o)]}})})}function kL(t,e,n,i){return H(this,void 0,void 0,function(){var o,u;return B(this,function(c){switch(c.label){case 0:return[4,function(l,f){var p=J(l),v=J(p.Sr);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return v.Lo(m,f).next(function(y){return y?p.Nh.Or(m,y):z.resolve(null)})})}((o=J(t)).Gc,e)];case 1:return(u=c.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Ts(o.bu)];case 2:return c.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Tm(o,e,i||null),_m(o,e),function(l,f){J(J(l).Sr).jo(f)}(o.Gc,e)):ot(),c.label=4;case 4:return[4,ro(o,u)];case 5:return c.sent(),[3,7];case 6:X("SyncEngine","Cannot apply mutation batch with id: "+e),c.label=7;case 7:return[2]}})})}function xL(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,c,l,f,p;return B(this,function(v){switch(v.label){case 0:return Sm(n=J(t)),Nm(n),e!==!0||n.qu===!0?[3,3]:(i=n.Su.Ci(),[4,dI(n,i.L())]);case 1:return o=v.sent(),n.qu=!0,[4,$d(n.bu,!0)];case 2:for(v.sent(),u=0,c=o;u<c.length;u++)l=c[u],Kl(n.bu,l);return[3,7];case 3:return e!==!1||n.qu===!1?[3,7]:(f=[],p=Promise.resolve(),n.xu.forEach(function(m,y){n.Su.qi(y)?f.push(y):p=p.then(function(){return vs(n,y),ps(n.Gc,y,!0)}),Wu(n.bu,y)}),[4,p]);case 4:return v.sent(),[4,dI(n,f)];case 5:return v.sent(),function(m){var y=J(m);y.Ou.forEach(function(b,_){Wu(y.bu,_)}),y.Mu.Qh(),y.Ou=new Map,y.ku=new Fe(ht.D)}(n),n.qu=!1,[4,$d(n.bu,!1)];case 6:v.sent(),v.label=7;case 7:return[2]}})})}function dI(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,c,l,f,p,v,m,y,b,_,T,O;return B(this,function(x){switch(x.label){case 0:i=J(t),o=[],u=[],c=0,l=e,x.label=1;case 1:return c<l.length?(f=l[c],p=void 0,(v=i.xu.get(f))&&v.length!==0?[4,hl(i.Gc,fr(v[0]))]:[3,7]):[3,13];case 2:p=x.sent(),m=0,y=v,x.label=3;case 3:return m<y.length?(b=y[m],_=i.Nu.get(b),[4,NL(i,_)]):[3,6];case 4:(T=x.sent()).snapshot&&u.push(T.snapshot),x.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,V1(i.Gc,f)];case 8:return O=x.sent(),[4,hl(i.Gc,O)];case 9:return p=x.sent(),[4,Em(i,J1(O),f,!1)];case 10:x.sent(),x.label=11;case 11:o.push(p),x.label=12;case 12:return c++,[3,1];case 13:return[2,(i.Cu.yc(u),o)]}})})}function J1(t){return I1(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function OL(t){var e=J(t);return J(J(e.Gc).persistence).pi()}function PL(t,e,n,i){return H(this,void 0,void 0,function(){var o,u,c;return B(this,function(l){switch(l.label){case 0:return(o=J(t)).qu?(X("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.xu.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,QR(o.Gc)];case 3:return u=l.sent(),c=em.Xt(e,n==="current"),[4,ro(o,u,c)];case 4:return l.sent(),[3,8];case 5:return[4,ps(o.Gc,e,!0)];case 6:return l.sent(),vs(o,e,i),[3,8];case 7:ot(),l.label=8;case 8:return[2]}})})}function DL(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,c,l,f,p,v,m,y;return B(this,function(b){switch(b.label){case 0:if(!(i=Sm(t)).qu)return[3,10];o=0,u=e,b.label=1;case 1:return o<u.length?(c=u[o],i.xu.has(c)?(X("SyncEngine","Adding an already active target "+c),[3,5]):[4,V1(i.Gc,c)]):[3,6];case 2:return l=b.sent(),[4,hl(i.Gc,l)];case 3:return f=b.sent(),[4,Em(i,J1(l),f.targetId,!1)];case 4:b.sent(),Kl(i.bu,f),b.label=5;case 5:return o++,[3,1];case 6:p=function(_){return B(this,function(T){switch(T.label){case 0:return i.xu.has(_)?[4,ps(i.Gc,_,!1).then(function(){Wu(i.bu,_),vs(i,_)}).catch(no)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},v=0,m=n,b.label=7;case 7:return v<m.length?(y=m[v],[5,p(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return v++,[3,7];case 10:return[2]}})})}function Sm(t){var e=J(t);return e.bu.Hc.ru=X1.bind(null,e),e.bu.Hc.qe=SL.bind(null,e),e.bu.Hc.iu=IL.bind(null,e),e.Cu.yc=SR.bind(null,e.vu),e.Cu.Qu=NR.bind(null,e.vu),e}function Nm(t){var e=J(t);return e.bu.Hc.ou=EL.bind(null,e),e.bu.Hc.au=_L.bind(null,e),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=function(){function t(){}return t.prototype.xh=function(e){this.zu=e},t.prototype.Lr=function(e,n,i,o){var u=this;return function(c){return c.filters.length===0&&c.limit===null&&c.startAt==null&&c.endAt==null&&(c.on.length===0||c.on.length===1&&c.on[0].field.W())}(n)||i.isEqual(Nt.min())?this.Hu(e,n):this.zu.Or(e,o).next(function(c){var l=u.Ju(n,c);return(Dc(n)||sl(n))&&u.mu(n.an,l,o,i)?u.Hu(e,n):(Ld()<=Rt.DEBUG&&X("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zd(n)),u.zu.Lr(e,n,i).next(function(f){return l.forEach(function(p){f=f.ot(p.key,p)}),f}))})},t.prototype.Ju=function(e,n){var i=new me(_1(e));return n.forEach(function(o,u){u instanceof Mt&&pa(e,u)&&(i=i.add(u))}),i},t.prototype.mu=function(e,n,i,o){if(i.size!==n.size)return!0;var u=e==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.h(o)>0)},t.prototype.Hu=function(e,n){return Ld()<=Rt.DEBUG&&X("IndexFreeQueryEngine","Using full collection scan to execute query:",zd(n)),this.zu.Lr(e,n,Nt.min())},t}(),RL=function(){function t(e,n){this.Dr=e,this.No=n,this.Sr=[],this.Yu=1,this.Xu=new me(Ie.Mh)}return t.prototype.ko=function(e){return z.resolve(this.Sr.length===0)},t.prototype.Oo=function(e,n,i,o){var u=this.Yu;this.Yu++,this.Sr.length>0&&this.Sr[this.Sr.length-1];var c=new dm(u,n,i,o);this.Sr.push(c);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.Xu=this.Xu.add(new Ie(p.key,u)),this.Dr.Mo(e,p.key.path.F())}return z.resolve(c)},t.prototype.$o=function(e,n){return z.resolve(this.Zu(n))},t.prototype.Bo=function(e,n){var i=n+1,o=this.tl(i),u=o<0?0:o;return z.resolve(this.Sr.length>u?this.Sr[u]:null)},t.prototype.qo=function(){return z.resolve(this.Sr.length===0?-1:this.Yu-1)},t.prototype.Uo=function(e){return z.resolve(this.Sr.slice())},t.prototype.Nr=function(e,n){var i=this,o=new Ie(n,0),u=new Ie(n,Number.POSITIVE_INFINITY),c=[];return this.Xu.xt([o,u],function(l){var f=i.Zu(l.jh);c.push(f)}),z.resolve(c)},t.prototype.$r=function(e,n){var i=this,o=new me(_t);return n.forEach(function(u){var c=new Ie(u,0),l=new Ie(u,Number.POSITIVE_INFINITY);i.Xu.xt([c,l],function(f){o=o.add(f.jh)})}),z.resolve(this.el(o))},t.prototype.Qr=function(e,n){var i=n.path,o=i.length+1,u=i;ht.X(u)||(u=u.child(""));var c=new Ie(new ht(u),0),l=new me(_t);return this.Xu.Ft(function(f){var p=f.key.path;return!!i.M(p)&&(p.length===o&&(l=l.add(f.jh)),!0)},c),z.resolve(this.el(l))},t.prototype.el=function(e){var n=this,i=[];return e.forEach(function(o){var u=n.Zu(o);u!==null&&i.push(u)}),i},t.prototype.Qo=function(e,n){var i=this;lt(this.nl(n.batchId,"removed")===0),this.Sr.shift();var o=this.Xu;return z.forEach(n.mutations,function(u){var c=new Ie(u.key,n.batchId);return o=o.delete(c),i.No.Go(e,u.key)}).next(function(){i.Xu=o})},t.prototype.jo=function(e){},t.prototype.Ho=function(e,n){var i=new Ie(n,0),o=this.Xu.kt(i);return z.resolve(n.isEqual(o&&o.key))},t.prototype.zo=function(e){return this.Sr.length,z.resolve()},t.prototype.nl=function(e,n){return this.tl(e)},t.prototype.tl=function(e){return this.Sr.length===0?0:e-this.Sr[0].batchId},t.prototype.Zu=function(e){var n=this.tl(e);return n<0||n>=this.Sr.length?null:this.Sr[n]},t}(),LL=function(){function t(e,n){this.Dr=e,this.sl=n,this.docs=new Fe(ht.D),this.size=0}return t.prototype.Ir=function(e,n,i){var o=n.key,u=this.docs.get(o),c=u?u.size:0,l=this.sl(n);return this.docs=this.docs.ot(o,{ta:n,size:l,readTime:i}),this.size+=l-c,this.Dr.Mo(e,o.path.F())},t.prototype.Ar=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.Rr=function(e,n){var i=this.docs.get(n);return z.resolve(i?i.ta:null)},t.prototype.getEntries=function(e,n){var i=this,o=tl();return n.forEach(function(u){var c=i.docs.get(u);o=o.ot(u,c?c.ta:null)}),z.resolve(o)},t.prototype.Lr=function(e,n,i){for(var o=qu(),u=new ht(n.path.child("")),c=this.docs.ft(u);c.At();){var l=c.It(),f=l.key,p=l.value,v=p.ta,m=p.readTime;if(!n.path.M(f.path))break;m.h(i)<=0||v instanceof Mt&&pa(n,v)&&(o=o.ot(v.key,v))}return z.resolve(o)},t.prototype.il=function(e,n){return z.forEach(this.docs,function(i){return n(i)})},t.prototype.ra=function(e){return new ML(this)},t.prototype.aa=function(e){return z.resolve(this.size)},t}(),ML=function(t){function e(n){var i=this;return(i=t.call(this)||this).ha=n,i}return wt(e,t),e.prototype.Vr=function(n){var i=this,o=[];return this.wr.forEach(function(u,c){c?o.push(i.ha.Ir(n,c,i.readTime)):i.ha.Ar(u)}),z.kn(o)},e.prototype.Pr=function(n,i){return this.ha.Rr(n,i)},e.prototype.gr=function(n,i){return this.ha.getEntries(n,i)},e}(k1),jL=function(){function t(e){this.persistence=e,this.rl=new Es(function(n){return sa(n)},Bl),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.ol=0,this.al=new ym,this.targetCount=0,this.hl=fl.fa()}return t.prototype.Ce=function(e,n){return this.rl.forEach(function(i,o){return n(o)}),z.resolve()},t.prototype.Ia=function(e){return z.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ma=function(e){return z.resolve(this.ol)},t.prototype.wa=function(e){return this.highestTargetId=this.hl.next(),z.resolve(this.highestTargetId)},t.prototype.Aa=function(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ol&&(this.ol=n),z.resolve()},t.prototype.Pa=function(e){this.rl.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.hl=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.ol&&(this.ol=e.sequenceNumber)},t.prototype.Ra=function(e,n){return this.Pa(n),this.targetCount+=1,z.resolve()},t.prototype.Va=function(e,n){return this.Pa(n),z.resolve()},t.prototype.ya=function(e,n){return this.rl.delete(n.target),this.al.Kh(n.targetId),this.targetCount-=1,z.resolve()},t.prototype.po=function(e,n,i){var o=this,u=0,c=[];return this.rl.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.rl.delete(l),c.push(o.pa(e,f.targetId)),u++)}),z.kn(c).next(function(){return u})},t.prototype.ba=function(e){return z.resolve(this.targetCount)},t.prototype.va=function(e,n){var i=this.rl.get(n)||null;return z.resolve(i)},t.prototype.Sa=function(e,n,i){return this.al.Bh(n,i),z.resolve()},t.prototype.Ca=function(e,n,i){this.al.Uh(n,i);var o=this.persistence.No,u=[];return o&&n.forEach(function(c){u.push(o.Go(e,c))}),z.kn(u)},t.prototype.pa=function(e,n){return this.al.Kh(n),z.resolve()},t.prototype.xa=function(e,n){var i=this.al.Wh(n);return z.resolve(i)},t.prototype.Ho=function(e,n){return z.resolve(this.al.Ho(n))},t}(),VL=function(){function t(e){var n=this;this.cl={},this.Ma=new mn(0),this.$a=!1,this.$a=!0,this.No=e(this),this.ja=new jL(this),this.Dr=new UR,this.vr=function(i,o){return new LL(i,function(u){return n.No.ul(u)})}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.$a=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ii",{get:function(){return this.$a},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.th=function(){},t.prototype.Ah=function(){return this.Dr},t.prototype.Th=function(e){var n=this.cl[e.ti()];return n||(n=new RL(this.Dr,this.No),this.cl[e.ti()]=n),n},t.prototype.Ih=function(){return this.ja},t.prototype.mh=function(){return this.vr},t.prototype.runTransaction=function(e,n,i){var o=this;X("MemoryPersistence","Starting transaction:",e);var u=new UL(this.Ma.next());return this.No.ll(),i(u).next(function(c){return o.No._l(u).next(function(){return c})}).xn().then(function(c){return u.br(),c})},t.prototype.fl=function(e,n){return z.On(Object.values(this.cl).map(function(i){return function(){return i.Ho(e,n)}}))},t}(),UL=function(t){function e(n){var i=this;return(i=t.call(this)||this).Fa=n,i}return wt(e,t),e}(O1),FL=function(){function t(e){this.persistence=e,this.dl=new ym,this.wl=null}return t.El=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw ot()},enumerable:!1,configurable:!0}),t.prototype.Da=function(e,n,i){return this.dl.Da(i,n),this.Tl.delete(i.toString()),z.resolve()},t.prototype.Na=function(e,n,i){return this.dl.Na(i,n),this.Tl.add(i.toString()),z.resolve()},t.prototype.Go=function(e,n){return this.Tl.add(n.toString()),z.resolve()},t.prototype.removeTarget=function(e,n){var i=this;this.dl.Kh(n.targetId).forEach(function(u){return i.Tl.add(u.toString())});var o=this.persistence.Ih();return o.xa(e,n.targetId).next(function(u){u.forEach(function(c){return i.Tl.add(c.toString())})}).next(function(){return o.ya(e,n)})},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(e){var n=this,i=this.persistence.mh().ra();return z.forEach(this.Tl,function(o){var u=ht.H(o);return n.Il(e,u).next(function(c){c||i.Ar(u)})}).next(function(){return n.wl=null,i.apply(e)})},t.prototype.yh=function(e,n){var i=this;return this.Il(e,n).next(function(o){o?i.Tl.delete(n.toString()):i.Tl.add(n.toString())})},t.prototype.ul=function(e){return 0},t.prototype.Il=function(e,n){var i=this;return z.On([function(){return z.resolve(i.dl.Ho(n))},function(){return i.persistence.Ih().Ho(e,n)},function(){return i.persistence.fl(e,n)}])},t}(),qL=function(){function t(e){this.ml=e.ml,this.Al=e.Al}return t.prototype.gc=function(e){this.Rl=e},t.prototype.Ic=function(e){this.Pl=e},t.prototype.onMessage=function(e){this.gl=e},t.prototype.close=function(){this.Al()},t.prototype.send=function(e){this.ml(e)},t.prototype.Vl=function(){this.Rl()},t.prototype.yl=function(e){this.Pl(e)},t.prototype.pl=function(e){this.gl(e)},t}(),BL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},GL=function(t){function e(n){var i=this;return(i=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.T=n.T,i}return wt(e,t),e.prototype.Nl=function(n,i,o,u){return new Promise(function(c,l){var f=new jC;f.listenOnce(MC.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Wp.NO_ERROR:var v=f.getResponseJson();X("Connection","XHR received:",JSON.stringify(v)),c(v);break;case Wp.TIMEOUT:X("Connection",'RPC "'+n+'" timed out'),l(new F(k.DEADLINE_EXCEEDED,"Request time out"));break;case Wp.HTTP_ERROR:var m=f.getStatus();if(X("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var y=f.getResponseJson().error;if(y&&y.status&&y.message){var b=function(_){var T=_.toLowerCase().replace("_","-");return Object.values(k).indexOf(T)>=0?T:k.UNKNOWN}(y.status);l(new F(b,y.message))}else l(new F(k.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new F(k.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{X("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(u);f.send(i,"POST",p,o,15)})},e.prototype.Vc=function(n,i){var o=[this.vl,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=LC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this._.projectId+"/databases/"+this._.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.T};this.Cl(c.initMessageHeaders,i),HP()||$P()||XP()||YP()||JP()||WP()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=o.join("");X("Connection","Creating WebChannel: "+l,c);var f=u.createWebChannel(l,c),p=!1,v=!1,m=new qL({ml:function(b){v?X("Connection","Not sending because WebChannel is closed:",b):(p||(X("Connection","Opening WebChannel transport."),f.open(),p=!0),X("Connection","WebChannel sending:",b),f.send(b))},Al:function(){return f.close()}}),y=function(b,_){f.listen(b,function(T){try{_(T)}catch(O){setTimeout(function(){throw O},0)}})};return y(wc.EventType.OPEN,function(){v||X("Connection","WebChannel transport opened.")}),y(wc.EventType.CLOSE,function(){v||(v=!0,X("Connection","WebChannel transport closed"),m.yl())}),y(wc.EventType.ERROR,function(b){v||(v=!0,Md("Connection","WebChannel transport errored:",b),m.yl(new F(k.UNAVAILABLE,"The operation could not be completed")))}),y(wc.EventType.MESSAGE,function(b){var _;if(!v){var T=b.data[0];lt(!!T);var O=T,x=O.error||((_=O[0])===null||_===void 0?void 0:_.error);if(x){X("Connection","WebChannel received error:",x);var R=x.status,G=function(U){var pt=ae[U];if(pt!==void 0)return J_(pt)}(R),V=x.message;G===void 0&&(G=k.INTERNAL,V="Unknown error status: "+R+" with message "+x.message),v=!0,m.yl(new F(G,V)),f.close()}else X("Connection","WebChannel received:",T),m.pl(T)}}),setTimeout(function(){m.Vl()},0),m},e}(function(){function t(e){this.bl=e,this._=e._;var n=e.ssl?"https":"http";this.vl=n+"://"+e.host,this.Sl="projects/"+this._.projectId+"/databases/"+this._.database+"/documents"}return t.prototype.Mc=function(e,n,i,o){var u=this.Dl(e,n);X("RestConnection","Sending: ",u,i);var c={};return this.Cl(c,o),this.Nl(e,u,c,i).then(function(l){return X("RestConnection","Received: ",l),l},function(l){throw Md("RestConnection",e+" failed with error: ",l,"url: ",u,"request:",i),l})},t.prototype.$c=function(e,n,i,o){return this.Mc(e,n,i,o)},t.prototype.Cl=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.0.0",e["Content-Type"]="text/plain",n)for(var i in n.Gh)n.Gh.hasOwnProperty(i)&&(e[i]=n.Gh[i])},t.prototype.Dl=function(e,n){var i=BL[e];return this.vl+"/v1/"+n+":"+i},t}()),vI=function(){function t(){var e=this;this.xl=function(){return e.Fl()},this.kl=function(){return e.Ol()},this.Ml=[],this.$l()}return t.prototype.eu=function(e){this.Ml.push(e)},t.prototype.Di=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.kl)},t.prototype.$l=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.kl)},t.prototype.Fl=function(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.Ml;e<n.length;e++)(0,n[e])(0)},t.prototype.Ol=function(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.Ml;e<n.length;e++)(0,n[e])(1)},t.Ln=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),HL=function(){function t(){}return t.prototype.eu=function(e){},t.prototype.Di=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t){return new QC(t,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return H(this,void 0,void 0,function(){return B(this,function(n){switch(n.label){case 0:return this.Su=this.Ll(e),this.persistence=this.Bl(e),[4,this.persistence.start()];case 1:return n.sent(),this.ql=this.Ul(e),this.Gc=this.Kl(e),[2]}})})},t.prototype.Ul=function(e){return null},t.prototype.Kl=function(e){return n=this.persistence,i=new CL,o=e.Ql,new $R(n,i,o);var n,i,o},t.prototype.Bl=function(e){return new VL(FL.El)},t.prototype.Ll=function(e){return new N1},t.prototype.terminate=function(){return H(this,void 0,void 0,function(){return B(this,function(e){switch(e.label){case 0:return this.ql&&this.ql.stop(),[4,this.Su.Di()];case 1:return e.sent(),[4,this.persistence.Di()];case 2:return e.sent(),[2]}})})},t}(),Q1=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).Wl=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return wt(e,t),e.prototype.initialize=function(n){return H(this,void 0,void 0,function(){return B(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return i.sent(),[4,ZR(this.Gc)];case 2:return i.sent(),[4,this.Wl.initialize(this,n)];case 3:return i.sent(),[4,Nm(this.Wl.fi)];case 4:return i.sent(),[4,Ts(this.Wl.bu)];case 5:return i.sent(),[2]}})})},e.prototype.Ul=function(n){var i=this.persistence.No.wo;return new DR(i,n.hs)},e.prototype.Bl=function(n){var i=gm(n.bl._,n.bl.persistenceKey),o=this.cacheSizeBytes!==void 0?ue.ao(this.cacheSizeBytes):ue.fo,u=km(n.bl._);return new kn(this.synchronizeTabs,i,n.clientId,o,n.hs,S1(),Cc(),u,this.Su,!!this.forceOwnership)},e.prototype.Ll=function(n){return new N1},e}(xm),zL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i,!1)||this).Wl=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return wt(e,t),e.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return B(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Wl.fi,this.Su instanceof Zp?(this.Su.fi={er:kL.bind(null,i),nr:PL.bind(null,i),sr:DL.bind(null,i),pi:OL.bind(null,i)},[4,this.Su.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.Xa(function(c){return H(o,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return[4,xL(this.Wl.fi,c)];case 1:return l.sent(),this.ql&&(c&&!this.ql.Ii?this.ql.start(this.Gc):c||this.ql.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Ll=function(n){var i=S1();if(!Zp.Ln(i))throw new F(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=gm(n.bl._,n.bl.persistenceKey);return new Zp(i,n.hs,o,n.clientId,n.Ql)},e}(Q1),vl=function(){function t(){}return t.prototype.initialize=function(e,n){return H(this,void 0,void 0,function(){var i=this;return B(this,function(o){switch(o.label){case 0:return this.Gc?[3,2]:(this.Gc=e.Gc,this.Su=e.Su,this.zc=this.jl(n),this.bu=this.Gl(n),this.vu=this.zl(n),this.fi=this.Hl(n,!e.synchronizeTabs),this.Su.di=function(u){return pI(i.fi,u,1)},this.bu.Hc.Jl=AL.bind(null,this.fi),[4,$d(this.bu,this.fi.Uu)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.zl=function(e){return new AR},t.prototype.jl=function(e){var n,i=km(e.bl._),o=(n=e.bl,new GL(n));return function(u,c,l){return new sL(u,c,l)}(e.credentials,o,i)},t.prototype.Gl=function(e){var n,i,o,u,c,l=this;return n=this.Gc,i=this.zc,o=e.hs,u=function(f){return pI(l.fi,f,0)},c=vI.Ln()?new vI:new HL,new aL(n,i,o,u,c)},t.prototype.Hl=function(e,n){return function(i,o,u,c,l,f,p){var v=new yL(i,o,u,c,l,f);return p&&(v.qu=!0),v}(this.Gc,this.bu,this.vu,this.Su,e.Ql,e.Du,n)},t.prototype.terminate=function(){return F1(this.bu)},t}(),Tc=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.Yl(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.Yl(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Xl=function(){this.muted=!0},t.prototype.Yl=function(e,n){var i=this;this.muted||setTimeout(function(){i.muted||e(n)},0)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e,n){if(!n)throw new F(k.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Om(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new F(k.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Z1(t,e,n,i){if(e===!0&&i===!0)throw new F(k.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Wl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":ot()}function mI(t,e){if(e<=0)throw new F(k.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pm=function(t){for(var e=0;e<t.length;++e)if(t[e].length===0)throw new F(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Zl=new $n(t)},ms=function(t){function e(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.call(this,n)||this}return wt(e,t),e.documentId=function(){return new e($n.j().B())},e.prototype.isEqual=function(n){return n instanceof e&&this.Zl.isEqual(n.Zl)},e}(Pm),KL=new RegExp("[~\\*/\\[\\]]"),io=function(t){this.t_=t},$u=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return wt(e,t),e.prototype.e_=function(n){if(n.n_!==2)throw n.n_===1?n.s_(this.t_+"() can only appear at the top level of your update data"):n.s_(this.t_+"() cannot be used with set() unless you pass {merge:true}");return n.Qe.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(io);function tT(t,e,n){return new rT({n_:3,i_:e.settings.i_,methodName:t.t_,r_:n},e._,e.serializer,e.ignoreUndefinedProperties)}var WL=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return wt(e,t),e.prototype.e_=function(n){return new ua(n.path,new cs)},e.prototype.isEqual=function(n){return n instanceof e},e}(io),$L=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).o_=i,o}return wt(e,t),e.prototype.e_=function(n){var i=tT(this,n,!0),o=this.o_.map(function(c){return oo(c,i)}),u=new Xi(o);return new ua(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(io),XL=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).o_=i,o}return wt(e,t),e.prototype.e_=function(n){var i=tT(this,n,!0),o=this.o_.map(function(c){return oo(c,i)}),u=new Yi(o);return new ua(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(io),YL=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).a_=i,o}return wt(e,t),e.prototype.e_=function(n){var i=new ls(n.serializer,i1(n.serializer,this.a_));return new ua(n.path,i)},e.prototype.isEqual=function(n){return this===n},e}(io),$l=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.h_=e,this.c_=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.c_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.h_===e.h_&&this.c_===e.c_},t.prototype.toJSON=function(){return{latitude:this.h_,longitude:this.c_}},t.prototype.g=function(e){return _t(this.h_,e.h_)||_t(this.c_,e.c_)},t}(),Xl=function(t){this.u_=t},JL=/^__.*__$/,Yl=function(t,e,n){this.l_=t,this.__=e,this.f_=n},QL=function(){function t(e,n,i){this.data=e,this.Qe=n,this.fieldTransforms=i}return t.prototype.d_=function(e,n){var i=[];return this.Qe!==null?i.push(new ci(e,this.data,this.Qe,n)):i.push(new ca(e,this.data,n)),this.fieldTransforms.length>0&&i.push(new to(e,this.fieldTransforms)),i},t}(),eT=function(){function t(e,n,i){this.data=e,this.Qe=n,this.fieldTransforms=i}return t.prototype.d_=function(e,n){var i=[new ci(e,this.data,this.Qe,n)];return this.fieldTransforms.length>0&&i.push(new to(e,this.fieldTransforms)),i},t}();function nT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}var rT=function(){function t(e,n,i,o,u,c){this.settings=e,this._=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.w_(),this.fieldTransforms=u||[],this.Qe=c||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"n_",{get:function(){return this.settings.n_},enumerable:!1,configurable:!0}),t.prototype.E_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this._,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},t.prototype.T_=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.E_({path:i,r_:!1});return o.I_(e),o},t.prototype.m_=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.E_({path:i,r_:!1});return o.w_(),o},t.prototype.A_=function(e){return this.E_({path:void 0,r_:!0})},t.prototype.s_=function(e){return jm(e,this.settings.methodName,this.settings.R_||!1,this.path,this.settings.i_)},t.prototype.contains=function(e){return this.Qe.find(function(n){return e.M(n)})!==void 0||this.fieldTransforms.find(function(n){return e.M(n.field)})!==void 0},t.prototype.w_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.I_(this.path.get(e))},t.prototype.I_=function(e){if(e.length===0)throw this.s_("Document fields must not be empty");if(nT(this.n_)&&JL.test(e))throw this.s_('Document fields cannot begin and end with "__"')},t}(),ZL=function(){function t(e,n,i){this._=e,this.ignoreUndefinedProperties=n,this.serializer=i||km(e)}return t.prototype.P_=function(e,n,i,o){return o===void 0&&(o=!1),new rT({n_:e,methodName:n,i_:i,path:$n.U(),r_:!1,R_:o},this._,this.serializer,this.ignoreUndefinedProperties)},t}();function Dm(t,e,n,i,o,u){u===void 0&&(u={});var c=t.P_(u.merge||u.mergeFields?2:0,e,n,o);Lm("Data must be an object, but it was:",c,i);var l,f,p=iT(i,c);if(u.merge)l=new fs(c.Qe),f=c.fieldTransforms;else if(u.mergeFields){for(var v=[],m=0,y=u.mergeFields;m<y.length;m++){var b=y[m],_=void 0;if(b instanceof Pm)_=b.Zl;else{if(typeof b!="string")throw ot();_=Mm(e,b,n)}if(!c.contains(_))throw new F(k.INVALID_ARGUMENT,"Field '"+_+"' is specified in your field mask but missing from your input data.");sT(v,_)||v.push(_)}l=new fs(v),f=c.fieldTransforms.filter(function(T){return l.Je(T.field)})}else l=null,f=c.fieldTransforms;return new QL(new ii(p),l,f)}function Cm(t,e,n,i){var o=t.P_(1,e,n);Lm("Data must be an object, but it was:",o,i);var u=[],c=new fa;oa(i,function(f,p){var v=Mm(e,f,n),m=o.m_(v);if(p instanceof $u||p instanceof Xl&&p.u_ instanceof $u)u.push(v);else{var y=oo(p,m);y!=null&&(u.push(v),c.set(v,y))}});var l=new fs(u);return new eT(c.Xe(),l,o.fieldTransforms)}function Rm(t,e,n,i,o,u){var c=t.P_(1,e,n),l=[Xu(e,i,n)],f=[o];if(u.length%2!=0)throw new F(k.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<u.length;p+=2)l.push(Xu(e,u[p])),f.push(u[p+1]);for(var v=[],m=new fa,y=l.length-1;y>=0;--y)if(!sT(v,l[y])){var b=l[y],_=f[y],T=c.m_(b);if(_ instanceof $u||_ instanceof Xl&&_.u_ instanceof $u)v.push(b);else{var O=oo(_,T);O!=null&&(v.push(b),m.set(b,O))}}var x=new fs(v);return new eT(m.Xe(),x,c.fieldTransforms)}function gI(t,e,n,i){return i===void 0&&(i=!1),oo(n,t.P_(i?4:3,e))}function oo(t,e){if(t instanceof Xl&&(t=t.u_),oT(t))return Lm("Unsupported field value:",e,t),iT(t,e);if(t instanceof io)return function(n,i){if(!nT(i.n_))throw i.s_(n.t_+"() can only be used with update() and set()");if(!i.path)throw i.s_(n.t_+"() is not currently supported inside arrays");var o=n.e_(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.r_&&e.n_!==4)throw e.s_("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,c=0,l=n;c<l.length;c++){var f=oo(l[c],i.A_(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if(n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return i1(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=rn.fromDate(n);return{timestampValue:rl(i.serializer,o)}}if(n instanceof rn){var u=new rn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rl(i.serializer,u)}}if(n instanceof $l)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tm)return{bytesValue:o1(i.serializer,n.l)};if(n instanceof Yl){var c=i._,l=n.l_;if(!l.isEqual(c))throw i.s_("Document reference is for database "+l.projectId+"/"+l.database+" but should be for database "+c.projectId+"/"+c.database);return{referenceValue:um(n.l_||i._,n.__.path)}}if(n===void 0&&i.ignoreUndefinedProperties)return null;throw i.s_("Unsupported field value: "+Wl(n))}(t,e)}function iT(t,e){var n={};return W_(t)?e.path&&e.path.length>0&&e.Qe.push(e.path):oa(t,function(i,o){var u=oo(o,e.T_(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function oT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof $l||t instanceof tm||t instanceof Yl||t instanceof io)}function Lm(t,e,n){if(!oT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Wl(n);throw i==="an object"?e.s_(t+" a custom object"):e.s_(t+" "+i)}}function Xu(t,e,n){if(e instanceof Pm)return e.Zl;if(typeof e=="string")return Mm(t,e);throw jm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Mm(t,e,n){try{return function(o){if(o.search(KL)>=0)throw new F(k.INVALID_ARGUMENT,"Invalid field path ("+o+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ms.bind.apply(ms,qi([void 0],o.split("."))))}catch{throw new F(k.INVALID_ARGUMENT,"Invalid field path ("+o+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Zl}catch(o){throw jm((i=o)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function jm(t,e,n,i,o){var u=i&&!i.P(),c=o!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||c)&&(f+=" (found",u&&(f+=" in field "+i),c&&(f+=" in document "+o),f+=")"),new F(k.INVALID_ARGUMENT,(l+=". ")+t+f)}function sT(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tM=function(){function t(e){this.zc=e,this.g_=new Map,this.mutations=[],this.V_=!1,this.y_=null,this.p_=new Set}return t.prototype.b_=function(e){return H(this,void 0,void 0,function(){var n,i=this;return B(this,function(o){switch(o.label){case 0:if(this.v_(),this.mutations.length>0)throw new F(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,c){return H(this,void 0,void 0,function(){var l,f,p,v,m,y;return B(this,function(b){switch(b.label){case 0:return l=J(u),f=Hu(l.serializer)+"/documents",p={documents:c.map(function(_){return Jo(l.serializer,_)})},[4,l.$c("BatchGetDocuments",f,p)];case 1:return v=b.sent(),m=new Map,v.forEach(function(_){var T=function(O,x){return"found"in x?function(R,G){lt(!!G.found),G.found.name,G.found.updateTime;var V=sr(R,G.found.name),U=Bn(G.found.updateTime),pt=new ii({mapValue:{fields:G.found.fields}});return new Mt(V,U,pt,{})}(O,x):"missing"in x?function(R,G){lt(!!G.missing),lt(!!G.readTime);var V=sr(R,G.missing),U=Bn(G.readTime);return new Ee(V,U)}(O,x):ot()}(l.serializer,_);m.set(T.key.toString(),T)}),y=[],[2,(c.forEach(function(_){var T=m.get(_.toString());lt(!!T),y.push(T)}),y)]}})})}(this.zc,e)];case 1:return[2,((n=o.sent()).forEach(function(u){u instanceof Ee||u instanceof Mt?i.S_(u):ot()}),n)]}})})},t.prototype.set=function(e,n){this.write(n.d_(e,this.Ge(e))),this.p_.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.d_(e,this.D_(e)))}catch(i){this.y_=i}this.p_.add(e.toString())},t.prototype.delete=function(e){this.write([new la(e,this.Ge(e))]),this.p_.add(e.toString())},t.prototype.commit=function(){return H(this,void 0,void 0,function(){var e,n=this;return B(this,function(i){switch(i.label){case 0:if(this.v_(),this.y_)throw this.y_;return e=this.g_,this.mutations.forEach(function(o){e.delete(o.key.toString())}),e.forEach(function(o,u){var c=ht.H(u);n.mutations.push(new am(c,n.Ge(c)))}),[4,function(o,u){return H(this,void 0,void 0,function(){var c,l,f;return B(this,function(p){switch(p.label){case 0:return c=J(o),l=Hu(c.serializer)+"/documents",f={writes:u.map(function(v){return il(c.serializer,v)})},[4,c.Mc("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.zc,this.mutations)];case 1:return i.sent(),this.V_=!0,[2]}})})},t.prototype.S_=function(e){var n;if(e instanceof Mt)n=e.version;else{if(!(e instanceof Ee))throw ot();n=Nt.min()}var i=this.g_.get(e.key.toString());if(i){if(!n.isEqual(i))throw new F(k.ABORTED,"Document version changed between two reads.")}else this.g_.set(e.key.toString(),n)},t.prototype.Ge=function(e){var n=this.g_.get(e.toString());return!this.p_.has(e.toString())&&n?Ce.updateTime(n):Ce.ze()},t.prototype.D_=function(e){var n=this.g_.get(e.toString());if(!this.p_.has(e.toString())&&n){if(n.isEqual(Nt.min()))throw new F(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ce.updateTime(n)}return Ce.exists(!0)},t.prototype.write=function(e){this.v_(),this.mutations=this.mutations.concat(e)},t.prototype.v_=function(){},t}(),eM=function(){function t(e,n,i,o){this.hs=e,this.zc=n,this.updateFunction=i,this.ls=o,this.C_=5,this.Vs=new fm(this.hs,"transaction_retry")}return t.prototype.run=function(){this.N_()},t.prototype.N_=function(){var e=this;this.Vs.Pn(function(){return H(e,void 0,void 0,function(){var n,i,o=this;return B(this,function(u){return n=new tM(this.zc),(i=this.x_(n))&&i.then(function(c){o.hs.ws(function(){return n.commit().then(function(){o.ls.resolve(c)}).catch(function(l){o.F_(l)})})}).catch(function(c){o.F_(c)}),[2]})})})},t.prototype.x_=function(e){try{var n=this.updateFunction(e);return!Zi(n)&&n.catch&&n.then?n:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.ls.reject(i),null}},t.prototype.F_=function(e){var n=this;this.C_>0&&this.k_(e)?(this.C_-=1,this.hs.ws(function(){return n.N_(),Promise.resolve()})):this.ls.reject(e)},t.prototype.k_=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!Y_(n)}return!1},t}(),nM=function(){function t(e,n){this.credentials=e,this.hs=n,this.clientId=z_.t(),this.O_=new hn}return t.prototype.start=function(e,n,i){var o=this;this.M_(),this.bl=e;var u=new hn,c=!1;return this.credentials.Jh(function(l){if(!c)return c=!0,X("FirestoreClient","Initializing. user=",l.uid),o.L_(n,i,l,u).then(o.O_.resolve,o.O_.reject);o.hs.Cs(function(){return function(f,p){return H(this,void 0,void 0,function(){var v,m;return B(this,function(y){switch(y.label){case 0:return(v=J(f)).hs.Fs(),X("RemoteStore","RemoteStore received new credentials"),m=oi(v),v.Xc.add(3),[4,ds(v)];case 1:return y.sent(),m&&v.nu.set("Unknown"),[4,v.Hc.Jl(p)];case 2:return y.sent(),v.Xc.delete(3),[4,Ku(v)];case 3:return y.sent(),[2]}})})}(o.bu,l)})}),this.hs.ws(function(){return o.O_.promise}),u.promise},t.prototype.enableNetwork=function(){var e=this;return this.M_(),this.hs.enqueue(function(){return e.persistence.th(!0),function(n){var i=J(n);return i.Xc.delete(0),Ku(i)}(e.bu)})},t.prototype.L_=function(e,n,i,o){return H(this,void 0,void 0,function(){var u,c,l=this;return B(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),u={hs:this.hs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Ql:i,Du:100},[4,e.initialize(u)];case 1:return f.sent(),[4,n.initialize(e,u)];case 2:return f.sent(),this.persistence=e.persistence,this.Su=e.Su,this.Gc=e.Gc,this.ql=e.ql,this.zc=n.zc,this.bu=n.bu,this.fi=n.fi,this.B_=n.vu,this.B_.Us=wL.bind(null,this.fi),this.B_.Ws=bL.bind(null,this.fi),this.persistence.Za(function(){return H(l,void 0,void 0,function(){return B(this,function(p){switch(p.label){case 0:return[4,this.terminate()];case 1:return p.sent(),[2]}})})}),o.resolve(),[3,4];case 3:if(c=f.sent(),o.reject(c),!function(p){return p.name==="FirebaseError"?p.code===k.FAILED_PRECONDITION||p.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&p instanceof DOMException)||p.code===22||p.code===20||p.code===11}(c))throw c;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),this.L_(new xm,new vl,i,o))];case 4:return[2]}})})},t.prototype.M_=function(){if(this.hs.ps)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var e=this;return this.M_(),this.hs.enqueue(function(){return e.persistence.th(!1),function(n){return H(this,void 0,void 0,function(){var i;return B(this,function(o){switch(o.label){case 0:return(i=J(n)).Xc.add(0),[4,ds(i)];case 1:return o.sent(),i.nu.set("Offline"),[2]}})})}(e.bu)})},t.prototype.terminate=function(){var e=this;this.hs.Ds();var n=new hn;return this.hs.bs(function(){return H(e,void 0,void 0,function(){var i,o;return B(this,function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,F1(this.bu)];case 1:return u.sent(),[4,this.Su.Di()];case 2:return u.sent(),[4,this.persistence.Di()];case 3:return u.sent(),this.credentials.Yh(),n.resolve(),[3,5];case 4:return i=u.sent(),o=Vo(i,"Failed to shutdown persistence"),n.reject(o),[3,5];case 5:return[2]}})})}),n.promise},t.prototype.waitForPendingWrites=function(){var e=this;this.M_();var n=new hn;return this.hs.ws(function(){return function(i,o){return H(this,void 0,void 0,function(){var u,c,l,f,p;return B(this,function(v){switch(v.label){case 0:oi((u=J(i)).bu)||X("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),v.label=1;case 1:return v.trys.push([1,3,,4]),[4,function(m){var y=J(m);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(b){return y.Sr.qo(b)})}(u.Gc)];case 2:return(c=v.sent())===-1?[2,void o.resolve()]:((l=u.Lu.get(c)||[]).push(o),u.Lu.set(c,l),[3,4]);case 3:return f=v.sent(),p=Vo(f,"Initialization of waitForPendingWrites() operation failed"),o.reject(p),[3,4];case 4:return[2]}})})}(e.fi,n)}),n.promise},t.prototype.listen=function(e,n,i){var o=this;this.M_();var u=new Tc(i),c=new Yp(e,u,n);return this.hs.ws(function(){return $p(o.B_,c)}),function(){u.Xl(),o.hs.ws(function(){return Xp(o.B_,c)})}},t.prototype.q_=function(e){return H(this,void 0,void 0,function(){var n,i=this;return B(this,function(o){switch(o.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return o.sent(),n=new hn,[2,(this.hs.ws(function(){return function(u,c,l){return H(this,void 0,void 0,function(){var f,p,v;return B(this,function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),[4,function(y,b){var _=J(y);return _.persistence.runTransaction("read document","readonly",function(T){return _.Nh.Cr(T,b)})}(u,c)];case 1:return(f=m.sent())instanceof Mt?l.resolve(f):f instanceof Ee?l.resolve(null):l.reject(new F(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return p=m.sent(),v=Vo(p,"Failed to get document '"+c+" from cache"),l.reject(v),[3,3];case 3:return[2]}})})}(i.Gc,e,n)}),n.promise)]}})})},t.prototype.U_=function(e,n){return n===void 0&&(n={}),H(this,void 0,void 0,function(){var i,o=this;return B(this,function(u){switch(u.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return u.sent(),i=new hn,[2,(this.hs.ws(function(){return function(c,l,f,p,v){var m=new Tc({next:function(b){l.ws(function(){return Xp(c,y)});var _=b.docs.has(f);!_&&b.fromCache?v.reject(new F(k.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&p&&p.source==="server"?v.reject(new F(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new Yp(ha(f.path),m,{includeMetadataChanges:!0,Xs:!0});return $p(c,y)}(o.B_,o.hs,e,n,i)}),i.promise)]}})})},t.prototype.K_=function(e){return H(this,void 0,void 0,function(){var n,i=this;return B(this,function(o){switch(o.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return o.sent(),n=new hn,[2,(this.hs.ws(function(){return function(u,c,l){return H(this,void 0,void 0,function(){var f,p,v,m,y,b;return B(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,pl(u,c,!0)];case 1:return f=_.sent(),p=new $1(c,f.Fh),v=p.Eu(f.documents),m=p.Vr(v,!1),l.resolve(m.snapshot),[3,3];case 2:return y=_.sent(),b=Vo(y,"Failed to execute query '"+c+" against cache"),l.reject(b),[3,3];case 3:return[2]}})})}(i.Gc,e,n)}),n.promise)]}})})},t.prototype.Q_=function(e,n){return n===void 0&&(n={}),H(this,void 0,void 0,function(){var i,o=this;return B(this,function(u){switch(u.label){case 0:return this.M_(),[4,this.O_.promise];case 1:return u.sent(),i=new hn,[2,(this.hs.ws(function(){return function(c,l,f,p,v){var m=new Tc({next:function(b){l.ws(function(){return Xp(c,y)}),b.fromCache&&p.source==="server"?v.reject(new F(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new Yp(f,m,{includeMetadataChanges:!0,Xs:!0});return $p(c,y)}(o.B_,o.hs,e,n,i)}),i.promise)]}})})},t.prototype.write=function(e){var n=this;this.M_();var i=new hn;return this.hs.ws(function(){return function(o,u,c){return H(this,void 0,void 0,function(){var l,f,p,v;return B(this,function(m){switch(m.label){case 0:l=Nm(o),m.label=1;case 1:return m.trys.push([1,5,,6]),[4,function(y,b){var _,T=J(y),O=rn.now(),x=b.reduce(function(R,G){return R.add(G.key)},Gt());return T.persistence.runTransaction("Locally write mutations","readwrite",function(R){return T.Nh.Or(R,x).next(function(G){_=G;for(var V=[],U=0,pt=b;U<pt.length;U++){var Lt=pt[U],tt=lR(Lt,_.get(Lt.key));tt!=null&&V.push(new ci(Lt.key,tt,b1(tt.proto.mapValue),Ce.exists(!0)))}return T.Sr.Oo(R,O,V,b)})}).then(function(R){var G=R.lr(_);return{batchId:R.batchId,wr:G}})}(l.Gc,u)];case 2:return f=m.sent(),l.Su.Fi(f.batchId),function(y,b,_){var T=y.$u[y.currentUser.ti()];T||(T=new Fe(_t)),T=T.ot(b,_),y.$u[y.currentUser.ti()]=T}(l,f.batchId,c),[4,ro(l,f.wr)];case 3:return m.sent(),[4,Ts(l.bu)];case 4:return m.sent(),[3,6];case 5:return p=m.sent(),v=Vo(p,"Failed to persist write"),c.reject(v),[3,6];case 6:return[2]}})})}(n.fi,e,i)}),i.promise},t.prototype._=function(){return this.bl._},t.prototype.W_=function(e){var n=this;this.M_();var i=new Tc(e);return this.hs.ws(function(){return H(n,void 0,void 0,function(){return B(this,function(o){return[2,function(u,c){J(u).qs.add(c),c.next()}(this.B_,i)]})})}),function(){i.Xl(),n.hs.ws(function(){return H(n,void 0,void 0,function(){return B(this,function(o){return[2,function(u,c){J(u).qs.delete(c)}(this.B_,i)]})})})}},Object.defineProperty(t.prototype,"j_",{get:function(){return this.hs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(e){var n=this;this.M_();var i=new hn;return this.hs.ws(function(){return new eM(n.hs,n.zc,e,i).run(),Promise.resolve()}),i.promise},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var i=e,o=0,u=["next","error","complete"];o<u.length;o++){var c=u[o];if(c in i&&typeof i[c]=="function")return!0}return!1}(t)}var yI=function(){function t(e,n,i,o){this._=e,this.G_=n,this.z_=i,this.H_=o}return t.prototype.J_=function(e){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.Y_(e.timestampValue);case 4:return this.X_(e);case 5:return e.stringValue;case 6:return this.H_(as(e.bytesValue));case 7:return this.Z_(e.referenceValue);case 8:return this.tf(e.geoPointValue);case 9:return this.ef(e.arrayValue);case 10:return this.nf(e.mapValue);default:throw ot()}},t.prototype.nf=function(e){var n=this,i={};return oa(e.fields||{},function(o,u){i[o]=n.J_(u)}),i},t.prototype.tf=function(e){return new $l(ce(e.latitude),ce(e.longitude))},t.prototype.ef=function(e){var n=this;return(e.values||[]).map(function(i){return n.J_(i)})},t.prototype.X_=function(e){switch(this.G_){case"previous":var n=e1(e);return n==null?null:this.J_(n);case"estimate":return this.Y_(Bu(e));default:return null}},t.prototype.Y_=function(e){var n=ri(e);return new rn(n.seconds,n.nanos)},t.prototype.Z_=function(e){var n=Wt.q(e);lt(h1(n));var i=new Vd(n.get(1),n.get(3)),o=new ht(n.N(5));return i.isEqual(this._)||le("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+this._.projectId+"/"+this._.database+") instead."),this.z_(o)},t}(),uT=ue.uo,wI=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new F(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ue._o;else{if(e.cacheSizeBytes!==uT&&e.cacheSizeBytes<ue.lo)throw new F(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ue.lo);this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Z1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},t}(),nd="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",rM=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){throw new F(k.FAILED_PRECONDITION,nd)},t.prototype.enableMultiTabIndexedDbPersistence=function(e){throw new F(k.FAILED_PRECONDITION,nd)},t.prototype.clearIndexedDbPersistence=function(e){throw new F(k.FAILED_PRECONDITION,nd)},t}(),iM=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){var i=new vl,o=new Q1(i,e.sf().cacheSizeBytes,n);return e.if(o,i)},t.prototype.enableMultiTabIndexedDbPersistence=function(e){var n=new vl,i=new zL(n,e.sf().cacheSizeBytes);return e.if(i,n)},t.prototype.clearIndexedDbPersistence=function(e){var n=this,i=new hn;return e.rf.bs(function(){return H(n,void 0,void 0,function(){var o;return B(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(c){return H(this,void 0,void 0,function(){var l;return B(this,function(f){switch(f.label){case 0:return Zo.Ln()?(l=c+"main",[4,Zo.delete(l)]):[2,Promise.resolve()];case 1:return f.sent(),[2]}})})}(gm(e.l_,e.af))];case 1:return u.sent(),i.resolve(),[3,3];case 2:return o=u.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise},t}(),aT=function(){function t(e,n,i){var o=this;if(i===void 0&&(i=new rM),this.hf=i,this.cf=null,this.rf=new _R,this.INTERNAL={delete:function(){return H(o,void 0,void 0,function(){return B(this,function(l){switch(l.label){case 0:return this.uf(),[4,this.lf.terminate()];case 1:return l.sent(),[2]}})})}},typeof e.options=="object"){var u=e;this.cf=u,this.l_=t._f(u),this.af=u.name,this.ff=new eL(n)}else{var c=e;if(!c.projectId)throw new F(k.INVALID_ARGUMENT,"Must provide projectId");this.l_=new Vd(c.projectId,c.database),this.af="[DEFAULT]",this.ff=new hI}this.df=new wI({})}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.Ef||(this.Ef=new ZL(this.l_,this.df.ignoreUndefinedProperties)),this.Ef},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this.df),e)).merge;var n=new wI(e);if(this.lf&&!this.df.isEqual(n))throw new F(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.df=n,n.credentials!==void 0&&(this.ff=function(i){if(!i)return new hI;switch(i.type){case"gapi":var o=i.client;return lt(!(typeof o!="object"||o===null||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new rL(o,i.sessionIndex||"0");case"provider":return i.client;default:throw new F(k.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))},t.prototype.useEmulator=function(e,n){this.df.host!=="firestore.googleapis.com"&&Md("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:e+":"+n,ssl:!1,merge:!0})},t.prototype.enableNetwork=function(){return this.uf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.uf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(e){if(this.lf)throw new F(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var n=!1,i=!1;return e&&Z1("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),n?this.hf.enableMultiTabIndexedDbPersistence(this):this.hf.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return H(this,void 0,void 0,function(){return B(this,function(e){if(this.lf!==void 0&&!this.lf.j_)throw new F(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return[2,this.hf.clearIndexedDbPersistence(this)]})})},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Tf",{get:function(){return this.uf(),this.lf.j_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.uf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(e){if(this.uf(),Yu(e))return this.lf.W_(e);var n={next:e};return this.lf.W_(n)},t.prototype.uf=function(){return this.lf||this.if(new xm,new vl),this.lf},t.prototype.If=function(){return new UC(this.l_,this.af,this.df.host,this.df.ssl,this.df.experimentalForceLongPolling,this.df.experimentalAutoDetectLongPolling)},t.prototype.if=function(e,n){var i=this.If();return this.lf=new nM(this.ff,this.rf),this.lf.start(i,e,n)},t._f=function(e){if(n=e.options,!Object.prototype.hasOwnProperty.call(n,"projectId"))throw new F(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n,i=e.options.projectId;if(!i||typeof i!="string")throw new F(k.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Vd(i)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new F(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){return Nu("Firestore.collection","path",e),this.uf(),new ml(Wt.q(e),this,null)},t.prototype.doc=function(e){return Nu("Firestore.doc","path",e),this.uf(),Ar.mf(Wt.q(e),this,null)},t.prototype.collectionGroup=function(e){if(Nu("Firestore.collectionGroup","collectionId",e),e.indexOf("/")>=0)throw new F(k.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.uf(),new Jl(function(n){return new kr(Wt.U(),n)}(e),this,null)},t.prototype.runTransaction=function(e){var n=this;return this.uf().transaction(function(i){return e(new cT(n,i))})},t.prototype.batch=function(){return this.uf(),new lT(this)},t.prototype.sf=function(){return this.df},t}(),cT=function(){function t(e,n){this.Af=e,this.Rf=n}return t.prototype.get=function(e){var n=this,i=Er("Transaction.get",e,this.Af);return this.Rf.b_([i.__]).then(function(o){if(!o||o.length!==1)return ot();var u=o[0];if(u instanceof Ee)return new Ji(n.Af,i.__,null,!1,!1,i.f_);if(u instanceof Mt)return new Ji(n.Af,i.__,u,!1,!1,i.f_);throw ot()})},t.prototype.set=function(e,n,i){var o=Er("Transaction.set",e,this.Af);i=Om("Transaction.set",i);var u=Um(o.f_,n,i),c=Dm(this.Af.wf,"Transaction.set",o.__,u,o.f_!==null,i);return this.Rf.set(o.__,c),this},t.prototype.update=function(e,n,i){for(var o,u,c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];return typeof n=="string"||n instanceof ms?(o=Er("Transaction.update",e,this.Af),u=Rm(this.Af.wf,"Transaction.update",o.__,n,i,c)):(o=Er("Transaction.update",e,this.Af),u=Cm(this.Af.wf,"Transaction.update",o.__,n)),this.Rf.update(o.__,u),this},t.prototype.delete=function(e){var n=Er("Transaction.delete",e,this.Af);return this.Rf.delete(n.__),this},t}(),lT=function(){function t(e){this.Af=e,this.Pf=[],this.gf=!1}return t.prototype.set=function(e,n,i){this.Vf();var o=Er("WriteBatch.set",e,this.Af);i=Om("WriteBatch.set",i);var u=Um(o.f_,n,i),c=Dm(this.Af.wf,"WriteBatch.set",o.__,u,o.f_!==null,i);return this.Pf=this.Pf.concat(c.d_(o.__,Ce.ze())),this},t.prototype.update=function(e,n,i){for(var o,u,c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];return this.Vf(),typeof n=="string"||n instanceof ms?(o=Er("WriteBatch.update",e,this.Af),u=Rm(this.Af.wf,"WriteBatch.update",o.__,n,i,c)):(o=Er("WriteBatch.update",e,this.Af),u=Cm(this.Af.wf,"WriteBatch.update",o.__,n)),this.Pf=this.Pf.concat(u.d_(o.__,Ce.exists(!0))),this},t.prototype.delete=function(e){this.Vf();var n=Er("WriteBatch.delete",e,this.Af);return this.Pf=this.Pf.concat(new la(n.__,Ce.ze())),this},t.prototype.commit=function(){return this.Vf(),this.gf=!0,this.Pf.length>0?this.Af.uf().write(this.Pf):Promise.resolve()},t.prototype.Vf=function(){if(this.gf)throw new F(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ar=function(t){function e(n,i,o){var u=this;return(u=t.call(this,i.l_,n,o)||this).__=n,u.firestore=i,u.f_=o,u.lf=u.firestore.uf(),u}return wt(e,t),e.mf=function(n,i,o){if(n.length%2!=0)throw new F(k.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.B()+" has "+n.length);return new e(new ht(n),i,o)},Object.defineProperty(e.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ml(this.__.path.F(),this.firestore,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.__.path.B()},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){if(Nu("DocumentReference.collection","path",n),!n)throw new F(k.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var i=Wt.q(n);return new ml(this.__.path.child(i),this.firestore,null)},e.prototype.isEqual=function(n){return n instanceof e&&this.firestore===n.firestore&&this.__.isEqual(n.__)&&this.f_===n.f_},e.prototype.set=function(n,i){i=Om("DocumentReference.set",i);var o=Um(this.f_,n,i),u=Dm(this.firestore.wf,"DocumentReference.set",this.__,o,this.f_!==null,i);return this.lf.write(u.d_(this.__,Ce.ze()))},e.prototype.update=function(n,i){for(var o,u=[],c=2;c<arguments.length;c++)u[c-2]=arguments[c];return o=typeof n=="string"||n instanceof ms?Rm(this.firestore.wf,"DocumentReference.update",this.__,n,i,u):Cm(this.firestore.wf,"DocumentReference.update",this.__,n),this.lf.write(o.d_(this.__,Ce.exists(!0)))},e.prototype.delete=function(){return this.lf.write([new la(this.__,Ce.ze())])},e.prototype.onSnapshot=function(){for(var n,i,o,u=this,c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var f={includeMetadataChanges:!1},p=0;typeof c[p]!="object"||Yu(c[p])||(f=c[p],p++);var v={includeMetadataChanges:f.includeMetadataChanges};if(Yu(c[p])){var m=c[p];c[p]=(n=m.next)===null||n===void 0?void 0:n.bind(m),c[p+1]=(i=m.error)===null||i===void 0?void 0:i.bind(m),c[p+2]=(o=m.complete)===null||o===void 0?void 0:o.bind(m)}var y={next:function(b){c[p]&&c[p](u.yf(b))},error:c[p+1],complete:c[p+2]};return this.lf.listen(ha(this.__.path),v,y)},e.prototype.get=function(n){var i=this,o=this.firestore.uf();return n&&n.source==="cache"?o.q_(this.__).then(function(u){return new Ji(i.firestore,i.__,u,!0,u instanceof Mt&&u.Ye,i.f_)}):o.U_(this.__,n).then(function(u){return i.yf(u)})},e.prototype.withConverter=function(n){return new e(this.__,this.firestore,n)},e.prototype.yf=function(n){var i=n.docs.get(this.__);return new Ji(this.firestore,this.__,i,n.fromCache,n.hasPendingWrites,this.f_)},e}(Yl),fT=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Ji=function(){function t(e,n,i,o,u,c){this.Af=e,this.__=n,this.pf=i,this.bf=o,this.vf=u,this.f_=c}return t.prototype.data=function(e){var n=this;if(e===void 0&&(e={}),this.pf){if(this.f_){var i=new Vm(this.Af,this.__,this.pf,this.bf,this.vf,null);return this.f_.fromFirestore(i,e)}return new yI(this.Af.l_,e.serverTimestamps||"none",function(o){return new Ar(o,n.Af,null)},function(o){return new jd(o)}).J_(this.pf.rn())}},t.prototype.get=function(e,n){var i=this;if(n===void 0&&(n={}),this.pf){var o=this.pf.data().field(Xu("DocumentSnapshot.get",e,this.__));if(o!==null)return new yI(this.Af.l_,n.serverTimestamps||"none",function(u){return new Ar(u,i.Af,i.f_)},function(u){return new jd(u)}).J_(o)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.__.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ar(this.__,this.Af,this.f_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this.pf!==null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new fT(this.vf,this.bf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&this.Af===e.Af&&this.bf===e.bf&&this.__.isEqual(e.__)&&(this.pf===null?e.pf===null:this.pf.isEqual(e.pf))&&this.f_===e.f_},t}(),Vm=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return wt(e,t),e.prototype.data=function(n){return t.prototype.data.call(this,n)},e}(Ji);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e,n){if(typeof n=="string"){if(n==="")throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!lm(e)&&n.indexOf("/")!==-1)throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(Wt.q(n));if(!ht.X(i))throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return nl(t,new ht(i))}if(n instanceof Yl)return nl(t,n.__);throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wl(n)+".")}function II(t,e){if(!Array.isArray(t)||t.length===0)throw new F(k.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new F(k.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function EI(t,e,n){if(!n.isEqual(e))throw new F(k.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function _I(t){if(sl(t)&&t.on.length===0)throw new F(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jl=function(){function t(e,n,i){this.Sf=e,this.firestore=n,this.f_=i}return t.prototype.where=function(e,n,i){var o=Xu("Query.where",e),u=function(c,l,f,p,v,m,y){var b;if(v.W()){if(m==="array-contains"||m==="array-contains-any")throw new F(k.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+m+"' queries on FieldPath.documentId().");if(m==="in"||m==="not-in"){II(y,m);for(var _=[],T=0,O=y;T<O.length;T++){var x=O[T];_.push(bI(p,c,x))}b={arrayValue:{values:_}}}else b=bI(p,c,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||II(y,m),b=gI(f,l,y,m==="in"||m==="not-in");var R=vn.create(v,m,b);return function(G,V){if(V.un()){var U=Hd(G);if(U!==null&&!U.isEqual(V.field))throw new F(k.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+U.toString()+"' and '"+V.field.toString()+"'");var pt=Gd(G);pt!==null&&EI(0,V.field,pt)}var Lt=function(tt,S){for(var ee=0,Qt=tt.filters;ee<Qt.length;ee++){var fe=Qt[ee];if(S.indexOf(fe.op)>=0)return fe.op}return null}(G,function(tt){switch(tt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(Lt!==null)throw Lt===V.op?new F(k.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+V.op.toString()+"' filter."):new F(k.INVALID_ARGUMENT,"Invalid query. You cannot use '"+V.op.toString()+"' filters with '"+Lt.toString()+"' filters.")}(c,R),R}(this.Sf,"Query.where",this.firestore.wf,this.firestore.l_,o,n,i);return new t(function(c,l){var f=c.filters.concat([l]);return new kr(c.path,c.collectionGroup,c.on.slice(),f,c.limit,c.an,c.startAt,c.endAt)}(this.Sf,u),this.firestore,this.f_)},t.prototype.orderBy=function(e,n){var i;if(n===void 0||n==="asc")i="asc";else{if(n!=="desc")throw new F(k.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i="desc"}var o=Xu("Query.orderBy",e),u=function(c,l,f){if(c.startAt!==null)throw new F(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(c.endAt!==null)throw new F(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var p=new Qo(l,f);return function(v,m){if(Gd(v)===null){var y=Hd(v);y!==null&&EI(0,y,m.field)}}(c,p),p}(this.Sf,o,i);return new t(function(c,l){var f=c.on.concat([l]);return new kr(c.path,c.collectionGroup,f,c.filters.slice(),c.limit,c.an,c.startAt,c.endAt)}(this.Sf,u),this.firestore,this.f_)},t.prototype.limit=function(e){return mI("Query.limit",e),new t($b(this.Sf,e,"F"),this.firestore,this.f_)},t.prototype.limitToLast=function(e){return mI("Query.limitToLast",e),new t($b(this.Sf,e,"L"),this.firestore,this.f_)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.Df("Query.startAt",e,n,!0);return new t(Xb(this.Sf,o),this.firestore,this.f_)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.Df("Query.startAfter",e,n,!1);return new t(Xb(this.Sf,o),this.firestore,this.f_)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.Df("Query.endBefore",e,n,!0);return new t(Yb(this.Sf,o),this.firestore,this.f_)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.Df("Query.endAt",e,n,!1);return new t(Yb(this.Sf,o),this.firestore,this.f_)},t.prototype.isEqual=function(e){return e instanceof t&&this.firestore===e.firestore&&_s(this.Sf,e.Sf)&&this.f_===e.f_},t.prototype.withConverter=function(e){return new t(this.Sf,this.firestore,e)},t.prototype.Df=function(e,n,i,o){if(n instanceof Ji)return function(c,l,f,p,v){if(!p)throw new F(k.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+f+"().");for(var m=[],y=0,b=hs(c);y<b.length;y++){var _=b[y];if(_.field.W())m.push(nl(l,p.key));else{var T=p.field(_.field);if(rm(T))throw new F(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){var O=_.field.B();throw new F(k.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+O+"' (used as the orderBy) does not exist.")}m.push(T)}}return new zu(m,v)}(this.Sf,this.firestore.l_,e,n.pf,o);var u=[n].concat(i);return function(c,l,f,p,v,m){var y=c.on;if(v.length>y.length)throw new F(k.INVALID_ARGUMENT,"Too many arguments provided to "+p+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var b=[],_=0;_<v.length;_++){var T=v[_];if(y[_].field.W()){if(typeof T!="string")throw new F(k.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+p+"(), but got a "+typeof T);if(!lm(c)&&T.indexOf("/")!==-1)throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+p+"() must be a plain document ID, but '"+T+"' contains a slash.");var O=c.path.child(Wt.q(T));if(!ht.X(O))throw new F(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+p+"() must result in a valid document path, but '"+O+"' is not because it contains an odd number of segments.");var x=new ht(O);b.push(nl(l,x))}else{var R=gI(f,p,T);b.push(R)}}return new zu(b,m)}(this.Sf,this.firestore.l_,this.firestore.wf,e,u,o)},t.prototype.onSnapshot=function(){for(var e,n,i,o=this,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var l={},f=0;if(typeof u[f]!="object"||Yu(u[f])||(l=u[f],f++),Yu(u[f])){var p=u[f];u[f]=(e=p.next)===null||e===void 0?void 0:e.bind(p),u[f+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),u[f+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}var v={next:function(m){u[f]&&u[f](new Yd(o.firestore,o.Sf,m,o.f_))},error:u[f+1],complete:u[f+2]};return _I(this.Sf),this.firestore.uf().listen(this.Sf,l,v)},t.prototype.get=function(e){var n=this;_I(this.Sf);var i=this.firestore.uf();return(e&&e.source==="cache"?i.K_(this.Sf):i.Q_(this.Sf,e)).then(function(o){return new Yd(n.firestore,n.Sf,o,n.f_)})},t}(),Yd=function(){function t(e,n,i,o){this.Af=e,this.Cf=n,this.Nf=i,this.f_=o,this.xf=null,this.Ff=null,this.metadata=new fT(i.hasPendingWrites,i.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Nf.docs.P()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Nf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var i=this;this.Nf.docs.forEach(function(o){e.call(n,i.kf(o,i.metadata.fromCache,i.Nf.Qt.has(o.key)))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Jl(this.Cf,this.Af,this.f_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=!(!e||!e.includeMetadataChanges);if(n&&this.Nf.jt)throw new F(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.xf&&this.Ff===n||(this.xf=function(i,o,u){if(i.Kt.P()){var c=0;return i.docChanges.map(function(f){var p=u(f.doc,i.fromCache,i.Qt.has(f.doc.key));return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}var l=i.Kt;return i.docChanges.filter(function(f){return o||f.type!==3}).map(function(f){var p=u(f.doc,i.fromCache,i.Qt.has(f.doc.key)),v=-1,m=-1;return f.type!==0&&(v=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),f.type!==1&&(m=(l=l.add(f.doc)).indexOf(f.doc.key)),{type:oM(f.type),doc:p,oldIndex:v,newIndex:m}})}(this.Nf,n,this.kf.bind(this)),this.Ff=n),this.xf},t.prototype.isEqual=function(e){return e instanceof t&&this.Af===e.Af&&_s(this.Cf,e.Cf)&&this.Nf.isEqual(e.Nf)&&this.f_===e.f_},t.prototype.kf=function(e,n,i){return new Vm(this.Af,e.key,e,n,i,this.f_)},t}(),ml=function(t){function e(n,i,o){var u=this;if((u=t.call(this,ha(n),i,o)||this).Of=n,n.length%2!=1)throw new F(k.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+n.B()+" has "+n.length);return u}return wt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Sf.path.O()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.Sf.path.F();return n.P()?null:new Ar(new ht(n),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Sf.path.B()},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){arguments.length===0&&(n=z_.t()),Nu("CollectionReference.doc","path",n);var i=Wt.q(n);return Ar.mf(this.Sf.path.child(i),this.firestore,this.f_)},e.prototype.add=function(n){var i=this.f_?this.f_.toFirestore(n):n,o=this.doc();return new Ar(o.__,this.firestore,null).set(i).then(function(){return o})},e.prototype.withConverter=function(n){return new e(this.Of,this.firestore,n)},e}(Jl);function Er(t,e,n){var i=function(o,u){if(!(o instanceof u)){if(u.name===o.constructor.name)throw new F(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var c=Wl(o);throw new F(k.INVALID_ARGUMENT,"Expected type '"+u.name+"', but it was: "+c)}return o}(e,Ar);if(i.firestore!==n)throw new F(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function oM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function Um(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return wt(e,t),e.serverTimestamp=function(){var n=new WL("serverTimestamp");return n.t_="FieldValue.serverTimestamp",new e(n)},e.delete=function(){var n=new $u("deleteField");return n.t_="FieldValue.delete",new e(n)},e.arrayUnion=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=(function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return new $L("arrayUnion",u)}).apply(void 0,n);return o.t_="FieldValue.arrayUnion",new e(o)},e.arrayRemove=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=(function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return new XL("arrayRemove",u)}).apply(void 0,n);return o.t_="FieldValue.arrayRemove",new e(o)},e.increment=function(n){var i=function(o){return new YL("increment",o)}(n);return i.t_="FieldValue.increment",new e(i)},e.prototype.isEqual=function(n){return this.u_.isEqual(n.u_)},e}(Xl),uM={Firestore:aT,GeoPoint:$l,Timestamp:rn,Blob:jd,Transaction:cT,WriteBatch:lT,DocumentReference:Ar,DocumentSnapshot:Ji,Query:Jl,QueryDocumentSnapshot:Vm,QuerySnapshot:Yd,CollectionReference:ml,FieldPath:ms,FieldValue:sM,setLogLevel:function(t){var e;e=t,zn.setLogLevel(e)},CACHE_SIZE_UNLIMITED:uT};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){(function(e,n){e.INTERNAL.registerComponent(new Pl("firestore",function(i){return function(o,u){return new aT(o,u,new iM)}(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},uM)))})(t),t.registerVersion("@firebase/firestore","2.0.0")}aM(vt);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,a){r!=Array.prototype&&r!=Object.prototype&&(r[s]=a.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var a=r[s];if(a&&a.Math==Math)return a}return globalThis}var i=n(this);function o(r,s){if(s){var a=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var d=r[h];d in a||(a[d]={}),a=a[d]}r=r[r.length-1],h=a[r],s=s(h),s!=h&&s!=null&&e(a,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function c(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(C){E.reject(C)}}function a(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;a.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var d=i.setTimeout;a.prototype.c=function(w){d(w,0)},a.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var C=w[E];w[E]=null;try{C()}catch(j){this.f(j)}}}this.a=null},a.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(j){return function(gt){C||(C=!0,j.call(E,gt))}}var E=this,C=!1;return{resolve:w(this.v),reject:w(this.g)}},s.prototype.v=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.o(w);else{t:switch(typeof w){case"object":var E=w!=null;break t;case"function":E=!0;break t;default:E=!1}E?this.m(w):this.h(w)}},s.prototype.m=function(w){var E=void 0;try{E=w.then}catch(C){this.g(C);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)g.b(this.a[w]);this.a=null}};var g=new a;return s.prototype.o=function(w){var E=this.f();w.Pa(E.resolve,E.reject)},s.prototype.u=function(w,E){var C=this.f();try{w.call(E,C.resolve,C.reject)}catch(j){C.reject(j)}},s.prototype.then=function(w,E){function C(Ct,be){return typeof Ct=="function"?function(wr){try{j(Ct(wr))}catch(kp){gt(kp)}}:be}var j,gt,Ut=new s(function(Ct,be){j=Ct,gt=be});return this.Pa(C(w,j),C(E,gt)),Ut},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Pa=function(w,E){function C(){switch(j.b){case 1:w(j.c);break;case 2:E(j.c);break;default:throw Error("Unexpected state: "+j.b)}}var j=this;this.a==null?g.b(C):this.a.push(C)},s.resolve=h,s.reject=function(w){return new s(function(E,C){C(w)})},s.race=function(w){return new s(function(E,C){for(var j=c(w),gt=j.next();!gt.done;gt=j.next())h(gt.value).Pa(E,C)})},s.all=function(w){var E=c(w),C=E.next();return C.done?h([]):new s(function(j,gt){function Ut(wr){return function(kp){Ct[wr]=kp,be--,be==0&&j(Ct)}}var Ct=[],be=0;do Ct.push(void 0),be++,h(C.value).Pa(Ut(Ct.length-1),gt),C=E.next();while(!C.done)})},s});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,v=null;function m(){}function y(r){var s=typeof r;if(s=="object")if(r){if(r instanceof Array)return"array";if(r instanceof Object)return s;var a=Object.prototype.toString.call(r);if(a=="[object Window]")return"object";if(a=="[object Array]"||typeof r.length=="number"&&typeof r.splice<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("splice"))return"array";if(a=="[object Function]"||typeof r.call<"u"&&typeof r.propertyIsEnumerable<"u"&&!r.propertyIsEnumerable("call"))return"function"}else return"null";else if(s=="function"&&typeof r.call>"u")return"object";return s}function b(r){var s=y(r);return s=="array"||s=="object"&&typeof r.length=="number"}function _(r){return y(r)=="function"}function T(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function O(r){return Object.prototype.hasOwnProperty.call(r,x)&&r[x]||(r[x]=++R)}var x="closure_uid_"+(1e9*Math.random()>>>0),R=0;function G(r,s,a){return r.call.apply(r.bind,arguments)}function V(r,s,a){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,h),r.apply(s,d)}}return function(){return r.apply(s,arguments)}}function U(r,s,a){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U=G:U=V,U.apply(null,arguments)}function pt(r,s){var a=Array.prototype.slice.call(arguments,1);return function(){var h=a.slice();return h.push.apply(h,arguments),r.apply(this,h)}}var Lt=Date.now||function(){return+new Date};function tt(r,s){function a(){}a.prototype=s.prototype,r.$a=s.prototype,r.prototype=new a,r.prototype.constructor=r}function S(r,s,a){this.code=Qt+r,this.message=s||fe[r]||"",this.a=a||null}tt(S,Error),S.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},S.prototype.toJSON=function(){return this.w()};function ee(r){var s=r&&r.code;return s?new S(s.substring(Qt.length),r.message,r.serverResponse):null}var Qt="auth/",fe={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},we={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function qe(r){for(var s in we)if(we[s].id===r)return r=we[s],{firebaseEndpoint:r.Sa,secureTokenEndpoint:r.Ya,identityPlatformEndpoint:r.Va};return null}var Je;Je=qe("__EID__")?"__EID__":void 0;function Ot(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function dt(r){if(Error.captureStackTrace)Error.captureStackTrace(this,dt);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}tt(dt,Error),dt.prototype.name="CustomError";function kt(r,s){r=r.split("%s");for(var a="",h=r.length-1,d=0;d<h;d++)a+=r[d]+(d<s.length?s[d]:"%s");dt.call(this,a+r[h])}tt(kt,dt),kt.prototype.name="AssertionError";function ke(r,s){throw new kt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function wn(r,s){this.c=r,this.f=s,this.b=0,this.a=null}wn.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function sn(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function Te(){this.b=this.a=null}var pr=new wn(function(){return new Pr},function(r){r.reset()});Te.prototype.add=function(r,s){var a=pr.get();a.set(r,s),this.b?this.b.next=a:this.a=a,this.b=a};function Or(){var r=eg,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function Pr(){this.next=this.b=this.a=null}Pr.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},Pr.prototype.reset=function(){this.next=this.b=this.a=null};var he=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var a=0;a<r.length;a++)if(a in r&&r[a]===s)return a;return-1},P=Array.prototype.forEach?function(r,s,a){Array.prototype.forEach.call(r,s,a)}:function(r,s,a){for(var h=r.length,d=typeof r=="string"?r.split(""):r,g=0;g<h;g++)g in d&&s.call(a,d[g],g,r)};function Q(r,s){for(var a=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in a&&s.call(void 0,a[h],h,r)}var $=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var a=r.length,h=[],d=0,g=typeof r=="string"?r.split(""):r,w=0;w<a;w++)if(w in g){var E=g[w];s.call(void 0,E,w,r)&&(h[d++]=E)}return h},st=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var a=r.length,h=Array(a),d=typeof r=="string"?r.split(""):r,g=0;g<a;g++)g in d&&(h[g]=s.call(void 0,d[g],g,r));return h},Dt=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var a=r.length,h=typeof r=="string"?r.split(""):r,d=0;d<a;d++)if(d in h&&s.call(void 0,h[d],d,r))return!0;return!1};function I(r){t:{for(var s=qA,a=r.length,h=typeof r=="string"?r.split(""):r,d=0;d<a;d++)if(d in h&&s.call(void 0,h[d],d,r)){s=d;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function A(r,s){return 0<=he(r,s)}function N(r,s){s=he(r,s);var a;return(a=0<=s)&&Array.prototype.splice.call(r,s,1),a}function D(r,s){var a=0;Q(r,function(h,d){s.call(void 0,h,d,r)&&Array.prototype.splice.call(r,d,1).length==1&&a++})}function L(r){return Array.prototype.concat.apply([],arguments)}function M(r){var s=r.length;if(0<s){for(var a=Array(s),h=0;h<s;h++)a[h]=r[h];return a}return[]}var Y=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},K=/&/g,W=/</g,q=/>/g,ut=/"/g,it=/'/g,at=/\x00/g,mt=/[\x00&<>"']/;function nt(r,s){return r.indexOf(s)!=-1}function Vt(r,s){return r<s?-1:r>s?1:0}var St;t:{var Zt=f.navigator;if(Zt){var Qe=Zt.userAgent;if(Qe){St=Qe;break t}}St=""}function Bt(r){return nt(St,r)}function Ss(r,s){for(var a in r)s.call(void 0,r[a],a,r)}function un(r){for(var s in r)return!1;return!0}function xn(r){var s={},a;for(a in r)s[a]=r[a];return s}var xe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ht(r,s){for(var a,h,d=1;d<arguments.length;d++){h=arguments[d];for(a in h)r[a]=h[a];for(var g=0;g<xe.length;g++)a=xe[g],Object.prototype.hasOwnProperty.call(h,a)&&(r[a]=h[a])}}function so(r,s){t:{try{var a=r&&r.ownerDocument,h=a&&(a.defaultView||a.parentWindow);if(h=h||f,h.Element&&h.Location){var d=h;break t}}catch{}d=null}if(d&&typeof d[s]<"u"&&(!r||!(r instanceof d[s])&&(r instanceof d.Location||r instanceof d.Element))){if(T(r))try{var g=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{g="<object could not be stringified>"}else g=r===void 0?"undefined":r===null?"null":typeof r;ke("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,g)}}function Yn(r,s){this.a=r===Ns&&s||"",this.b=Fm}Yn.prototype.sa=!0,Yn.prototype.ra=function(){return this.a},Yn.prototype.toString=function(){return"Const{"+this.a+"}"};function Ql(r){return r instanceof Yn&&r.constructor===Yn&&r.b===Fm?r.a:(ke("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Fm={},Ns={},mT=new Yn(Ns,"");function fi(r,s){this.a=r===ef&&s||"",this.b=qm}fi.prototype.sa=!0,fi.prototype.ra=function(){return this.a.toString()},fi.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Zl(r){return r instanceof fi&&r.constructor===fi&&r.b===qm?r.a:(ke("expected object of type TrustedResourceUrl, got '"+r+"' of type "+y(r)),"type_error:TrustedResourceUrl")}function tf(r,s){var a=Ql(r);if(!yT.test(a))throw Error("Invalid TrustedResourceUrl format: "+a);return r=a.replace(gT,function(h,d){if(!Object.prototype.hasOwnProperty.call(s,d))throw Error('Found marker, "'+d+'", in format string, "'+a+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[d],h instanceof Yn?Ql(h):encodeURIComponent(String(h))}),new fi(ef,r)}var gT=/%{(\w+)}/g,yT=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,qm={},ef={};function On(r,s){this.a=r===nf&&s||"",this.b=Hm}On.prototype.sa=!0,On.prototype.ra=function(){return this.a.toString()},On.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function da(r){return r instanceof On&&r.constructor===On&&r.b===Hm?r.a:(ke("expected object of type SafeUrl, got '"+r+"' of type "+y(r)),"type_error:SafeUrl")}var Bm=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Gm(r){return r instanceof On?r:(r=typeof r=="object"&&r.sa?r.ra():String(r),Bm.test(r)||(r="about:invalid#zClosurez"),new On(nf,r))}var Hm={},nf={};function uo(){this.a="",this.b=Km}uo.prototype.sa=!0,uo.prototype.ra=function(){return this.a.toString()},uo.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function zm(r){return r instanceof uo&&r.constructor===uo&&r.b===Km?r.a:(ke("expected object of type SafeHtml, got '"+r+"' of type "+y(r)),"type_error:SafeHtml")}var Km={};function va(r){var s=new uo;return s.a=r,s}va("<!DOCTYPE html>");var wT=va("");va("<br>");function bT(r){var s=new fi(ef,Ql(mT));so(r,"HTMLIFrameElement"),r.src=Zl(s).toString()}function IT(r,s){if(so(r,"HTMLScriptElement"),r.src=Zl(s),v===null)t:{if(s=f.document,(s=s.querySelector&&s.querySelector("script[nonce]"))&&(s=s.nonce||s.getAttribute("nonce"))&&p.test(s)){v=s;break t}v=""}s=v,s&&r.setAttribute("nonce",s)}function Wm(r,s){for(var a=r.split("%s"),h="",d=Array.prototype.slice.call(arguments,1);d.length&&1<a.length;)h+=a.shift()+d.shift();return h+a.join("%s")}function rf(r){return mt.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(K,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(W,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(q,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(ut,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(it,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(at,"&#0;"))),r}function of(r){return of[" "](r),r}of[" "]=m;function ET(r,s){var a=ST;return Object.prototype.hasOwnProperty.call(a,r)?a[r]:a[r]=s(r)}var _T=Bt("Opera"),Pn=Bt("Trident")||Bt("MSIE"),$m=Bt("Edge"),TT=$m||Pn,Xm=Bt("Gecko")&&!(nt(St.toLowerCase(),"webkit")&&!Bt("Edge"))&&!(Bt("Trident")||Bt("MSIE"))&&!Bt("Edge"),AT=nt(St.toLowerCase(),"webkit")&&!Bt("Edge");function Ym(){var r=f.document;return r?r.documentMode:void 0}var sf;t:{var uf="",af=function(){var r=St;if(Xm)return/rv:([^\);]+)(\)|;)/.exec(r);if($m)return/Edge\/([\d\.]+)/.exec(r);if(Pn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(AT)return/WebKit\/(\S+)/.exec(r);if(_T)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(af&&(uf=af?af[1]:""),Pn){var cf=Ym();if(cf!=null&&cf>parseFloat(uf)){sf=String(cf);break t}}sf=uf}var ST={};function Jm(r){return ET(r,function(){for(var s=0,a=Y(String(sf)).split("."),h=Y(String(r)).split("."),d=Math.max(a.length,h.length),g=0;s==0&&g<d;g++){var w=a[g]||"",E=h[g]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=Vt(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||Vt(w[2].length==0,E[2].length==0)||Vt(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var dr;dr=f.document&&Pn?Ym():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var NT=!Pn||9<=Number(dr);function ks(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function Qm(r,s){Ss(s,function(a,h){a&&typeof a=="object"&&a.sa&&(a=a.ra()),h=="style"?r.style.cssText=a:h=="class"?r.className=a:h=="for"?r.htmlFor=a:Zm.hasOwnProperty(h)?r.setAttribute(Zm[h],a):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,a):r[h]=a})}var Zm={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function kT(r,s,a){var h=arguments,d=document,g=String(h[0]),w=h[1];if(!NT&&w&&(w.name||w.type)){if(g=["<",g],w.name&&g.push(' name="',rf(w.name),'"'),w.type){g.push(' type="',rf(w.type),'"');var E={};Ht(E,w),delete E.type,w=E}g.push(">"),g=g.join("")}return g=ma(d,g),w&&(typeof w=="string"?g.className=w:Array.isArray(w)?g.className=w.join(" "):Qm(g,w)),2<h.length&&xT(d,g,h),g}function xT(r,s,a){function h(w){w&&s.appendChild(typeof w=="string"?r.createTextNode(w):w)}for(var d=2;d<a.length;d++){var g=a[d];!b(g)||T(g)&&0<g.nodeType?h(g):P(OT(g)?M(g):g,h)}}function ma(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function OT(r){if(r&&typeof r.length=="number"){if(T(r))return typeof r.item=="function"||typeof r.item=="string";if(_(r))return typeof r.item=="function"}return!1}function tg(r){f.setTimeout(function(){throw r},0)}var lf;function PT(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Bt("Presto")&&(r=function(){var d=ma(document,"IFRAME");d.style.display="none",bT(d),document.documentElement.appendChild(d);var g=d.contentWindow;d=g.document,d.open(),d.write(zm(wT)),d.close();var w="callImmediate"+Math.random(),E=g.location.protocol=="file:"?"*":g.location.protocol+"//"+g.location.host;d=U(function(C){(E=="*"||C.origin==E)&&C.data==w&&this.port1.onmessage()},this),g.addEventListener("message",d,!1),this.port1={},this.port2={postMessage:function(){g.postMessage(w,E)}}}),typeof r<"u"&&!Bt("Trident")&&!Bt("MSIE")){var s=new r,a={},h=a;return s.port1.onmessage=function(){if(a.next!==void 0){a=a.next;var d=a.Fb;a.Fb=null,d()}},function(d){h.next={Fb:d},h=h.next,s.port2.postMessage(0)}}return function(d){f.setTimeout(d,0)}}function ga(r,s){ya||DT(),ff||(ya(),ff=!0),eg.add(r,s)}var ya;function DT(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);ya=function(){r.then(ng)}}else ya=function(){var s=ng;!_(f.setImmediate)||f.Window&&f.Window.prototype&&!Bt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(lf||(lf=PT()),lf(s)):f.setImmediate(s)}}var ff=!1,eg=new Te;function ng(){for(var r;r=Or();){try{r.a.call(r.b)}catch(s){tg(s)}sn(pr,r)}ff=!1}function Tt(r,s){if(this.a=hi,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=m)try{var a=this;r.call(s,function(h){pi(a,xs,h)},function(h){if(!(h instanceof ao))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}pi(a,vr,h)})}catch(h){pi(this,vr,h)}}var hi=0,xs=2,vr=3;function rg(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}rg.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ig=new wn(function(){return new rg},function(r){r.reset()});function hf(r,s,a){var h=ig.get();return h.g=r,h.b=s,h.f=a,h}function ct(r){if(r instanceof Tt)return r;var s=new Tt(m);return pi(s,xs,r),s}function $t(r){return new Tt(function(s,a){a(r)})}function og(r,s,a){cg(r,s,a,null)||ga(pt(s,r))}function CT(r){return new Tt(function(s,a){var h=r.length,d=[];if(h)for(var g=function(j,gt){h--,d[j]=gt,h==0&&s(d)},w=function(j){a(j)},E=0,C;E<r.length;E++)C=r[E],og(C,pt(g,E),w);else s(d)})}function sg(r){return new Tt(function(s){var a=r.length,h=[];if(a)for(var d=function(E,C,j){a--,h[E]=C?{Ob:!0,value:j}:{Ob:!1,reason:j},a==0&&s(h)},g=0,w;g<r.length;g++)w=r[g],og(w,pt(d,g,!0),pt(d,g,!1));else s(h)})}Tt.prototype.then=function(r,s,a){return ag(this,_(r)?r:null,_(s)?s:null,a)},Tt.prototype.$goog_Thenable=!0,t=Tt.prototype,t.na=function(r,s){return r=hf(r,r,s),r.c=!0,pf(this,r),this},t.s=function(r,s){return ag(this,null,r,s)},t.cancel=function(r){if(this.a==hi){var s=new ao(r);ga(function(){ug(this,s)},this)}};function ug(r,s){if(r.a==hi)if(r.c){var a=r.c;if(a.b){for(var h=0,d=null,g=null,w=a.b;w&&(w.c||(h++,w.a==r&&(d=w),!(d&&1<h)));w=w.next)d||(g=w);d&&(a.a==hi&&h==1?ug(a,s):(g?(h=g,h.next==a.f&&(a.f=h),h.next=h.next.next):fg(a),hg(a,d,vr,s)))}r.c=null}else pi(r,vr,s)}function pf(r,s){r.b||r.a!=xs&&r.a!=vr||lg(r),r.f?r.f.next=s:r.b=s,r.f=s}function ag(r,s,a,h){var d=hf(null,null,null);return d.a=new Tt(function(g,w){d.g=s?function(E){try{var C=s.call(h,E);g(C)}catch(j){w(j)}}:g,d.b=a?function(E){try{var C=a.call(h,E);C===void 0&&E instanceof ao?w(E):g(C)}catch(j){w(j)}}:w}),d.a.c=r,pf(r,d),d.a}t.Zc=function(r){this.a=hi,pi(this,xs,r)},t.$c=function(r){this.a=hi,pi(this,vr,r)};function pi(r,s,a){r.a==hi&&(r===a&&(s=vr,a=new TypeError("Promise cannot resolve to itself")),r.a=1,cg(a,r.Zc,r.$c,r)||(r.i=a,r.a=s,r.c=null,lg(r),s!=vr||a instanceof ao||LT(r,a)))}function cg(r,s,a,h){if(r instanceof Tt)return pf(r,hf(s||m,a||null,h)),!0;if(Ot(r))return r.then(s,a,h),!0;if(T(r))try{var d=r.then;if(_(d))return RT(r,d,s,a,h),!0}catch(g){return a.call(h,g),!0}return!1}function RT(r,s,a,h,d){function g(C){E||(E=!0,h.call(d,C))}function w(C){E||(E=!0,a.call(d,C))}var E=!1;try{s.call(r,w,g)}catch(C){g(C)}}function lg(r){r.h||(r.h=!0,ga(r.fc,r))}function fg(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}t.fc=function(){for(var r;r=fg(this);)hg(this,r,this.a,this.i);this.h=!1};function hg(r,s,a,h){if(a==vr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,pg(s,a,h);else try{s.c?s.g.call(s.f):pg(s,a,h)}catch(d){dg.call(null,d)}sn(ig,s)}function pg(r,s,a){s==xs?r.g.call(r.f,a):r.b&&r.b.call(r.f,a)}function LT(r,s){r.g=!0,ga(function(){r.g&&dg.call(null,s)})}var dg=tg;function ao(r){dt.call(this,r)}tt(ao,dt),ao.prototype.name="cancel";function wa(){this.xa=this.xa,this.oa=this.oa}var MT=0;wa.prototype.xa=!1;function vg(r){!r.xa&&(r.xa=!0,r.Da(),MT!=0)&&O(r)}wa.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var jT=Object.freeze||function(r){return r},mg=!Pn||9<=Number(dr),VT=Pn&&!Jm("9"),UT=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",m,s),f.removeEventListener("test",m,s)}catch{}return r}();function Ze(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Ze.prototype.preventDefault=function(){this.defaultPrevented=!0};function di(r,s){if(Ze.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var a=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(Xm){t:{try{of(s.nodeName);var d=!0;break t}catch{}d=!1}d||(s=null)}}else a=="mouseover"?s=r.fromElement:a=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:FT[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}tt(di,Ze);var FT=jT({2:"touch",3:"pen",4:"mouse"});di.prototype.preventDefault=function(){di.$a.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,VT)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},di.prototype.g=function(){return this.a};var Os="closure_listenable_"+(1e6*Math.random()|0),qT=0;function BT(r,s,a,h,d){this.listener=r,this.proxy=null,this.src=s,this.type=a,this.capture=!!h,this.Ua=d,this.key=++qT,this.va=this.Oa=!1}function ba(r){r.va=!0,r.listener=null,r.proxy=null,r.src=null,r.Ua=null}function Ia(r){this.src=r,this.a={},this.b=0}Ia.prototype.add=function(r,s,a,h,d){var g=r.toString();r=this.a[g],r||(r=this.a[g]=[],this.b++);var w=vf(r,s,h,d);return-1<w?(s=r[w],a||(s.Oa=!1)):(s=new BT(s,this.src,g,!!h,d),s.Oa=a,r.push(s)),s};function df(r,s){var a=s.type;a in r.a&&N(r.a[a],s)&&(ba(s),r.a[a].length==0&&(delete r.a[a],r.b--))}function vf(r,s,a,h){for(var d=0;d<r.length;++d){var g=r[d];if(!g.va&&g.listener==s&&g.capture==!!a&&g.Ua==h)return d}return-1}var mf="closure_lm_"+(1e6*Math.random()|0),gf={};function bn(r,s,a,h,d){if(h&&h.once)yf(r,s,a,h,d);else if(Array.isArray(s))for(var g=0;g<s.length;g++)bn(r,s[g],a,h,d);else a=bf(a),r&&r[Os]?Eg(r,s,a,T(h)?!!h.capture:!!h,d):gg(r,s,a,!1,h,d)}function gg(r,s,a,h,d,g){if(!s)throw Error("Invalid event type");var w=T(d)?!!d.capture:!!d,E=Ea(r);if(E||(r[mf]=E=new Ia(r)),a=E.add(s,a,h,w,g),!a.proxy)if(h=GT(),a.proxy=h,h.src=r,h.listener=a,r.addEventListener)UT||(d=w),d===void 0&&(d=!1),r.addEventListener(s.toString(),h,d);else if(r.attachEvent)r.attachEvent(wg(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function GT(){var r=HT,s=mg?function(a){return r.call(s.src,s.listener,a)}:function(a){if(a=r.call(s.src,s.listener,a),!a)return a};return s}function yf(r,s,a,h,d){if(Array.isArray(s))for(var g=0;g<s.length;g++)yf(r,s[g],a,h,d);else a=bf(a),r&&r[Os]?If(r,s,a,T(h)?!!h.capture:!!h,d):gg(r,s,a,!0,h,d)}function an(r,s,a,h,d){if(Array.isArray(s))for(var g=0;g<s.length;g++)an(r,s[g],a,h,d);else h=T(h)?!!h.capture:!!h,a=bf(a),r&&r[Os]?(r=r.v,s=String(s).toString(),s in r.a&&(g=r.a[s],a=vf(g,a,h,d),-1<a&&(ba(g[a]),Array.prototype.splice.call(g,a,1),g.length==0&&(delete r.a[s],r.b--)))):r&&(r=Ea(r))&&(s=r.a[s.toString()],r=-1,s&&(r=vf(s,a,h,d)),(a=-1<r?s[r]:null)&&yg(a))}function yg(r){if(typeof r!="number"&&r&&!r.va){var s=r.src;if(s&&s[Os])df(s.v,r);else{var a=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(a,h,r.capture):s.detachEvent?s.detachEvent(wg(a),h):s.addListener&&s.removeListener&&s.removeListener(h),(a=Ea(s))?(df(a,r),a.b==0&&(a.src=null,s[mf]=null)):ba(r)}}}function wg(r){return r in gf?gf[r]:gf[r]="on"+r}function bg(r,s,a,h){var d=!0;if((r=Ea(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var g=s[r];g&&g.capture==a&&!g.va&&(g=Ig(g,h),d=d&&g!==!1)}return d}function Ig(r,s){var a=r.listener,h=r.Ua||r.src;return r.Oa&&yg(r),a.call(h,s)}function HT(r,s){if(r.va)return!0;if(!mg){if(!s)t:{s=["window","event"];for(var a=f,h=0;h<s.length;h++)if(a=a[s[h]],a==null){s=null;break t}s=a}if(h=s,s=new di(h,this),a=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var d=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{d=!0}(d||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],d=s.b;d;d=d.parentNode)h.push(d);for(r=r.type,d=h.length-1;0<=d;d--){s.b=h[d];var g=bg(h[d],r,!0,s);a=a&&g}for(d=0;d<h.length;d++)s.b=h[d],g=bg(h[d],r,!1,s),a=a&&g}return a}return Ig(r,new di(s,this))}function Ea(r){return r=r[mf],r instanceof Ia?r:null}var wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function bf(r){return _(r)?r:(r[wf]||(r[wf]=function(s){return r.handleEvent(s)}),r[wf])}function Be(){wa.call(this),this.v=new Ia(this),this.$b=this,this.fb=null}tt(Be,wa),Be.prototype[Os]=!0,Be.prototype.addEventListener=function(r,s,a,h){bn(this,r,s,a,h)},Be.prototype.removeEventListener=function(r,s,a,h){an(this,r,s,a,h)},Be.prototype.dispatchEvent=function(r){var s,a=this.fb;if(a)for(s=[];a;a=a.fb)s.push(a);a=this.$b;var h=r.type||r;if(typeof r=="string")r=new Ze(r,a);else if(r instanceof Ze)r.target=r.target||a;else{var d=r;r=new Ze(h,a),Ht(r,d)}if(d=!0,s)for(var g=s.length-1;0<=g;g--){var w=r.b=s[g];d=_a(w,h,!0,r)&&d}if(w=r.b=a,d=_a(w,h,!0,r)&&d,d=_a(w,h,!1,r)&&d,s)for(g=0;g<s.length;g++)w=r.b=s[g],d=_a(w,h,!1,r)&&d;return d},Be.prototype.Da=function(){if(Be.$a.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var a=r.a[s],h=0;h<a.length;h++)ba(a[h]);delete r.a[s],r.b--}}this.fb=null};function Eg(r,s,a,h,d){r.v.add(String(s),a,!1,h,d)}function If(r,s,a,h,d){r.v.add(String(s),a,!0,h,d)}function _a(r,s,a,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var d=!0,g=0;g<s.length;++g){var w=s[g];if(w&&!w.va&&w.capture==a){var E=w.listener,C=w.Ua||w.src;w.Oa&&df(r.v,w),d=E.call(C,h)!==!1&&d}}return d&&!h.defaultPrevented}function Ef(r,s,a){if(_(r))a&&(r=U(r,a));else if(r&&typeof r.handleEvent=="function")r=U(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function co(r){var s=null;return new Tt(function(a,h){s=Ef(function(){a(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).s(function(a){throw f.clearTimeout(s),a})}function _g(r){if(r.V&&typeof r.V=="function")return r.V();if(typeof r=="string")return r.split("");if(b(r)){for(var s=[],a=r.length,h=0;h<a;h++)s.push(r[h]);return s}s=[],a=0;for(h in r)s[a++]=r[h];return s}function Tg(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.V||typeof r.V!="function"){if(b(r)||typeof r=="string"){var s=[];r=r.length;for(var a=0;a<r;a++)s.push(a);return s}s=[],a=0;for(var h in r)s[a++]=h;return s}}function zT(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(b(r)||typeof r=="string")P(r,s,void 0);else for(var a=Tg(r),h=_g(r),d=h.length,g=0;g<d;g++)s.call(void 0,h[g],a&&a[g],r)}function lo(r,s){this.b={},this.a=[],this.c=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var h=0;h<a;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof lo)for(a=r.Y(),h=0;h<a.length;h++)this.set(a[h],r.get(a[h]));else for(h in r)this.set(h,r[h])}t=lo.prototype,t.V=function(){_f(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},t.Y=function(){return _f(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function _f(r){if(r.c!=r.a.length){for(var s=0,a=0;s<r.a.length;){var h=r.a[s];vi(r.b,h)&&(r.a[a++]=h),s++}r.a.length=a}if(r.c!=r.a.length){var d={};for(a=s=0;s<r.a.length;)h=r.a[s],vi(d,h)||(r.a[a++]=h,d[h]=1),s++;r.a.length=a}}t.get=function(r,s){return vi(this.b,r)?this.b[r]:s},t.set=function(r,s){vi(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},t.forEach=function(r,s){for(var a=this.Y(),h=0;h<a.length;h++){var d=a[h],g=this.get(d);r.call(s,g,d,this)}};function vi(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Ag=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function KT(r,s){if(r){r=r.split("&");for(var a=0;a<r.length;a++){var h=r[a].indexOf("="),d=null;if(0<=h){var g=r[a].substring(0,h);d=r[a].substring(h+1)}else g=r[a];s(g,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}function Dr(r,s){this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1;var a;r instanceof Dr?(this.i=s!==void 0?s:r.i,Ps(this,r.f),this.l=r.l,this.a=r.a,Ds(this,r.g),this.c=r.c,Tf(this,xg(r.b)),this.h=r.h):r&&(a=String(r).match(Ag))?(this.i=!!s,Ps(this,a[1]||"",!0),this.l=Cs(a[2]||""),this.a=Cs(a[3]||"",!0),Ds(this,a[4]),this.c=Cs(a[5]||"",!0),Tf(this,a[6]||"",!0),this.h=Cs(a[7]||"")):(this.i=!!s,this.b=new mi(null,this.i))}Dr.prototype.toString=function(){var r=[],s=this.f;s&&r.push(Rs(s,Sg,!0),":");var a=this.a;return(a||s=="file")&&(r.push("//"),(s=this.l)&&r.push(Rs(s,Sg,!0),"@"),r.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.g,a!=null&&r.push(":",String(a))),(a=this.c)&&(this.a&&a.charAt(0)!="/"&&r.push("/"),r.push(Rs(a,a.charAt(0)=="/"?XT:$T,!0))),(a=this.b.toString())&&r.push("?",a),(a=this.h)&&r.push("#",Rs(a,JT)),r.join("")},Dr.prototype.resolve=function(r){var s=new Dr(this),a=!!r.f;a?Ps(s,r.f):a=!!r.l,a?s.l=r.l:a=!!r.a,a?s.a=r.a:a=r.g!=null;var h=r.c;if(a)Ds(s,r.g);else if(a=!!r.c){if(h.charAt(0)!="/")if(this.a&&!this.c)h="/"+h;else{var d=s.c.lastIndexOf("/");d!=-1&&(h=s.c.substr(0,d+1)+h)}if(d=h,d==".."||d==".")h="";else if(nt(d,"./")||nt(d,"/.")){h=d.lastIndexOf("/",0)==0,d=d.split("/");for(var g=[],w=0;w<d.length;){var E=d[w++];E=="."?h&&w==d.length&&g.push(""):E==".."?((1<g.length||g.length==1&&g[0]!="")&&g.pop(),h&&w==d.length&&g.push("")):(g.push(E),h=!0)}h=g.join("/")}else h=d}return a?s.c=h:a=r.b.toString()!=="",a?Tf(s,xg(r.b)):a=!!r.h,a&&(s.h=r.h),s};function Ps(r,s,a){r.f=a?Cs(s,!0):s,r.f&&(r.f=r.f.replace(/:$/,""))}function Ds(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function Tf(r,s,a){s instanceof mi?(r.b=s,QT(r.b,r.i)):(a||(s=Rs(s,YT)),r.b=new mi(s,r.i))}function ie(r,s,a){r.b.set(s,a)}function In(r,s){return r.b.get(s)}function cn(r){return r instanceof Dr?new Dr(r):new Dr(r,void 0)}function Ta(r,s,a,h){var d=new Dr(null,void 0);return r&&Ps(d,r),s&&(d.a=s),a&&Ds(d,a),h&&(d.c=h),d}function Cs(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Rs(r,s,a){return typeof r=="string"?(r=encodeURI(r).replace(s,WT),a&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function WT(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Sg=/[#\/\?@]/g,$T=/[#\?:]/g,XT=/[#\?]/g,YT=/[#\?@]/g,JT=/#/g;function mi(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function Cr(r){r.a||(r.a=new lo,r.b=0,r.c&&KT(r.c,function(s,a){r.add(decodeURIComponent(s.replace(/\+/g," ")),a)}))}function Ng(r){var s=Tg(r);if(typeof s>"u")throw Error("Keys are undefined");var a=new mi(null,void 0);r=_g(r);for(var h=0;h<s.length;h++){var d=s[h],g=r[h];Array.isArray(g)?kg(a,d,g):a.add(d,g)}return a}t=mi.prototype,t.add=function(r,s){Cr(this),this.c=null,r=fo(this,r);var a=this.a.get(r);return a||this.a.set(r,a=[]),a.push(s),this.b+=1,this};function Jn(r,s){Cr(r),s=fo(r,s),vi(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,vi(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&_f(r)))}t.clear=function(){this.a=this.c=null,this.b=0};function Af(r,s){return Cr(r),s=fo(r,s),vi(r.a.b,s)}t.forEach=function(r,s){Cr(this),this.a.forEach(function(a,h){P(a,function(d){r.call(s,d,h,this)},this)},this)},t.Y=function(){Cr(this);for(var r=this.a.V(),s=this.a.Y(),a=[],h=0;h<s.length;h++)for(var d=r[h],g=0;g<d.length;g++)a.push(s[h]);return a},t.V=function(r){Cr(this);var s=[];if(typeof r=="string")Af(this,r)&&(s=L(s,this.a.get(fo(this,r))));else{r=this.a.V();for(var a=0;a<r.length;a++)s=L(s,r[a])}return s},t.set=function(r,s){return Cr(this),this.c=null,r=fo(this,r),Af(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},t.get=function(r,s){return r?(r=this.V(r),0<r.length?String(r[0]):s):s};function kg(r,s,a){Jn(r,s),0<a.length&&(r.c=null,r.a.set(fo(r,s),M(a)),r.b+=a.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),a=0;a<s.length;a++){var h=s[a],d=encodeURIComponent(String(h));h=this.V(h);for(var g=0;g<h.length;g++){var w=d;h[g]!==""&&(w+="="+encodeURIComponent(String(h[g]))),r.push(w)}}return this.c=r.join("&")};function xg(r){var s=new mi;return s.c=r.c,r.a&&(s.a=new lo(r.a),s.b=r.b),s}function fo(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function QT(r,s){s&&!r.f&&(Cr(r),r.c=null,r.a.forEach(function(a,h){var d=h.toLowerCase();h!=d&&(Jn(this,h),kg(this,d,a))},r)),r.f=s}function Og(r){var s=[];return Sf(new ZT,r,s),s.join("")}function ZT(){}function Sf(r,s,a){if(s==null)a.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,a.push("[");for(var d="",g=0;g<s;g++)a.push(d),Sf(r,h[g],a),d=",";a.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{a.push("{"),d="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(g=s[h],typeof g!="function"&&(a.push(d),Dg(h,a),a.push(":"),Sf(r,g,a),d=","));a.push("}");return}}switch(typeof s){case"string":Dg(s,a);break;case"number":a.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":a.push(String(s));break;case"function":a.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var Pg={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},tA=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Dg(r,s){s.push('"',r.replace(tA,function(a){var h=Pg[a];return h||(h="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),Pg[a]=h),h}),'"')}function Nf(){var r=Ae();return Pn&&!!dr&&dr==11||/Edge\/\d+/.test(r)}function Ls(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Cg(r,s){s=s||f.window;var a="about:blank";r&&(a=da(Gm(r))),s.location.href=a}function Rg(r,s){var a=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?a.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<Rg(r[h],s[h]).length&&a.push(h):r[h]!==s[h]&&a.push(h):a.push(h);for(h in s)h in r||a.push(h);return a}function eA(){var r=Ae();return r=ho(r)!=Vg?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!Pn||!dr||9<dr}function Lg(r){return r=(r||Ae()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function gi(r){r=r||f.window;try{r.close()}catch{}}function Mg(r,s,a){var h=Math.floor(1e9*Math.random()).toString();s=s||500,a=a||600;var d=(window.screen.availHeight-a)/2,g=(window.screen.availWidth-s)/2;s={width:s,height:a,top:0<d?d:0,left:0<g?g:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},a=Ae().toLowerCase(),h&&(s.target=h,nt(a,"crios/")&&(s.target="_blank")),ho(Ae())==Of&&(r=r||"http://localhost",s.scrollbars=!0),a=r||"",(r=s)||(r={}),h=window,s=a instanceof On?a:Gm(typeof a.href<"u"?a.href:String(a)),a=r.target||a.target,d=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":d.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:d.push(w+"="+(r[w]?1:0))}var w=d.join(",");if((Bt("iPhone")&&!Bt("iPod")&&!Bt("iPad")||Bt("iPad")||Bt("iPod"))&&h.navigator&&h.navigator.standalone&&a&&a!="_self"?(w=ma(document,"A"),so(w,"HTMLAnchorElement"),s instanceof On||s instanceof On||(s=typeof s=="object"&&s.sa?s.ra():String(s),Bm.test(s)||(s="about:invalid#zClosurez"),s=new On(nf,s)),w.href=da(s),w.setAttribute("target",a),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=h.open("",a,w),r=da(s),w&&(TT&&nt(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r=va('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+rf(r)+'">'),h=w.document)&&(h.write(zm(r)),h.close())):(w=h.open(da(s),a,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function nA(r){return new Tt(function(s){function a(){co(2e3).then(function(){if(!r||r.closed)s();else return a()})}return a()})}var rA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iA=/^[^@]+@[^@]+$/;function Aa(){var r=null;return new Tt(function(s){f.document.readyState=="complete"?s():(r=function(){s()},yf(window,"load",r))}).s(function(s){throw an(window,"load",r),s})}function oA(){return kf(void 0)?Aa().then(function(){return new Tt(function(r,s){var a=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);a.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):$t(Error("Cordova must run in an Android or iOS file scheme."))}function kf(r){return r=r||Ae(),!(vo()!=="file:"&&vo()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function xf(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function Dn(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Qn(){return vt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":vt.INTERNAL.hasOwnProperty("node")?"Node":Dn()?"Worker":"Browser"}function jg(){var r=Qn();return r==="ReactNative"||r==="Node"}function sA(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Of="Firefox",Vg="Chrome";function ho(r){var s=r.toLowerCase();if(nt(s,"opera/")||nt(s,"opr/")||nt(s,"opios/"))return"Opera";if(nt(s,"iemobile"))return"IEMobile";if(nt(s,"msie")||nt(s,"trident/"))return"IE";if(nt(s,"edge/"))return"Edge";if(nt(s,"firefox/"))return Of;if(nt(s,"silk/"))return"Silk";if(nt(s,"blackberry"))return"Blackberry";if(nt(s,"webos"))return"Webos";if(!nt(s,"safari/")||nt(s,"chrome/")||nt(s,"crios/")||nt(s,"android"))if(!nt(s,"chrome/")&&!nt(s,"crios/")||nt(s,"edge/")){if(nt(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Vg;else return"Safari";return"Other"}var Ug={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function po(r,s){s=s||[];var a=[],h={},d;for(d in Ug)h[Ug[d]]=!0;for(d=0;d<s.length;d++)typeof h[s[d]]<"u"&&(delete h[s[d]],a.push(s[d]));return a.sort(),s=a,s.length||(s=["FirebaseCore-web"]),a=Qn(),a==="Browser"?(h=Ae(),a=ho(h)):a==="Worker"&&(h=Ae(),a=ho(h)+"-"+a),a+"/JsCore/"+r+"/"+s.join(",")}function Ae(){return f.navigator&&f.navigator.userAgent||""}function Xt(r,s){r=r.split("."),s=s||f;for(var a=0;a<r.length&&typeof s=="object"&&s!=null;a++)s=s[r[a]];return a!=r.length&&(s=void 0),s}function Pf(){try{var r=f.localStorage,s=wi();if(r)return r.setItem(s,"1"),r.removeItem(s),Nf()?!!f.indexedDB:!0}catch{return Dn()&&!!f.indexedDB}return!1}function yi(){return(Sa()||vo()==="chrome-extension:"||kf())&&!jg()&&Pf()&&!Dn()}function Sa(){return vo()==="http:"||vo()==="https:"}function vo(){return f.location&&f.location.protocol||null}function Ms(r){return r=r||Ae(),!(Lg(r)||ho(r)==Of)}function js(r){return typeof r>"u"?null:Og(r)}function Fg(r){var s={},a;for(a in r)r.hasOwnProperty(a)&&r[a]!==null&&r[a]!==void 0&&(s[a]=r[a]);return s}function mo(r){if(r!==null)return JSON.parse(r)}function wi(r){return r||Math.floor(1e9*Math.random()).toString()}function qg(r){return r=r||Ae(),!(ho(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function Bg(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var a=0;a<r.CP.length;a++)r.CP[a]=null}}function Rr(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=Ae(),s=Qn(),this.b=Lg(r)||s==="ReactNative"}Rr.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Sa()||vo()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Df(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function uA(){var r=f.document,s=null;return Df()||!r?ct():new Tt(function(a){s=function(){Df()&&(r.removeEventListener("visibilitychange",s,!1),a())},r.addEventListener("visibilitychange",s,!1)}).s(function(a){throw r.removeEventListener("visibilitychange",s,!1),a})}function Gg(r){typeof console<"u"&&typeof console.warn=="function"&&console.warn(r)}function Vs(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function Hg(){return!(!Xt("fireauth.oauthhelper",f)&&!Xt("fireauth.iframe",f))}function aA(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function cA(){var r=f.navigator;return r&&r.serviceWorker?ct().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).s(function(){return null}):ct(null)}var zg={};function Cf(r){zg[r]||(zg[r]=!0,Gg(r))}var Rf;try{var Lf={};Object.defineProperty(Lf,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Lf,"abcd",{configurable:!0,enumerable:!0,value:2}),Rf=Lf.abcd==2}catch{Rf=!1}function rt(r,s,a){Rf?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:a}):r[s]=a}function Ge(r,s){if(s)for(var a in s)s.hasOwnProperty(a)&&rt(r,a,s[a])}function Lr(r){var s={};return Ge(s,r),s}function lA(r){var s={},a;for(a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);return s}function fA(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var a=0;a<s.length;a++){var h=r[s[a]];if(h==null||h==="")return!1}return!0}function Mf(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var a in r)rt(s,a,Mf(r[a]))}return s}function jf(r){var s=r&&(r[qf]?"phone":null);if(s&&r&&r[Ff]){rt(this,"uid",r[Ff]),rt(this,"displayName",r[Kg]||null);var a=null;r[Uf]&&(a=new Date(r[Uf]).toUTCString()),rt(this,"enrollmentTime",a),rt(this,"factorId",s)}else throw new S("internal-error","Internal assert: invalid MultiFactorInfo object")}jf.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Vf(r){try{var s=new Us(r)}catch{s=null}return s}var Kg="displayName",Uf="enrolledAt",Ff="mfaEnrollmentId",qf="phoneInfo";function Us(r){jf.call(this,r),rt(this,"phoneNumber",r[qf])}tt(Us,jf),Us.prototype.w=function(){var r=Us.$a.w.call(this);return r.phoneNumber=this.phoneNumber,r};function hA(r){var s={},a=r[pA],h=r[vA],d=r[mA];if(r=Vf(r[dA]),!d||d!=Na&&d!=Fs&&!a||d==Fs&&!h||d==Bf&&!r)throw Error("Invalid checkActionCode response!");d==Fs?(s[$g]=a||null,s[Xg]=a||null,s[Wg]=h):(s[$g]=h||null,s[Xg]=h||null,s[Wg]=a||null),s[gA]=r||null,rt(this,wA,d),rt(this,yA,Mf(s))}var Bf="REVERT_SECOND_FACTOR_ADDITION",Na="EMAIL_SIGNIN",Fs="VERIFY_AND_CHANGE_EMAIL",pA="email",dA="mfaInfo",vA="newEmail",mA="requestType",Wg="email",$g="fromEmail",gA="multiFactorInfo",Xg="previousEmail",yA="data",wA="operation";function Gf(r){r=cn(r);var s=In(r,Yg)||null,a=In(r,Jg)||null,h=In(r,Qg)||null;if(h=h&&_A[h]||null,!s||!a||!h)throw new S("argument-error",Yg+", "+Jg+"and "+Qg+" are required in a valid action code URL.");Ge(this,{apiKey:s,operation:h,code:a,continueUrl:In(r,bA)||null,languageCode:In(r,IA)||null,tenantId:In(r,EA)||null})}var Yg="apiKey",Jg="oobCode",bA="continueUrl",IA="languageCode",Qg="mode",EA="tenantId",_A={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Bf,signIn:Na,verifyAndChangeEmail:Fs,verifyEmail:"VERIFY_EMAIL"};function Zg(r){try{return new Gf(r)}catch{return null}}function ka(r){var s=r[TA];if(typeof s>"u")throw new S("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new S("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var a=r[ty];if(a&&typeof a=="object"){s=a[oy];var h=a[ry];if(a=a[iy],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new S("argument-error",ry+" property must be a boolean when specified.");if(this.g=!!h,typeof a<"u"&&(typeof a!="string"||typeof a=="string"&&!a.length))throw new S("argument-error",iy+" property must be a non empty string when specified.");this.b=a||null}else{if(typeof s<"u")throw new S("argument-error",oy+" property must be a non empty string when specified.");if(typeof h<"u"||typeof a<"u")throw new S("missing-android-pkg-name")}}else if(typeof a<"u")throw new S("argument-error",ty+" property must be a non null object when specified.");if(this.f=null,(s=r[ny])&&typeof s=="object"){if(s=s[sy],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new S("argument-error",sy+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new S("argument-error",ny+" property must be a non null object when specified.");if(s=r[Hf],typeof s<"u"&&typeof s!="boolean")throw new S("argument-error",Hf+" property must be a boolean when specified.");if(this.c=!!s,r=r[ey],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new S("argument-error",ey+" property must be a non empty string when specified.");this.i=r||null}var ty="android",ey="dynamicLinkDomain",Hf="handleCodeInApp",ny="iOS",TA="url",ry="installApp",iy="minimumVersion",oy="packageName",sy="bundleId";function xa(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var a in s)s[a]===null&&delete s[a];return s}function AA(r){return st(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var qs=null;function SA(r){var s="";return NA(r,function(a){s+=String.fromCharCode(a)}),s}function NA(r,s){function a(C){for(;h<r.length;){var j=r.charAt(h++),gt=qs[j];if(gt!=null)return gt;if(!/^[\s\xa0]*$/.test(j))throw Error("Unknown base64 encoding at char: "+j)}return C}kA();for(var h=0;;){var d=a(-1),g=a(0),w=a(64),E=a(64);if(E===64&&d===-1)break;s(d<<2|g>>4),w!=64&&(s(g<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function kA(){if(!qs){qs={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],a=0;5>a;a++)for(var h=r.concat(s[a].split("")),d=0;d<h.length;d++){var g=h[d];qs[g]===void 0&&(qs[g]=d)}}}function Oa(r){var s=uy(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.g=r,this.c=s.exp,this.h=s.sub,this.a=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.b=!!s.is_anonymous||this.a=="anonymous"}Oa.prototype.S=function(){return this.f},Oa.prototype.i=function(){return this.b},Oa.prototype.toString=function(){return this.g};function Pa(r){try{return new Oa(r)}catch{return null}}function uy(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,a=0;a<s;a++)r+=".";try{return JSON.parse(SA(r))}catch{}return null}var ay="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Da=["client_id","response_type","scope","redirect_uri","state"],zf={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:Da},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:Da},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:Da},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:ay},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Kf(r){for(var s in zf)if(zf[s].fa==r)return zf[s];return null}function cy(r){var s={};s["facebook.com"]=fy,s["google.com"]=py,s["github.com"]=hy,s["twitter.com"]=dy;var a=r&&r[ly];try{if(a)return s[a]?new s[a](r):new Zn(r);if(typeof r[Wf]<"u")return new $f(r)}catch{}return null}var Wf="idToken",ly="providerId";function $f(r){var s=r[ly];if(!s&&r[Wf]){var a=Pa(r[Wf]);a&&a.a&&(s=a.a)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),a=!1,typeof r.isNewUser<"u"?a=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(a=!0),rt(this,"providerId",s),rt(this,"isNewUser",a)}function Zn(r){$f.call(this,r),r=mo(r.rawUserInfo||"{}"),rt(this,"profile",Mf(r||{}))}tt(Zn,$f);function fy(r){if(Zn.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}tt(fy,Zn);function hy(r){if(Zn.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");rt(this,"username",this.profile&&this.profile.login||null)}tt(hy,Zn);function py(r){if(Zn.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}tt(py,Zn);function dy(r){if(Zn.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");rt(this,"username",r.screenName||null)}tt(dy,Zn);function vy(r){var s=cn(r),a=In(s,"link"),h=In(cn(a),"link");return s=In(s,"deep_link_id"),In(cn(s),"link")||s||h||a||r}function Ca(r,s){if(!r&&!s)throw new S("internal-error","Internal assert: no raw session string available");if(r&&s)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Bs:Ra}var Bs="enroll",Ra="signin";Ca.prototype.Ha=function(){return this.a?ct(this.a):ct(this.b)},Ca.prototype.w=function(){return this.type==Bs?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function go(){}go.prototype.ja=function(){},go.prototype.b=function(){},go.prototype.c=function(){},go.prototype.w=function(){};function yo(r,s){return r.then(function(a){if(a[Ln]){var h=Pa(a[Ln]);if(!h||s!=h.h)throw new S("user-mismatch");return a}throw new S("user-mismatch")}).s(function(a){throw a&&a.code&&a.code==Qt+"user-not-found"?new S("user-mismatch"):a})}function bi(r,s){if(s)this.a=s;else throw new S("internal-error","failed to construct a credential");rt(this,"providerId",r),rt(this,"signInMethod",r)}bi.prototype.ja=function(r){return wh(r,Xf(this))},bi.prototype.b=function(r,s){var a=Xf(this);return a.idToken=s,bh(r,a)},bi.prototype.c=function(r,s){return yo(Ih(r,Xf(this)),s)};function Xf(r){return{pendingToken:r.a,requestUri:"http://localhost"}}bi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function xA(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new bi(r.providerId,r.pendingToken)}catch{}return null}function mr(r,s,a){if(this.a=null,s.idToken||s.accessToken)s.idToken&&rt(this,"idToken",s.idToken),s.accessToken&&rt(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&rt(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)rt(this,"accessToken",s.oauthToken),rt(this,"secret",s.oauthTokenSecret);else throw new S("internal-error","failed to construct a credential");rt(this,"providerId",r),rt(this,"signInMethod",a)}mr.prototype.ja=function(r){return wh(r,Yf(this))},mr.prototype.b=function(r,s){var a=Yf(this);return a.idToken=s,bh(r,a)},mr.prototype.c=function(r,s){var a=Yf(this);return yo(Ih(r,a),s)};function Yf(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:Ng(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}mr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function OA(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new mr(r.providerId,s,r.signInMethod)}catch{}}return null}function Ii(r,s){this.Pc=s||[],Ge(this,{providerId:r,isOAuthProvider:!0}),this.Hb={},this.ob=(Kf(r)||{}).Ja||null,this.nb=null}Ii.prototype.Ka=function(r){return this.Hb=xn(r),this};function my(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');Ii.call(this,r,[])}tt(my,Ii);function ln(r){Ii.call(this,r,Da),this.a=[]}tt(ln,Ii),ln.prototype.Ca=function(r){return A(this.a,r)||this.a.push(r),this},ln.prototype.Pb=function(){return M(this.a)},ln.prototype.credential=function(r,s){var a;if(T(r)?a={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:a={idToken:r||null,accessToken:s||null},!a.idToken&&!a.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new mr(this.providerId,a,this.providerId)};function Ei(){ln.call(this,"facebook.com")}tt(Ei,ln),rt(Ei,"PROVIDER_ID","facebook.com"),rt(Ei,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function gy(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return T(r)&&(s=r.accessToken),new Ei().credential({accessToken:s})}function _i(){ln.call(this,"github.com")}tt(_i,ln),rt(_i,"PROVIDER_ID","github.com"),rt(_i,"GITHUB_SIGN_IN_METHOD","github.com");function yy(r){if(!r)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return T(r)&&(s=r.accessToken),new _i().credential({accessToken:s})}function Ti(){ln.call(this,"google.com"),this.Ca("profile")}tt(Ti,ln),rt(Ti,"PROVIDER_ID","google.com"),rt(Ti,"GOOGLE_SIGN_IN_METHOD","google.com");function wy(r,s){var a=r;return T(r)&&(a=r.idToken,s=r.accessToken),new Ti().credential({idToken:a,accessToken:s})}function wo(){Ii.call(this,"twitter.com",ay)}tt(wo,Ii),rt(wo,"PROVIDER_ID","twitter.com"),rt(wo,"TWITTER_SIGN_IN_METHOD","twitter.com");function by(r,s){var a=r;if(T(a)||(a={oauthToken:r,oauthTokenSecret:s}),!a.oauthToken||!a.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new mr("twitter.com",a,"twitter.com")}function Mr(r,s,a){this.a=r,this.f=s,rt(this,"providerId","password"),rt(this,"signInMethod",a===En.EMAIL_LINK_SIGN_IN_METHOD?En.EMAIL_LINK_SIGN_IN_METHOD:En.EMAIL_PASSWORD_SIGN_IN_METHOD)}Mr.prototype.ja=function(r){return this.signInMethod==En.EMAIL_LINK_SIGN_IN_METHOD?At(r,dS,{email:this.a,oobCode:this.f}):At(r,$y,{email:this.a,password:this.f})},Mr.prototype.b=function(r,s){return this.signInMethod==En.EMAIL_LINK_SIGN_IN_METHOD?At(r,vS,{idToken:s,email:this.a,oobCode:this.f}):At(r,Wy,{idToken:s,email:this.a,password:this.f})},Mr.prototype.c=function(r,s){return yo(this.ja(r),s)},Mr.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function PA(r){return r&&r.email&&r.password?new Mr(r.email,r.password,r.signInMethod):null}function En(){Ge(this,{providerId:"password",isOAuthProvider:!1})}function Iy(r,s){if(s=Jf(s),!s)throw new S("argument-error","Invalid email link!");return new Mr(r,s.code,En.EMAIL_LINK_SIGN_IN_METHOD)}function Jf(r){return r=vy(r),(r=Zg(r))&&r.operation===Na?r:null}Ge(En,{PROVIDER_ID:"password"}),Ge(En,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ge(En,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function jr(r){if(!(r.cb&&r.bb||r.La&&r.ea))throw new S("internal-error");this.a=r,rt(this,"providerId","phone"),this.fa="phone",rt(this,"signInMethod","phone")}jr.prototype.ja=function(r){return r.eb(Gs(this))},jr.prototype.b=function(r,s){var a=Gs(this);return a.idToken=s,At(r,LS,a)},jr.prototype.c=function(r,s){var a=Gs(this);return a.operation="REAUTH",r=At(r,MS,a),yo(r,s)},jr.prototype.w=function(){var r={providerId:"phone"};return this.a.cb&&(r.verificationId=this.a.cb),this.a.bb&&(r.verificationCode=this.a.bb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function DA(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return P(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(a){r[a]&&(s[a]=r[a])}),new jr(s)}return null}function Gs(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.cb,code:r.a.bb}}function gr(r){try{this.a=r||vt.auth()}catch{throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ge(this,{providerId:"phone",isOAuthProvider:!1})}gr.prototype.eb=function(r,s){var a=this.a.a;return ct(s.verify()).then(function(h){if(typeof h!="string")throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var d=T(r)?r.session:null,g=T(r)?r.phoneNumber:r,w;return d&&d.type==Bs?w=d.Ha().then(function(E){return oS(a,{idToken:E,phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:h}})}):d&&d.type==Ra?w=d.Ha().then(function(E){return sS(a,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=iS(a,{phoneNumber:g,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Ey(r,s){if(!r)throw new S("missing-verification-id");if(!s)throw new S("missing-verification-code");return new jr({cb:r,bb:s})}Ge(gr,{PROVIDER_ID:"phone"}),Ge(gr,{PHONE_SIGN_IN_METHOD:"phone"});function Qf(r){if(r.temporaryProof&&r.phoneNumber)return new jr({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var a=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,d=r&&r.nonce,g=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return wy(g,a);case"facebook.com":return gy(a);case"github.com":return yy(a);case"twitter.com":return by(a,h);default:return a||h||g||w?w?s.indexOf("saml.")==0?new bi(s,w):new mr(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new ln(s).credential({idToken:g,accessToken:a,rawNonce:d}):null}}catch{return null}}function Zf(r){if(!r.isOAuthProvider)throw new S("invalid-oauth-provider")}function Cn(r,s,a,h,d,g,w){if(this.c=r,this.b=s||null,this.g=a||null,this.f=h||null,this.i=g||null,this.h=w||null,this.a=d||null,this.g||this.a){if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}else throw new S("invalid-auth-event")}Cn.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},Cn.prototype.S=function(){return this.h},Cn.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function _y(r){return r=r||{},r.type?new Cn(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&ee(r.error),r.postBody,r.tenantId):null}function CA(){this.b=null,this.a=[]}var th=null;function RA(r){var s=th;s.a.push(r),s.b||(s.b=function(a){for(var h=0;h<s.a.length;h++)s.a[h](a)},r=Xt("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function eh(r){var s="unauthorized-domain",a=void 0,h=cn(r);r=h.a,h=h.f,h=="chrome-extension"?a=Wm("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?a=Wm("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",S.call(this,s,a)}tt(eh,S);function Hs(r,s,a){S.call(this,r,a),r=s||{},r.Ib&&rt(this,"email",r.Ib),r.ea&&rt(this,"phoneNumber",r.ea),r.credential&&rt(this,"credential",r.credential),r.Yb&&rt(this,"tenantId",r.Yb)}tt(Hs,S),Hs.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Ht(r,s),r},Hs.prototype.toJSON=function(){return this.w()};function La(r){if(r.code){var s=r.code||"";s.indexOf(Qt)==0&&(s=s.substring(Qt.length));var a={credential:Qf(r),Yb:r.tenantId};if(r.email)a.Ib=r.email;else if(r.phoneNumber)a.ea=r.phoneNumber;else if(!a.credential)return new S(s,r.message||void 0);return new Hs(s,a,r.message)}return null}function zs(){}zs.prototype.c=null;function Ty(r){return r.c||(r.c=r.b())}var nh;function Ma(){}tt(Ma,zs),Ma.prototype.a=function(){var r=Ay(this);return r?new ActiveXObject(r):new XMLHttpRequest},Ma.prototype.b=function(){var r={};return Ay(this)&&(r[0]=!0,r[1]=!0),r};function Ay(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],a=0;a<s.length;a++){var h=s[a];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}nh=new Ma;function ja(){}tt(ja,zs),ja.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new Sy;throw Error("Unsupported browser")},ja.prototype.b=function(){return{}};function Sy(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=U(this.pc,this),this.a.onerror=U(this.Rb,this),this.a.onprogress=U(this.qc,this),this.a.ontimeout=U(this.uc,this)}t=Sy.prototype,t.open=function(r,s,a){if(a!=null&&!a)throw Error("Only async requests are supported.");this.a.open(r,s)},t.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,rh(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",rh(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,rh(this,1)};function rh(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function ih(r,s,a){this.reset(r,s,a,void 0,void 0)}ih.prototype.a=null,ih.prototype.reset=function(r,s,a,h,d){delete this.a};function oh(r){this.f=r,this.b=this.c=this.a=null}function Ks(r,s){this.name=r,this.value=s}Ks.prototype.toString=function(){return this.name};var Ny=new Ks("SEVERE",1e3),sh=new Ks("WARNING",900),LA=new Ks("CONFIG",700),MA=new Ks("FINE",500);function ky(r){return r.c?r.c:r.a?ky(r.a):(ke("Root logger has no level set."),null)}oh.prototype.log=function(r,s,a){if(r.value>=ky(this).value)for(_(s)&&(s=s()),r=new ih(r,String(s),this.f),a&&(r.a=a),a=this;a;)a=a.a};var uh={},Va=null;function ah(r){Va||(Va=new oh(""),uh[""]=Va,Va.c=LA);var s;if(!(s=uh[r])){s=new oh(r);var a=r.lastIndexOf("."),h=r.substr(a+1);a=ah(r.substr(0,a)),a.b||(a.b={}),a.b[h]=s,s.a=a,uh[r]=s}return s}function _n(r,s){r&&r.log(MA,s,void 0)}function Ua(r){this.f=r}tt(Ua,zs),Ua.prototype.a=function(){return new ch(this.f)},Ua.prototype.b=function(r){return function(){return r}}({});function ch(r){Be.call(this),this.o=r,this.readyState=lh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ah("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}tt(ch,Be);var lh=0;t=ch.prototype,t.open=function(r,s){if(this.readyState!=lh)throw this.abort(),Error("Error reopening a connection");this.m=r,this.g=s,this.readyState=1,$s(this)},t.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.i,method:this.m,credentials:void 0,cache:void 0};r&&(s.body=r),this.o.fetch(new Request(this.g,s)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Ws(this,!1)),this.readyState=lh},t.tc=function(r){this.a&&(this.f=r,this.b||(this.b=r.headers,this.readyState=2,$s(this)),this.a&&(this.readyState=3,$s(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.l=new TextDecoder,xy(this)):r.text().then(this.sc.bind(this),this.Ta.bind(this)))))};function xy(r){r.c.read().then(r.oc.bind(r)).catch(r.Ta.bind(r))}t.oc=function(r){if(this.a){var s=this.l.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Ws(this,!0):$s(this),this.readyState==3&&xy(this)}},t.sc=function(r){this.a&&(this.response=this.responseText=r,Ws(this,!0))},t.rc=function(r){this.a&&(this.response=r,Ws(this,!0))},t.Ta=function(r){var s=this.h;s&&s.log(sh,"Failed to fetch url "+this.g,r instanceof Error?r:Error(r)),this.a&&Ws(this,!0)};function Ws(r,s){s&&r.f&&(r.status=r.f.status,r.statusText=r.f.statusText),r.readyState=4,r.f=null,r.c=null,r.l=null,$s(r)}t.setRequestHeader=function(r,s){this.i.append(r,s)},t.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.h)&&r.log(sh,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var r=this.h;return r&&r.log(sh,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}r=[];for(var s=this.b.entries(),a=s.next();!a.done;)a=a.value,r.push(a[0]+": "+a[1]),a=s.next();return r.join(`\r
`)};function $s(r){r.onreadystatechange&&r.onreadystatechange.call(r)}function Xs(r){Be.call(this),this.headers=new lo,this.O=r||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=Oy,this.u=this.R=!1}tt(Xs,Be);var Oy="";Xs.prototype.b=ah("goog.net.XhrIo");var jA=/^https?$/i,VA=["POST","PUT"];function UA(r,s,a,h,d){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);a=a?a.toUpperCase():"GET",r.l=s,r.h="",r.P=a,r.G=!1,r.c=!0,r.a=r.O?r.O.a():nh.a(),r.A=r.O?Ty(r.O):Ty(nh),r.a.onreadystatechange=U(r.Ub,r);try{_n(r.b,yr(r,"Opening Xhr")),r.N=!0,r.a.open(a,String(s),!0),r.N=!1}catch(w){_n(r.b,yr(r,"Error opening Xhr: "+w.message)),Py(r,w);return}s=h||"";var g=new lo(r.headers);d&&zT(d,function(w,E){g.set(E,w)}),d=I(g.Y()),h=f.FormData&&s instanceof f.FormData,!A(VA,a)||d||h||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.R&&(r.a.withCredentials=r.R);try{Ry(r),0<r.g&&(r.u=FA(r.a),_n(r.b,yr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=U(r.Ma,r)):r.o=Ef(r.Ma,r.g,r)),_n(r.b,yr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){_n(r.b,yr(r,"Send error: "+w.message)),Py(r,w)}}function FA(r){return Pn&&Jm(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function qA(r){return r.toLowerCase()=="content-type"}t=Xs.prototype,t.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",_n(this.b,yr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Py(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,Dy(r),Fa(r)}function Dy(r){r.G||(r.G=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(_n(this.b,yr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fa(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Fa(this,!0)),Xs.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?Cy(this):this.Ic())},t.Ic=function(){Cy(this)};function Cy(r){if(r.c&&typeof l<"u"){if(r.A[1]&&Ys(r)==4&&qa(r)==2)_n(r.b,yr(r,"Local request error detected and ignored"));else if(r.i&&Ys(r)==4)Ef(r.Ub,0,r);else if(r.dispatchEvent("readystatechange"),Ys(r)==4){_n(r.b,yr(r,"Request complete")),r.c=!1;try{var s=qa(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}var h;if(!(h=a)){var d;if(d=s===0){var g=String(r.l).match(Ag)[1]||null;if(!g&&f.self&&f.self.location){var w=f.self.location.protocol;g=w.substr(0,w.length-1)}d=!jA.test(g?g.toLowerCase():"")}h=d}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<Ys(r)?r.a.statusText:""}catch(C){_n(r.b,"Can not get status: "+C.message),E=""}r.h=E+" ["+qa(r)+"]",Dy(r)}}finally{Fa(r)}}}}function Fa(r,s){if(r.a){Ry(r);var a=r.a,h=r.A[0]?m:null;r.a=null,r.A=null,s||r.dispatchEvent("ready");try{a.onreadystatechange=h}catch(d){(r=r.b)&&r.log(Ny,"Problem encountered resetting onreadystatechange: "+d.message,void 0)}}}function Ry(r){r.a&&r.u&&(r.a.ontimeout=null),r.o&&(f.clearTimeout(r.o),r.o=null)}function Ys(r){return r.a?r.a.readyState:0}function qa(r){try{return 2<Ys(r)?r.a.status:-1}catch{return-1}}function BA(r){try{return r.a?r.a.responseText:""}catch(s){return _n(r.b,"Can not get responseText: "+s.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Oy:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Ny,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return _n(this.b,"Can not get response: "+s.message),null}};function yr(r,s){return s+" ["+r.P+" "+r.l+" "+qa(r)+"]"}function Ai(r){var s=zA;this.g=[],this.u=s,this.o=r||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}Ai.prototype.cancel=function(r){if(this.a)this.c instanceof Ai&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(r=new Qs,Ba(this),Js(this,!1,r))}},Ai.prototype.v=function(r,s){this.i=!1,Js(this,r,s)};function Js(r,s,a){r.a=!0,r.c=a,r.f=!s,My(r)}function Ba(r){if(r.a){if(!r.m)throw new Ga;r.m=!1}}function GA(r,s){fh(r,null,s,void 0)}function fh(r,s,a,h){r.g.push([s,a,h]),r.a&&My(r)}Ai.prototype.then=function(r,s,a){var h,d,g=new Tt(function(w,E){h=w,d=E});return fh(this,h,function(w){w instanceof Qs?g.cancel():d(w)}),g.then(r,s,a)},Ai.prototype.$goog_Thenable=!0;function Ly(r){return Dt(r.g,function(s){return _(s[1])})}function My(r){if(r.h&&r.a&&Ly(r)){var s=r.h,a=Ha[s];a&&(f.clearTimeout(a.a),delete Ha[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=a=!1;r.g.length&&!r.i;){var d=r.g.shift(),g=d[0],w=d[1];if(d=d[2],g=r.f?w:g)try{var E=g.call(d||r.o,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(Ot(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(C){s=C,r.f=!0,Ly(r)||(a=!0)}}r.c=s,h&&(E=U(r.v,r,!0),h=U(r.v,r,!1),s instanceof Ai?(fh(s,E,h),s.A=!0):s.then(E,h)),a&&(s=new jy(s),Ha[s.a]=s,r.h=s.a)}function Ga(){dt.call(this)}tt(Ga,dt),Ga.prototype.message="Deferred has already fired",Ga.prototype.name="AlreadyCalledError";function Qs(){dt.call(this)}tt(Qs,dt),Qs.prototype.message="Deferred was canceled",Qs.prototype.name="CanceledError";function jy(r){this.a=f.setTimeout(U(this.c,this),0),this.b=r}jy.prototype.c=function(){throw delete Ha[this.a],this.b};var Ha={};function hh(r){var s={},a=s.document||document,h=Zl(r).toString(),d=ma(document,"SCRIPT"),g={Vb:d,Ma:void 0},w=new Ai(g),E=null,C=s.timeout!=null?s.timeout:5e3;return 0<C&&(E=window.setTimeout(function(){za(d,!0);var j=new ph(WA,"Timeout reached for loading script "+h);Ba(w),Js(w,!1,j)},C),g.Ma=E),d.onload=d.onreadystatechange=function(){d.readyState&&d.readyState!="loaded"&&d.readyState!="complete"||(za(d,s.wd||!1,E),Ba(w),Js(w,!0,null))},d.onerror=function(){za(d,!0,E);var j=new ph(KA,"Error while loading script "+h);Ba(w),Js(w,!1,j)},g=s.attributes||{},Ht(g,{type:"text/javascript",charset:"UTF-8"}),Qm(d,g),IT(d,r),HA(a).appendChild(d),w}function HA(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function zA(){if(this&&this.Vb){var r=this.Vb;r&&r.tagName=="SCRIPT"&&za(r,!0,this.Ma)}}function za(r,s,a){a!=null&&f.clearTimeout(a),r.onload=m,r.onerror=m,r.onreadystatechange=m,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var KA=0,WA=1;function ph(r,s){var a="Jsloader error (code #"+r+")";s&&(a+=": "+s),dt.call(this,a),this.code=r}tt(ph,dt);function Ka(r){this.f=r}tt(Ka,zs),Ka.prototype.a=function(){return new this.f},Ka.prototype.b=function(){return{}};function Rn(r,s,a){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=r.secureTokenTimeout||$A,this.g=xn(r.secureTokenHeaders||XA),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=r.firebaseTimeout||YA,this.a=xn(r.firebaseHeaders||JA),a&&(this.a["X-Client-Version"]=a,this.g["X-Client-Version"]=a),a=Qn()=="Node",a=f.XMLHttpRequest||a&&vt.INTERNAL.node&&vt.INTERNAL.node.XMLHttpRequest,!a&&!Dn())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Dn()?this.f=new Ua(self):jg()?this.f=new Ka(a):this.f=new ja,this.b=null}var dh,Ln="idToken",$A=new Rr(3e4,6e4),XA={"Content-Type":"application/x-www-form-urlencoded"},YA=new Rr(3e4,6e4),JA={"Content-Type":"application/json"};function Vy(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function bo(r,s){s&&(r.l=vh("https://securetoken.googleapis.com/v1/token",s),r.h=vh("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=vh("https://identitytoolkit.googleapis.com/v2/",s))}function vh(r,s){return r=cn(r),s=cn(s.url),r.c=r.a+r.c,Ps(r,s.f),r.a=s.a,Ds(r,s.g),r.toString()}function Uy(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}Rn.prototype.S=function(){return this.b};function Fy(r,s,a,h,d,g,w){eA()||Dn()?r=U(r.u,r):(dh||(dh=new Tt(function(E,C){ZA(E,C)})),r=U(r.o,r)),r(s,a,h,d,g,w)}Rn.prototype.u=function(r,s,a,h,d,g){if(Dn()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Xs(this.f);if(g){w.g=Math.max(0,g);var E=setTimeout(function(){w.dispatchEvent("timeout")},g)}Eg(w,"complete",function(){E&&clearTimeout(E);var C=null;try{C=JSON.parse(BA(this))||null}catch{C=null}s&&s(C)}),If(w,"ready",function(){E&&clearTimeout(E),vg(this)}),If(w,"timeout",function(){E&&clearTimeout(E),vg(this),s&&s(null)}),UA(w,r,a,h,d)};var QA=new Yn(Ns,"https://apis.google.com/js/client.js?onload=%{onload}"),qy="__fcb"+Math.floor(1e6*Math.random()).toString();function ZA(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[qy]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var a=tf(QA,{onload:qy});GA(hh(a),function(){s(Error("CORS_UNSUPPORTED"))})}}Rn.prototype.o=function(r,s,a,h,d){var g=this;dh.then(function(){window.gapi.client.setApiKey(g.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:a,body:h,headers:d,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).s(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function tS(r,s){return new Tt(function(a,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?Fy(r,r.l+"?key="+encodeURIComponent(r.c),function(d){d?d.error?h(_h(d)):d.access_token&&d.refresh_token?a(d):h(new S("internal-error")):h(new S("network-request-failed"))},"POST",Ng(s).toString(),r.g,r.v.get()):h(new S("internal-error"))})}function By(r,s,a,h,d,g,w){var E=cn(s+a);ie(E,"key",r.c),w&&ie(E,"cb",Lt().toString());var C=h=="GET";if(C)for(var j in d)d.hasOwnProperty(j)&&ie(E,j,d[j]);return new Tt(function(gt,Ut){Fy(r,E.toString(),function(Ct){Ct?Ct.error?Ut(_h(Ct,g||{})):gt(Ct):Ut(new S("network-request-failed"))},h,C?void 0:Og(Fg(d)),r.a,r.m.get())})}function Si(r){if(r=r.email,typeof r!="string"||!iA.test(r))throw new S("invalid-email")}function Gy(r){"email"in r&&Si(r)}function eS(r,s){return At(r,fS,{identifier:s,continueUri:Sa()?Ls():"http://localhost"}).then(function(a){return a.signinMethods||[]})}function nS(r){return At(r,_S,{}).then(function(s){return s.authorizedDomains||[]})}function tn(r){if(!r[Ln])throw r.mfaPendingCredential?new S("multi-factor-auth-required",null,xn(r)):new S("internal-error")}function mh(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new S("internal-error")}else{if(!r.sessionInfo)throw new S("missing-verification-id");if(!r.code)throw new S("missing-verification-code")}}Rn.prototype.yb=function(){return At(this,NS,{})},Rn.prototype.Ab=function(r,s){return At(this,Ky,{idToken:r,email:s})},Rn.prototype.Bb=function(r,s){return At(this,Wy,{idToken:r,password:s})};var rS={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Rn.prototype,t.Cb=function(r,s){var a={idToken:r},h=[];return Ss(rS,function(d,g){var w=s[g];w===null?h.push(d):g in s&&(a[g]=w)}),h.length&&(a.deleteAttribute=h),At(this,Ky,a)},t.ub=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Ht(r,s),At(this,ES,r)},t.vb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Ht(r,s),At(this,wS,r)},t.tb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Ht(r,s),At(this,bS,r)},t.Db=function(r,s,a){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Ht(r,a),At(this,IS,r)};function iS(r,s){return At(r,SS,s)}t.eb=function(r){return At(this,RS,r)};function oS(r,s){return At(r,kS,s).then(function(a){return a.phoneSessionInfo.sessionInfo})}function Hy(r){if(!r.phoneVerificationInfo)throw new S("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new S("missing-verification-code")}function sS(r,s){return At(r,xS,s).then(function(a){return a.phoneResponseInfo.sessionInfo})}function uS(r,s,a){return At(r,pS,{idToken:s,deleteProvider:a})}function gh(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new S("internal-error")}function yh(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new mi(r.postBody),Af(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function zy(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=La(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=La(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=La(r)):r.errorMessage&&(s=Xy(r.errorMessage)),s)throw s;tn(r)}function wh(r,s){return s.returnIdpCredential=!0,At(r,OS,s)}function bh(r,s){return s.returnIdpCredential=!0,At(r,DS,s)}function Ih(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,At(r,PS,s)}function Eh(r){if(!r.oobCode)throw new S("invalid-action-code")}t.mb=function(r,s){return At(this,AS,{oobCode:r,newPassword:s})},t.Qa=function(r){return At(this,cS,{oobCode:r})},t.ib=function(r){return At(this,aS,{oobCode:r})};var aS={endpoint:"setAccountInfo",B:Eh,Z:"email",C:!0},cS={endpoint:"resetPassword",B:Eh,F:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},C:!0},lS={endpoint:"signupNewUser",B:function(r){if(Si(r),!r.password)throw new S("weak-password")},F:tn,U:!0,C:!0},fS={endpoint:"createAuthUri",C:!0},hS={endpoint:"deleteAccount",M:["idToken"]},pS={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(r){if(y(r.deleteProvider)!="array")throw new S("internal-error")}},dS={endpoint:"emailLinkSignin",M:["email","oobCode"],B:Si,F:tn,U:!0,C:!0},vS={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:Si,F:tn,U:!0},mS={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:Hy,F:tn,C:!0,Na:!0},gS={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:Hy,F:tn,C:!0,Na:!0},yS={endpoint:"getAccountInfo"},wS={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new S("internal-error");Si(r)},Z:"email",C:!0},bS={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(r){if(r.requestType!="VERIFY_EMAIL")throw new S("internal-error")},Z:"email",C:!0},IS={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new S("internal-error")},Z:"email",C:!0},ES={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(r){if(r.requestType!="PASSWORD_RESET")throw new S("internal-error");Si(r)},Z:"email",C:!0},_S={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},TS={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(r){if(!r.recaptchaSiteKey)throw new S("internal-error")}},AS={endpoint:"resetPassword",B:Eh,Z:"email",C:!0},SS={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},Ky={endpoint:"setAccountInfo",M:["idToken"],B:Gy,U:!0},Wy={endpoint:"setAccountInfo",M:["idToken"],B:function(r){if(Gy(r),!r.password)throw new S("weak-password")},F:tn,U:!0},NS={endpoint:"signupNewUser",F:tn,U:!0,C:!0},kS={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(r){if(!r.phoneEnrollmentInfo)throw new S("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},F:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new S("internal-error")},C:!0,Na:!0},xS={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},F:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new S("internal-error")},C:!0,Na:!0},OS={endpoint:"verifyAssertion",B:gh,Xa:yh,F:zy,U:!0,C:!0},PS={endpoint:"verifyAssertion",B:gh,Xa:yh,F:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new S("user-not-found");if(r.errorMessage)throw Xy(r.errorMessage);tn(r)},U:!0,C:!0},DS={endpoint:"verifyAssertion",B:function(r){if(gh(r),!r.idToken)throw new S("internal-error")},Xa:yh,F:zy,U:!0},CS={endpoint:"verifyCustomToken",B:function(r){if(!r.token)throw new S("invalid-custom-token")},F:tn,U:!0,C:!0},$y={endpoint:"verifyPassword",B:function(r){if(Si(r),!r.password)throw new S("wrong-password")},F:tn,U:!0,C:!0},RS={endpoint:"verifyPhoneNumber",B:mh,F:tn,C:!0},LS={endpoint:"verifyPhoneNumber",B:function(r){if(!r.idToken)throw new S("internal-error");mh(r)},F:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",La(r);tn(r)}},MS={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:mh,F:tn,C:!0},jS={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(r){if(!!r[Ln]^!!r.refreshToken)throw new S("internal-error")},C:!0,Na:!0};function At(r,s,a){if(!fA(a,s.M))return $t(new S("internal-error"));var h=!!s.Na,d=s.Tb||"POST",g;return ct(a).then(s.B).then(function(){return s.U&&(a.returnSecureToken=!0),s.C&&r.b&&typeof a.tenantId>"u"&&(a.tenantId=r.b),h?By(r,r.i,s.endpoint,d,a,s.Gb,s.kb||!1):By(r,r.h,s.endpoint,d,a,s.Gb,s.kb||!1)}).then(function(w){return g=w,s.Xa?s.Xa(a,g):g}).then(s.F).then(function(){if(!s.Z)return g;if(!(s.Z in g))throw new S("internal-error");return g[s.Z]})}function Xy(r){return _h({error:{errors:[{message:r}],code:400,message:r}})}function _h(r,s){var a=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(a=h[a]?new S(h[a]):null)return a;a=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ht(h,s||{}),s=(s=a.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var d in h)if(a.indexOf(d)===0)return new S(h[d],s);return!s&&r&&(s=js(r)),new S("internal-error",s)}function VS(r){this.b=r,this.a=null,this.qb=US(this)}function US(r){return zS().then(function(){return new Tt(function(s,a){Xt("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:Xt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function d(){clearTimeout(g),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var g=setTimeout(function(){a(Error("Network Error"))},HS.get());h.ping(d).then(d,function(){a(Error("Network Error"))})})})})}function FS(r,s){return r.qb.then(function(){return new Tt(function(a){r.a.send(s.type,s,a,Xt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function qS(r,s){r.qb.then(function(){r.a.register("authEvent",s,Xt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var BS=new Yn(Ns,"https://apis.google.com/js/api.js?onload=%{onload}"),GS=new Rr(3e4,6e4),HS=new Rr(5e3,15e3),Wa=null;function zS(){return Wa||(Wa=new Tt(function(r,s){function a(){Bg(),Xt("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){Bg(),s(Error("Network Error"))},timeout:GS.get()})}if(Xt("gapi.iframes.Iframe"))r();else if(Xt("gapi.load"))a();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){Xt("gapi.load")?a():s(Error("Network Error"))},h=tf(BS,{onload:h}),ct(hh(h)).s(function(){s(Error("Network Error"))})}}).s(function(r){throw Wa=null,r}))}function Yy(r,s,a,h){this.l=r,this.h=s,this.i=a,this.g=h,this.f=null,this.g?(r=cn(this.g.url),r=Ta(r.f,r.a,r.g,"/emulator/auth/iframe")):r=Ta("https",this.l,null,"/__/auth/iframe"),this.a=r,ie(this.a,"apiKey",this.h),ie(this.a,"appName",this.i),this.b=null,this.c=[]}Yy.prototype.toString=function(){return this.f?ie(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?ie(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?ie(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()};function Th(r,s,a,h,d,g){this.u=r,this.o=s,this.c=a,this.v=h,this.m=g,this.i=this.g=this.l=null,this.a=d,this.h=this.f=null}Th.prototype.xb=function(r){return this.h=r,this},Th.prototype.toString=function(){if(this.m){var r=cn(this.m.url);r=Ta(r.f,r.a,r.g,"/emulator/auth/handler")}else r=Ta("https",this.u,null,"/__/auth/handler");if(ie(r,"apiKey",this.o),ie(r,"appName",this.c),ie(r,"authType",this.v),this.a.isOAuthProvider){var s=this.a;try{var a=vt.app(this.c).auth().ka()}catch{a=null}s.nb=a,ie(r,"providerId",this.a.providerId),a=this.a,s=Fg(a.Hb);for(var h in s)s[h]=s[h].toString();h=a.Pc,s=xn(s);for(var d=0;d<h.length;d++){var g=h[d];g in s&&delete s[g]}a.ob&&a.nb&&!s[a.ob]&&(s[a.ob]=a.nb),un(s)||ie(r,"customParameters",js(s))}if(typeof this.a.Pb=="function"&&(a=this.a.Pb(),a.length&&ie(r,"scopes",a.join(","))),this.l?ie(r,"redirectUrl",this.l):Jn(r.b,"redirectUrl"),this.g?ie(r,"eventId",this.g):Jn(r.b,"eventId"),this.i?ie(r,"v",this.i):Jn(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!In(r,w)&&ie(r,w,this.b[w]);return this.h?ie(r,"tid",this.h):Jn(r.b,"tid"),this.f?ie(r,"eid",this.f):Jn(r.b,"eid"),w=Ah(this.c),w.length&&ie(r,"fw",w.join(",")),r.toString()};function Ah(r){try{return vt.app(r).auth().Ga()}catch{return[]}}function Jy(r,s,a,h,d,g){this.o=r,this.g=s,this.b=a,this.f=g,this.c=h||null,this.i=d||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function Qy(r){var s=Ls();return nS(r).then(function(a){t:{var h=cn(s),d=h.f;h=h.a;for(var g=0;g<a.length;g++){var w=a[g],E=h,C=d;if(w.indexOf("chrome-extension://")==0?E=cn(w).a==E&&C=="chrome-extension":C!="http"&&C!="https"?E=!1:rA.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){a=!0;break t}}a=!1}if(!a)throw new eh(Ls())})}function Zy(r){return r.v||(r.v=Aa().then(function(){if(!r.u){var s=r.c,a=r.i,h=Ah(r.b),d=new Yy(r.o,r.g,r.b,r.f);d.f=s,d.b=a,d.c=M(h||[]),r.u=d.toString()}r.m=new VS(r.u),KS(r)})),r.v}t=Jy.prototype,t.Nb=function(r,s,a){var h=new S("popup-closed-by-user"),d=new S("web-storage-unsupported"),g=this,w=!1;return this.la().then(function(){WS(g).then(function(E){E||(r&&gi(r),s(d),w=!0)})}).s(function(){}).then(function(){if(!w)return nA(r)}).then(function(){if(!w)return co(a).then(function(){s(h)})})},t.Wb=function(){var r=Ae();return!Ms(r)&&!qg(r)},t.Sb=function(){return!1},t.Lb=function(r,s,a,h,d,g,w,E){if(!r)return $t(new S("popup-blocked"));if(w&&!Ms())return this.la().s(function(j){gi(r),d(j)}),h(),ct();this.a||(this.a=Qy(tw(this)));var C=this;return this.a.then(function(){var j=C.la().s(function(gt){throw gi(r),d(gt),gt});return h(),j}).then(function(){if(Zf(a),!w){var j=Zs(C.o,C.g,C.b,s,a,null,g,C.c,void 0,C.i,E,C.f);Cg(j,r)}}).s(function(j){throw j.code=="auth/network-request-failed"&&(C.a=null),j})};function tw(r){return r.l||(r.A=r.c?po(r.c,Ah(r.b)):null,r.l=new Rn(r.g,qe(r.i),r.A),r.f&&bo(r.l,r.f)),r.l}t.Mb=function(r,s,a,h){this.a||(this.a=Qy(tw(this)));var d=this;return this.a.then(function(){Zf(s);var g=Zs(d.o,d.g,d.b,r,s,Ls(),a,d.c,void 0,d.i,h,d.f);Cg(g)}).s(function(g){throw g.code=="auth/network-request-failed"&&(d.a=null),g})},t.la=function(){var r=this;return Zy(this).then(function(){return r.m.qb}).s(function(){throw r.a=null,new S("network-request-failed")})},t.Zb=function(){return!0};function Zs(r,s,a,h,d,g,w,E,C,j,gt,Ut){return r=new Th(r,s,a,h,d,Ut),r.l=g,r.g=w,r.i=E,r.b=xn(C||null),r.f=j,r.xb(gt).toString()}function KS(r){if(!r.m)throw Error("IfcHandler must be initialized!");qS(r.m,function(s){var a={};if(s&&s.authEvent){var h=!1;for(s=_y(s.authEvent),a=0;a<r.h.length;a++)h=r.h[a](s)||h;return a={},a.status=h?"ACK":"ERROR",ct(a)}return a.status="ERROR",ct(a)})}function WS(r){var s={type:"webStorageSupport"};return Zy(r).then(function(){return FS(r.m,s)}).then(function(a){if(a&&a.length&&typeof a[0].webStorageSupport<"u")return a[0].webStorageSupport;throw Error()})}t.Ea=function(r){this.h.push(r)},t.Ra=function(r){D(this.h,function(s){return s==r})};function ew(r){if(this.a=r||vt.INTERNAL.reactNative&&vt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=ew.prototype,t.get=function(r){return ct(this.a.getItem(r)).then(function(s){return s&&mo(s)})},t.set=function(r,s){return ct(this.a.setItem(r,js(s)))},t.T=function(r){return ct(this.a.removeItem(r))},t.ca=function(){},t.ia=function(){};function nw(r){this.b=r,this.a={},this.f=U(this.c,this)}var rw=[];function $S(){var r=Dn()?self:null;if(P(rw,function(a){a.b==r&&(s=a)}),!s){var s=new nw(r);rw.push(s)}return s}nw.prototype.c=function(r){var s=r.data.eventType,a=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:a,eventType:s,response:null});var d=[];P(h,function(g){d.push(ct().then(function(){return g(r.origin,r.data.data)}))}),sg(d).then(function(g){var w=[];P(g,function(E){w.push({fulfilled:E.Ob,value:E.value,reason:E.reason?E.reason.message:void 0})}),P(w,function(E){for(var C in E)typeof E[C]>"u"&&delete E[C]}),r.ports[0].postMessage({status:"done",eventId:a,eventType:s,response:w})})}};function iw(r,s,a){un(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(a)}function ow(r){this.a=r}ow.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function sw(r){this.c=r,this.b=!1,this.a=[]}function uw(r,s,a,h){var d,g=a||{},w,E,C,j=null;if(r.b)return $t(Error("connection_unavailable"));var gt=h?800:50,Ut=typeof MessageChannel<"u"?new MessageChannel:null;return new Tt(function(Ct,be){Ut?(d=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ut.port1.start(),E=setTimeout(function(){be(Error("unsupported_event"))},gt),w=function(wr){wr.data.eventId===d&&(wr.data.status==="ack"?(clearTimeout(E),C=setTimeout(function(){be(Error("timeout"))},3e3)):wr.data.status==="done"?(clearTimeout(C),typeof wr.data.response<"u"?Ct(wr.data.response):be(Error("unknown_error"))):(clearTimeout(E),clearTimeout(C),be(Error("invalid_response"))))},j={messageChannel:Ut,onMessage:w},r.a.push(j),Ut.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:d,data:g},[Ut.port2])):be(Error("connection_unavailable"))}).then(function(Ct){return Sh(r,j),Ct}).s(function(Ct){throw Sh(r,j),Ct})}function Sh(r,s){if(s){var a=s.messageChannel,h=s.onMessage;a&&(a.port1.removeEventListener("message",h),a.port1.close()),D(r.a,function(d){return d==s})}}sw.prototype.close=function(){for(;0<this.a.length;)Sh(this,this.a[0]);this.b=!0};function aw(){if(!kh())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var r=this;Dn()&&self?(this.l=$S(),iw(this.l,"keyChanged",function(s,a){return fw(r).then(function(h){return 0<h.length&&P(r.a,function(d){d(h)}),{keyProcessed:A(h,a.key)}})}),iw(this.l,"ping",function(){return ct(["keyChanged"])})):cA().then(function(s){(r.h=s)&&(r.g=new sw(new ow(s)),uw(r.g,"ping",null,!0).then(function(a){a[0].fulfilled&&A(a[0].value,"keyChanged")&&(r.o=!0)}).s(function(){}))})}var Nh;function XS(r){return new Tt(function(s,a){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(d){a(Error(d.target.error))}})}function cw(r){return new Tt(function(s,a){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(d){try{d.preventDefault()}catch{}a(Error(d.target.error))},h.onupgradeneeded=function(d){d=d.target.result;try{d.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(g){a(g)}},h.onsuccess=function(d){d=d.target.result,d.objectStoreNames.contains("firebaseLocalStorage")?s(d):XS(r).then(function(){return cw(r)}).then(function(g){s(g)}).s(function(g){a(g)})}})}function $a(r){return r.v||(r.v=cw(r)),r.v}function kh(){try{return!!f.indexedDB}catch{return!1}}function tu(r){return r.objectStore("firebaseLocalStorage")}function eu(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function Io(r){return new Tt(function(s,a){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){a(h.target.error)}})}t=aw.prototype,t.set=function(r,s){var a=!1,h,d=this;return $a(this).then(function(g){return h=g,g=tu(eu(h,!0)),Io(g.get(r))}).then(function(g){var w=tu(eu(h,!0));return g?(g.value=s,Io(w.put(g))):(d.b++,a=!0,g={},g.fbase_key=r,g.value=s,Io(w.add(g)))}).then(function(){return d.c[r]=s,lw(d,r)}).na(function(){a&&d.b--})};function lw(r,s){return r.g&&r.h&&aA()===r.h?uw(r.g,"keyChanged",{key:s},r.o).then(function(){}).s(function(){}):ct()}t.get=function(r){return $a(this).then(function(s){return Io(tu(eu(s,!1)).get(r))}).then(function(s){return s&&s.value})},t.T=function(r){var s=!1,a=this;return $a(this).then(function(h){return s=!0,a.b++,Io(tu(eu(h,!0)).delete(r))}).then(function(){return delete a.c[r],lw(a,r)}).na(function(){s&&a.b--})};function fw(r){return $a(r).then(function(s){var a=tu(eu(s,!1));return a.getAll?Io(a.getAll()):new Tt(function(h,d){var g=[],w=a.openCursor();w.onsuccess=function(E){(E=E.target.result)?(g.push(E.value),E.continue()):h(g)},w.onerror=function(E){d(E.target.error)}})}).then(function(s){var a={},h=[];if(r.b==0){for(h=0;h<s.length;h++)a[s[h].fbase_key]=s[h].value;h=Rg(r.c,a),r.c=a}return h})}t.ca=function(r){this.a.length==0&&YS(this),this.a.push(r)},t.ia=function(r){D(this.a,function(s){return s==r}),this.a.length==0&&hw(this)};function YS(r){function s(){r.f=setTimeout(function(){r.i=fw(r).then(function(a){0<a.length&&P(r.a,function(h){h(a)})}).then(function(){s()}).s(function(a){a.message!="STOP_EVENT"&&s()})},800)}hw(r),s()}function hw(r){r.i&&r.i.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function pw(r){var s=this,a=null;this.a=[],this.type="indexedDB",this.c=r,this.b=ct().then(function(){if(kh()){var h=wi(),d="__sak"+h;return Nh||(Nh=new aw),a=Nh,a.set(d,h).then(function(){return a.get(d)}).then(function(g){if(g!==h)throw Error("indexedDB not supported!");return a.T(d)}).then(function(){return a}).s(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(d){P(s.a,function(g){g(d)})}),h})}t=pw.prototype,t.get=function(r){return this.b.then(function(s){return s.get(r)})},t.set=function(r,s){return this.b.then(function(a){return a.set(r,s)})},t.T=function(r){return this.b.then(function(s){return s.T(r)})},t.ca=function(r){this.a.push(r)},t.ia=function(r){D(this.a,function(s){return s==r})};function nu(){this.a={},this.type="inMemory"}t=nu.prototype,t.get=function(r){return ct(this.a[r])},t.set=function(r,s){return this.a[r]=s,ct()},t.T=function(r){return delete this.a[r],ct()},t.ca=function(){},t.ia=function(){};function Xa(){if(!JS())throw Qn()=="Node"?new S("internal-error","The LocalStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=dw()||vt.INTERNAL.node.localStorage,this.type="localStorage"}function dw(){try{var r=f.localStorage,s=wi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function JS(){var r=Qn()=="Node";if(r=dw()||r&&vt.INTERNAL.node&&vt.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Xa.prototype,t.get=function(r){var s=this;return ct().then(function(){var a=s.a.getItem(r);return mo(a)})},t.set=function(r,s){var a=this;return ct().then(function(){var h=js(s);h===null?a.T(r):a.a.setItem(r,h)})},t.T=function(r){var s=this;return ct().then(function(){s.a.removeItem(r)})},t.ca=function(r){f.window&&bn(f.window,"storage",r)},t.ia=function(r){f.window&&an(f.window,"storage",r)};function xh(){this.type="nullStorage"}t=xh.prototype,t.get=function(){return ct(null)},t.set=function(){return ct()},t.T=function(){return ct()},t.ca=function(){},t.ia=function(){};function Oh(){if(!QS())throw Qn()=="Node"?new S("internal-error","The SessionStorage compatibility library was not found."):new S("web-storage-unsupported");this.a=vw()||vt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function vw(){try{var r=f.sessionStorage,s=wi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function QS(){var r=Qn()=="Node";if(r=vw()||r&&vt.INTERNAL.node&&vt.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Oh.prototype,t.get=function(r){var s=this;return ct().then(function(){var a=s.a.getItem(r);return mo(a)})},t.set=function(r,s){var a=this;return ct().then(function(){var h=js(s);h===null?a.T(r):a.a.setItem(r,h)})},t.T=function(r){var s=this;return ct().then(function(){s.a.removeItem(r)})},t.ca=function(){},t.ia=function(){};function ZS(){var r={};r.Browser=tN,r.Node=eN,r.ReactNative=nN,r.Worker=rN,this.a=r[Qn()]}var Ph,tN={D:Xa,ab:Oh},eN={D:Xa,ab:Oh},nN={D:ew,ab:xh},rN={D:Xa,ab:xh},Eo={qd:"local",NONE:"none",sd:"session"};function iN(r){var s=new S("invalid-persistence-type"),a=new S("unsupported-persistence-type");t:{for(h in Eo)if(Eo[h]==r){var h=!0;break t}h=!1}if(!h||typeof r!="string")throw s;switch(Qn()){case"ReactNative":if(r==="session")throw a;break;case"Node":if(r!=="none")throw a;break;case"Worker":if(r==="session"||!kh()&&r!=="none")throw a;break;default:if(!Pf()&&r!=="none")throw a}}function mw(){var r=!!(!qg(Ae())&&xf()),s=Ms(),a=Pf();this.v=r,this.h=s,this.l=a,this.a={},Ph||(Ph=new ZS),r=Ph;try{this.g=!Nf()&&Hg()||!f.indexedDB?new r.a.D:new pw(Dn()?new nu:new r.a.D)}catch{this.g=new nu,this.h=!0}try{this.i=new r.a.ab}catch{this.i=new nu}this.m=new nu,this.f=U(this.Xb,this),this.b={}}var Dh;function ru(){return Dh||(Dh=new mw),Dh}function Ni(r,s){switch(s){case"session":return r.i;case"none":return r.m;default:return r.g}}function _o(r,s){return"firebase:"+r.name+(s?":"+s:"")}function oN(r,s,a){var h=_o(s,a),d=Ni(r,s.D);return r.get(s,a).then(function(g){var w=null;try{w=mo(f.localStorage.getItem(h))}catch{}if(w&&!g)return f.localStorage.removeItem(h),r.set(s,w,a);w&&g&&d.type!="localStorage"&&f.localStorage.removeItem(h)})}t=mw.prototype,t.get=function(r,s){return Ni(this,r.D).get(_o(r,s))};function To(r,s,a){return a=_o(s,a),s.D=="local"&&(r.b[a]=null),Ni(r,s.D).T(a)}t.set=function(r,s,a){var h=_o(r,a),d=this,g=Ni(this,r.D);return g.set(h,s).then(function(){return g.get(h)}).then(function(w){r.D=="local"&&(d.b[h]=w)})},t.addListener=function(r,s,a){r=_o(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),un(this.a)&&(Ni(this,"local").ca(this.f),this.h||(Nf()||!Hg())&&f.indexedDB||!this.l||sN(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(a)},t.removeListener=function(r,s,a){r=_o(r,s),this.a[r]&&(D(this.a[r],function(h){return h==a}),this.a[r].length==0&&delete this.a[r]),un(this.a)&&(Ni(this,"local").ia(this.f),Ch(this))};function sN(r){Ch(r),r.c=setInterval(function(){for(var s in r.a){var a=f.localStorage.getItem(s),h=r.b[s];a!=h&&(r.b[s]=a,a=new di({type:"storage",key:s,target:window,oldValue:h,newValue:a,a:!0}),r.Xb(a))}},1e3)}function Ch(r){r.c&&(clearInterval(r.c),r.c=null)}t.Xb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var a in this.a){var h=this.b[a];typeof h>"u"&&(h=null);var d=f.localStorage.getItem(a);d!==h&&(this.b[a]=d,this.lb(a))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?Ni(this,"local").ia(this.f):Ch(this),this.v){if(a=f.localStorage.getItem(s),h=r.a.newValue,h!==a)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var g=this;a=function(){(typeof r.a.a<"u"||g.b[s]!==f.localStorage.getItem(s))&&(g.b[s]=f.localStorage.getItem(s),g.lb(s))},Pn&&dr&&dr==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(a,10):a()}}else P(r,U(this.lb,this))},t.lb=function(r){this.a[r]&&P(this.a[r],function(s){s()})};function uN(r){this.a=r,this.b=ru()}var Rh={name:"authEvent",D:"local"};function aN(r){return r.b.get(Rh,r.a).then(function(s){return _y(s)})}function cN(){this.a=ru()}function lN(){this.b=-1}function Ya(r,s){this.b=gw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),Ja===void 0&&(f.Int32Array?Ja=new Int32Array(bw):Ja=bw),this.reset()}var Ja;tt(Ya,lN);for(var gw=64,fN=gw-1,yw=[],Lh=0;Lh<fN;Lh++)yw[Lh]=0;var ww=L(128,yw);Ya.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):M(this.h)};function Mh(r){for(var s=r.f,a=r.l,h=0,d=0;d<s.length;)a[h++]=s[d]<<24|s[d+1]<<16|s[d+2]<<8|s[d+3],d=4*h;for(s=16;64>s;s++){d=a[s-15]|0,h=a[s-2]|0;var g=(a[s-16]|0)+((d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3)|0,w=(a[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;a[s]=g+w|0}h=r.a[0]|0,d=r.a[1]|0;var E=r.a[2]|0,C=r.a[3]|0,j=r.a[4]|0,gt=r.a[5]|0,Ut=r.a[6]|0;for(g=r.a[7]|0,s=0;64>s;s++){var Ct=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&d^h&E^d&E)|0;w=j&gt^~j&Ut,g=g+((j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))|0,w=w+(Ja[s]|0)|0,w=g+(w+(a[s]|0)|0)|0,g=Ut,Ut=gt,gt=j,j=C+w|0,C=E,E=d,d=h,h=w+Ct|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+d|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+C|0,r.a[4]=r.a[4]+j|0,r.a[5]=r.a[5]+gt|0,r.a[6]=r.a[6]+Ut|0,r.a[7]=r.a[7]+g|0}function jh(r,s,a){a===void 0&&(a=s.length);var h=0,d=r.c;if(typeof s=="string")for(;h<a;)r.f[d++]=s.charCodeAt(h++),d==r.b&&(Mh(r),d=0);else if(b(s))for(;h<a;){var g=s[h++];if(!(typeof g=="number"&&0<=g&&255>=g&&g==(g|0)))throw Error("message must be a byte array");r.f[d++]=g,d==r.b&&(Mh(r),d=0)}else throw Error("message must be string or array");r.c=d,r.g+=a}var bw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Iw(){Ya.call(this,8,hN)}tt(Iw,Ya);var hN=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ew(r,s,a,h,d,g){this.m=r,this.i=s,this.l=a,this.v=h||null,this.u=d||null,this.o=g,this.h=s+":"+a,this.A=new cN,this.g=new uN(this.h),this.f=null,this.b=[],this.a=this.c=null}function Qa(r){return new S("invalid-cordova-configuration",r)}t=Ew.prototype,t.la=function(){return this.Ia?this.Ia:this.Ia=oA().then(function(){if(typeof Xt("universalLinks.subscribe",f)!="function")throw Qa("cordova-universal-links-plugin-fix is not installed");if(typeof Xt("BuildInfo.packageName",f)>"u")throw Qa("cordova-plugin-buildinfo is not installed");if(typeof Xt("cordova.plugins.browsertab.openUrl",f)!="function")throw Qa("cordova-plugin-browsertab is not installed");if(typeof Xt("cordova.InAppBrowser.open",f)!="function")throw Qa("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})};function pN(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function dN(r){var s=new Iw;jh(s,r),r=[];var a=8*s.g;56>s.c?jh(s,ww,56-s.c):jh(s,ww,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=a&255,a/=256;for(Mh(s),h=a=0;h<s.i;h++)for(var d=24;0<=d;d-=8)r[a++]=s.a[h]>>d&255;return AA(r)}t.Nb=function(r,s){return s(new S("operation-not-supported-in-this-environment")),ct()},t.Lb=function(){return $t(new S("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(r,s,a,h){if(this.c)return $t(new S("redirect-operation-pending"));var d=this,g=f.document,w=null,E=null,C=null,j=null;return this.c=ct().then(function(){return Zf(s),Tw(d)}).then(function(){return vN(d,r,s,a,h)}).then(function(){return new Tt(function(gt,Ut){E=function(){var Ct=Xt("cordova.plugins.browsertab.close",f);return gt(),typeof Ct=="function"&&Ct(),d.a&&typeof d.a.close=="function"&&(d.a.close(),d.a=null),!1},d.Ea(E),C=function(){w||(w=co(2e3).then(function(){Ut(new S("redirect-cancelled-by-user"))}))},j=function(){Df()&&C()},g.addEventListener("resume",C,!1),Ae().toLowerCase().match(/android/)||g.addEventListener("visibilitychange",j,!1)}).s(function(gt){return Vh(d).then(function(){throw gt})})}).na(function(){C&&g.removeEventListener("resume",C,!1),j&&g.removeEventListener("visibilitychange",j,!1),w&&w.cancel(),E&&d.Ra(E),d.c=null})};function vN(r,s,a,h,d){var g=pN(),w=new Cn(s,h,null,g,new S("no-auth-event"),null,d),E=Xt("BuildInfo.packageName",f);if(typeof E!="string")throw new S("invalid-cordova-configuration");var C=Xt("BuildInfo.displayName",f),j={};if(Ae().toLowerCase().match(/iphone|ipad|ipod/))j.ibi=E;else if(Ae().toLowerCase().match(/android/))j.apn=E;else return $t(new S("operation-not-supported-in-this-environment"));C&&(j.appDisplayName=C),g=dN(g),j.sessionId=g;var gt=Zs(r.m,r.i,r.l,s,a,null,h,r.v,j,r.u,d,r.o);return r.la().then(function(){var Ut=r.h;return r.A.a.set(Rh,w.w(),Ut)}).then(function(){var Ut=Xt("cordova.plugins.browsertab.isAvailable",f);if(typeof Ut!="function")throw new S("invalid-cordova-configuration");var Ct=null;Ut(function(be){if(be){if(Ct=Xt("cordova.plugins.browsertab.openUrl",f),typeof Ct!="function")throw new S("invalid-cordova-configuration");Ct(gt)}else{if(Ct=Xt("cordova.InAppBrowser.open",f),typeof Ct!="function")throw new S("invalid-cordova-configuration");be=Ae(),r.a=Ct(gt,be.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||be.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function _w(r,s){for(var a=0;a<r.b.length;a++)try{r.b[a](s)}catch{}}function Tw(r){return r.f||(r.f=r.la().then(function(){return new Tt(function(s){function a(h){return s(h),r.Ra(a),!1}r.Ea(a),mN(r)})})),r.f}function Vh(r){var s=null;return aN(r.g).then(function(a){return s=a,a=r.g,To(a.b,Rh,a.a)}).then(function(){return s})}function mN(r){function s(w){h=!0,d&&d.cancel(),Vh(r).then(function(E){var C=a;if(E&&w&&w.url){var j=null;C=vy(w.url),C.indexOf("/__/auth/callback")!=-1&&(j=cn(C),j=mo(In(j,"firebaseError")||null),j=(j=typeof j=="object"?ee(j):null)?new Cn(E.c,E.b,null,null,j,null,E.S()):new Cn(E.c,E.b,C,E.f,null,null,E.S())),C=j||a}_w(r,C)})}var a=new Cn("unknown",null,null,null,new S("no-auth-event")),h=!1,d=co(500).then(function(){return Vh(r).then(function(){h||_w(r,a)})}),g=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(Xt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof g=="function")try{g(w)}catch(E){console.error(E)}},th||(th=new CA),RA(s)}t.Ea=function(r){this.b.push(r),Tw(this).s(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new Cn("unknown",null,null,null,new S("no-auth-event")),r(s))})},t.Ra=function(r){D(this.b,function(s){return s==r})};function gN(r){this.a=r,this.b=ru()}var Uh={name:"pendingRedirect",D:"session"};function yN(r){return r.b.set(Uh,"pending",r.a)}function Fh(r){return To(r.b,Uh,r.a)}function wN(r){return r.b.get(Uh,r.a).then(function(s){return s=="pending"})}function Za(r,s,a,h){this.i={},this.u=0,this.O=r,this.m=s,this.v=a,this.G=h,this.h=[],this.f=!1,this.l=U(this.o,this),this.b=new tc,this.A=new Mw,this.g=new gN(Dw(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Aw(this.O,this.m,this.v,Je,this.G)}function Aw(r,s,a,h,d){var g=vt.SDK_VERSION||null;return kf()?new Ew(r,s,a,g,h,d):new Jy(r,s,a,g,h,d)}Za.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Aw(this.O,this.m,this.v,null,this.G),this.i={}};function Sw(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.la().s(function(a){throw r.a==s&&r.reset(),a})}function Nw(r){r.a.Wb()&&Sw(r).s(function(s){var a=new Cn("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Bh(s)&&r.o(a)}),r.a.Sb()||Rw(r.b)}function qh(r,s){A(r.h,s)||r.h.push(s),r.f||wN(r.g).then(function(a){a?Fh(r.g).then(function(){Sw(r).s(function(h){var d=new Cn("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Bh(h)&&r.o(d)})}):Nw(r)}).s(function(){Nw(r)})}function kw(r,s){D(r.h,function(a){return a==s})}Za.prototype.o=function(r){if(!r)throw new S("invalid-auth-event");if(6e5<=Lt()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,a=0;a<this.h.length;a++){var h=this.h[a];if(h.Eb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Lt())),s=!0;break}}return Rw(this.b),s};var bN=new Rr(2e3,1e4),IN=new Rr(3e4,6e4);Za.prototype.qa=function(){return this.b.qa()};function xw(r,s,a,h,d,g,w){return r.a.Lb(s,a,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},d,g,w)}function Bh(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Ow(r,s,a,h,d){var g;return yN(r.g).then(function(){return r.a.Mb(s,a,h,d).s(function(w){if(Bh(w))throw new S("operation-not-supported-in-this-environment");return g=w,Fh(r.g).then(function(){throw g})}).then(function(){return r.a.Zb()?new Tt(function(){}):Fh(r.g).then(function(){return r.qa()}).then(function(){}).s(function(){})})})}function Pw(r,s,a,h,d){return r.a.Nb(h,function(g){s.ma(a,null,g,d)},bN.get())}var Gh={};function Dw(r,s,a){return r=r+":"+s,a&&(r=r+":"+a.url),r}function Cw(r,s,a,h){var d=Dw(s,a,h);return Gh[d]||(Gh[d]=new Za(r,s,a,h)),Gh[d]}function tc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}tc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},tc.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var a=r.c,h=r.b,d=r.a&&r.a.code=="auth/web-storage-unsupported",g=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!d&&!g),a!="unknown"||d||g?r.a?(ki(this,!0,null,r.a),ct()):s.Fa(a,h)?EN(this,r,s):$t(new S("invalid-auth-event")):(ki(this,!1,null,null),ct())}else $t(new S("invalid-auth-event"))};function Rw(r){r.g||(r.g=!0,ki(r,!1,null,null))}function ec(r){r.g&&!r.i&&ki(r,!1,null,null)}function EN(r,s,a){a=a.Fa(s.c,s.b);var h=s.g,d=s.f,g=s.i,w=s.S(),E=!!s.c.match(/Redirect$/);a(h,d,w,g).then(function(C){ki(r,E,C,null)}).s(function(C){ki(r,E,null,C)})}function _N(r,s){if(r.b=function(){return $t(s)},r.c.length)for(var a=0;a<r.c.length;a++)r.c[a](s)}function Lw(r,s){if(r.b=function(){return ct(s)},r.f.length)for(var a=0;a<r.f.length;a++)r.f[a](s)}function ki(r,s,a,h){s?h?_N(r,h):Lw(r,a):Lw(r,{user:null}),r.f=[],r.c=[]}tc.prototype.qa=function(){var r=this;return new Tt(function(s,a){r.b?r.b().then(s,a):(r.f.push(s),r.c.push(a),TN(r))})};function TN(r){var s=new S("timeout");r.a&&r.a.cancel(),r.a=co(IN.get()).then(function(){r.b||(r.g=!0,ki(r,!0,null,s))})}function Mw(){}Mw.prototype.h=function(r,s){if(r){var a=r.c,h=r.b;r.a?(s.ma(r.c,null,r.a,r.b),ct()):s.Fa(a,h)?AN(r,s):$t(new S("invalid-auth-event"))}else $t(new S("invalid-auth-event"))};function AN(r,s){var a=r.b,h=r.c;s.Fa(h,a)(r.g,r.f,r.S(),r.i).then(function(d){s.ma(h,d,null,a)}).s(function(d){s.ma(h,null,d,a)})}function jw(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(r){this.hb=r},enumerable:!1})}function Hh(r,s){this.a=s,rt(this,"verificationId",r)}Hh.prototype.confirm=function(r){return r=Ey(this.verificationId,r),this.a(r)};function zh(r,s,a,h){return new gr(r).eb(s,a).then(function(d){return new Hh(d,h)})}function SN(r){var s=uy(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ge(this,{token:r,expirationTime:Vs(1e3*s.exp),authTime:Vs(1e3*s.auth_time),issuedAtTime:Vs(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function Kh(r,s,a){var h=s&&s[Uw];if(!h)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=xn(s),this.g=a,this.c=new Ca(null,h),this.b=[];var d=this;P(s[Vw]||[],function(g){(g=Vf(g))&&d.b.push(g)}),rt(this,"auth",this.a),rt(this,"session",this.c),rt(this,"hints",this.b)}var Vw="mfaInfo",Uw="mfaPendingCredential";Kh.prototype.Qc=function(r){var s=this;return r.rb(this.a.a,this.c).then(function(a){var h=xn(s.f);return delete h[Vw],delete h[Uw],Ht(h,a),s.g(h)})};function Wh(r,s,a,h){S.call(this,"multi-factor-auth-required",h,s),this.b=new Kh(r,s,a),rt(this,"resolver",this.b)}tt(Wh,S);function Fw(r,s,a){if(r&&T(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Wh(s,r.serverResponse,a,r.message)}catch{}return null}function qw(){}qw.prototype.rb=function(r,s,a){return s.type==Bs?NN(this,r,s,a):kN(this,r,s)};function NN(r,s,a,h){return a.Ha().then(function(d){return d={idToken:d},typeof h<"u"&&(d.displayName=h),Ht(d,{phoneVerificationInfo:Gs(r.a)}),At(s,mS,d)})}function kN(r,s,a){return a.Ha().then(function(h){return h={mfaPendingCredential:h},Ht(h,{phoneVerificationInfo:Gs(r.a)}),At(s,gS,h)})}function $h(r){rt(this,"factorId",r.fa),this.a=r}tt($h,qw);function Bw(r){if($h.call(this,r),this.a.fa!=gr.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}tt(Bw,$h);function Ao(r,s){Ze.call(this,r);for(var a in s)this[a]=s[a]}tt(Ao,Ze);function Xh(r,s){this.a=r,this.b=[],this.c=U(this.xc,this),bn(this.a,"userReloaded",this.c);var a=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&P(s.multiFactor.enrolledFactors,function(h){var d=null,g={};if(h){h.uid&&(g[Ff]=h.uid),h.displayName&&(g[Kg]=h.displayName),h.enrollmentTime&&(g[Uf]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(g[qf]=h.phoneNumber);try{d=new Us(g)}catch{}h=d}else h=null;h&&a.push(h)}),nc(this,a)}function xN(r){var s=[];return P(r.mfaInfo||[],function(a){(a=Vf(a))&&s.push(a)}),s}t=Xh.prototype,t.xc=function(r){nc(this,xN(r.gd))};function nc(r,s){r.b=s,rt(r,"enrolledFactors",s)}t.Qb=function(){return this.a.I().then(function(r){return new Ca(r,null)})},t.ec=function(r,s){var a=this,h=this.a.a;return this.Qb().then(function(d){return r.rb(h,d,s)}).then(function(d){return tr(a.a,d),a.a.reload()})},t.ad=function(r){var s=this,a=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(d){return At(h,jS,{idToken:d,mfaEnrollmentId:a})}).then(function(d){var g=$(s.b,function(w){return w.uid!=a});return nc(s,g),tr(s.a,d),s.a.reload().s(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:st(this.b,function(r){return r.w()})}}};function Yh(r,s,a){if(this.h=r,this.i=s,this.g=a,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Yh.prototype.start=function(){this.a=this.c,Jh(this,!0)};function ON(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function Jh(r,s){r.stop(),r.b=co(ON(r,s)).then(function(){return uA()}).then(function(){return r.h()}).then(function(){Jh(r,!0)}).s(function(a){r.i(a)&&Jh(r,!1)})}Yh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Qh(r){this.c=r,this.b=this.a=null}Qh.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Zh(this)}};function Zh(r){return r.b&&1e3*r.b.c||0}function Gw(r,s){var a=s.refreshToken;r.b=Pa(s[Ln]||""),r.a=a}function PN(r,s){r.b=s.b,r.a=s.a}function DN(r,s){return tS(r.c,s).then(function(a){return r.b=Pa(a.access_token),r.a=a.refresh_token,{accessToken:r.b.toString(),refreshToken:r.a}}).s(function(a){throw a.code=="auth/user-token-expired"&&(r.a=null),a})}Qh.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?$t(new S("user-token-expired")):r||!this.b||Lt()>Zh(this)-3e4?this.a?DN(this,{grant_type:"refresh_token",refresh_token:this.a}):ct(null):ct({accessToken:this.b.toString(),refreshToken:this.a})};function rc(r,s){this.a=r||null,this.b=s||null,Ge(this,{lastSignInTime:Vs(s||null),creationTime:Vs(r||null)})}function CN(r){return new rc(r.a,r.b)}rc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function RN(r,s,a,h,d,g){Ge(this,{uid:r,displayName:h||null,photoURL:d||null,email:a||null,phoneNumber:g||null,providerId:s})}function fn(r,s,a){this.G=[],this.l=r.apiKey,this.m=r.appName,this.o=r.authDomain||null;var h=vt.SDK_VERSION?po(vt.SDK_VERSION):null;this.a=new Rn(this.l,qe(Je),h),r.emulatorConfig&&bo(this.a,r.emulatorConfig),this.b=new Qh(this.a),op(this,s[Ln]),Gw(this.b,s),rt(this,"refreshToken",this.b.a),zw(this,a||{}),Be.call(this),this.P=!1,this.o&&yi()&&(this.i=Cw(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=LN(this),this.$=U(this.gb,this);var d=this;this.pa=null,this.Ba=function(g){d.wa(g.h)},this.ba=null,this.za=function(g){bo(d.a,g.c)},this.W=null,this.X=[],this.Aa=function(g){iu(d,g.f)},this.aa=null,this.N=new Xh(this,a),rt(this,"multiFactor",this.N)}tt(fn,Be),fn.prototype.wa=function(r){this.pa=r,Vy(this.a,r)},fn.prototype.ka=function(){return this.pa};function tp(r,s){r.ba&&an(r.ba,"languageCodeChanged",r.Ba),(r.ba=s)&&bn(s,"languageCodeChanged",r.Ba)}function ep(r,s){r.W&&an(r.W,"emulatorConfigChanged",r.za),(r.W=s)&&bn(s,"emulatorConfigChanged",r.za)}function iu(r,s){r.X=s,Uy(r.a,vt.SDK_VERSION?po(vt.SDK_VERSION,r.X):null)}fn.prototype.Ga=function(){return M(this.X)};function np(r,s){r.aa&&an(r.aa,"frameworkChanged",r.Aa),(r.aa=s)&&bn(s,"frameworkChanged",r.Aa)}fn.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())};function rp(r){try{return vt.app(r.m).auth()}catch{throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function LN(r){return new Yh(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=Zh(r.b)-Lt()-3e5;return 0<s?s:0})}function Hw(r){r.A||r.u.b||(r.u.start(),an(r,"tokenChanged",r.$),bn(r,"tokenChanged",r.$))}function ip(r){an(r,"tokenChanged",r.$),r.u.stop()}function op(r,s){r.ya=s,rt(r,"_lat",s)}function MN(r,s){D(r.R,function(a){return a==s})}function xi(r){for(var s=[],a=0;a<r.R.length;a++)s.push(r.R[a](r));return sg(s).then(function(){return r})}function ou(r){r.i&&!r.P&&(r.P=!0,qh(r.i,r))}function zw(r,s){Ge(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new rc(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}rt(fn.prototype,"providerId","firebase");function Kw(){}function sp(r){return ct().then(function(){if(r.A)throw new S("app-deleted")})}function up(r){return st(r.providerData,function(s){return s.providerId})}function ap(r,s){s&&(Ww(r,s.providerId),r.providerData.push(s))}function Ww(r,s){D(r.providerData,function(a){return a.providerId==s})}function Vr(r,s,a){(s!="uid"||a)&&r.hasOwnProperty(s)&&rt(r,s,a)}function ic(r,s){r!=s&&(Ge(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?rt(r,"metadata",CN(s.metadata)):rt(r,"metadata",new rc),P(s.providerData,function(a){ap(r,a)}),PN(r.b,s.b),rt(r,"refreshToken",r.b.a),nc(r.N,s.N.b))}t=fn.prototype,t.reload=function(){var r=this;return pe(this,sp(this).then(function(){return cp(r).then(function(){return xi(r)}).then(Kw)}))};function cp(r){return r.I().then(function(s){var a=r.isAnonymous;return jN(r,s).then(function(){return a||Vr(r,"isAnonymous",!1),s})})}t.nc=function(r){return this.I(r).then(function(s){return new SN(s)})},t.I=function(r){var s=this;return pe(this,sp(this).then(function(){return s.b.getToken(r)}).then(function(a){if(!a)throw new S("internal-error");return a.accessToken!=s.ya&&(op(s,a.accessToken),s.dispatchEvent(new Ao("tokenChanged"))),Vr(s,"refreshToken",a.refreshToken),a.accessToken}))};function tr(r,s){s[Ln]&&r.ya!=s[Ln]&&(Gw(r.b,s),r.dispatchEvent(new Ao("tokenChanged")),op(r,s[Ln]),Vr(r,"refreshToken",r.b.a))}function jN(r,s){return At(r.a,yS,{idToken:s}).then(U(r.Jc,r))}t.Jc=function(r){if(r=r.users,!r||!r.length)throw new S("internal-error");r=r[0],zw(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=VN(r),a=0;a<s.length;a++)ap(this,s[a]);Vr(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Ao("userReloaded",{gd:r}))};function VN(r){return(r=r.providerUserInfo)&&r.length?st(r,function(s){return new RN(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}t.Kc=function(r){return Cf("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(r)},t.sb=function(r){var s=this,a=null;return pe(this,r.c(this.a,this.uid).then(function(h){return tr(s,h),a=su(s,h,"reauthenticate"),s.f=null,s.reload()}).then(function(){return a}),!0)};function oc(r,s){return cp(r).then(function(){if(A(up(r),s))return xi(r).then(function(){throw new S("provider-already-linked")})})}t.Bc=function(r){return Cf("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(r)},t.pb=function(r){var s=this,a=null;return pe(this,oc(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return a=su(s,h,"link"),$w(s,h)}).then(function(){return a}))},t.Cc=function(r,s){var a=this;return pe(this,oc(this,"phone").then(function(){return zh(rp(a),r,s,U(a.pb,a))}))},t.Lc=function(r,s){var a=this;return pe(this,ct().then(function(){return zh(rp(a),r,s,U(a.sb,a))}),!0)};function su(r,s,a){var h=Qf(s);return s=cy(s),Lr({user:r,credential:h,additionalUserInfo:s,operationType:a})}function $w(r,s){return tr(r,s),r.reload().then(function(){return r})}t.Ab=function(r){var s=this;return pe(this,this.I().then(function(a){return s.a.Ab(a,r)}).then(function(a){return tr(s,a),s.reload()}))},t.dd=function(r){var s=this;return pe(this,this.I().then(function(a){return r.b(s.a,a)}).then(function(a){return tr(s,a),s.reload()}))},t.Bb=function(r){var s=this;return pe(this,this.I().then(function(a){return s.a.Bb(a,r)}).then(function(a){return tr(s,a),s.reload()}))},t.Cb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return sp(this);var s=this;return pe(this,this.I().then(function(a){return s.a.Cb(a,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(a){return tr(s,a),Vr(s,"displayName",a.displayName||null),Vr(s,"photoURL",a.photoUrl||null),P(s.providerData,function(h){h.providerId==="password"&&(rt(h,"displayName",s.displayName),rt(h,"photoURL",s.photoURL))}),xi(s)}).then(Kw))},t.bd=function(r){var s=this;return pe(this,cp(this).then(function(a){return A(up(s),r)?uS(s.a,a,[r]).then(function(h){var d={};return P(h.providerUserInfo||[],function(g){d[g.providerId]=!0}),P(up(s),function(g){d[g]||Ww(s,g)}),d[gr.PROVIDER_ID]||rt(s,"phoneNumber",null),xi(s)}):xi(s).then(function(){throw new S("no-such-provider")})}))},t.delete=function(){var r=this;return pe(this,this.I().then(function(s){return At(r.a,hS,{idToken:s})}).then(function(){r.dispatchEvent(new Ao("userDeleted"))})).then(function(){for(var s=0;s<r.G.length;s++)r.G[s].cancel("app-deleted");tp(r,null),ep(r,null),np(r,null),r.G=[],r.A=!0,ip(r),rt(r,"refreshToken",null),r.i&&kw(r.i,r)})},t.Eb=function(r,s){return!!(r=="linkViaPopup"&&(this.h||null)==s&&this.g||r=="reauthViaPopup"&&(this.h||null)==s&&this.g||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},t.ma=function(r,s,a,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.h||null)||(a&&this.O?this.O(a):s&&!a&&this.g&&this.g(s),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.h||null)?U(this.Jb,this):r=="reauthViaPopup"&&s==(this.h||null)?U(this.Kb,this):r=="linkViaRedirect"&&(this.ga||null)==s?U(this.Jb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?U(this.Kb,this):null},t.Dc=function(r){var s=this;return Xw(this,"linkViaPopup",r,function(){return oc(s,r.providerId).then(function(){return xi(s)})},!1)},t.Mc=function(r){return Xw(this,"reauthViaPopup",r,function(){return ct()},!0)};function Xw(r,s,a,h,d){if(!yi())return $t(new S("operation-not-supported-in-this-environment"));if(r.f&&!d)return $t(r.f);var g=Kf(a.providerId),w=wi(r.uid+":::"),E=null;(!Ms()||xf())&&r.o&&a.isOAuthProvider&&(E=Zs(r.o,r.l,r.m,s,a,null,w,vt.SDK_VERSION||null,null,null,r.tenantId));var C=Mg(E,g&&g.ua,g&&g.ta);return h=h().then(function(){if(Jw(r),!d)return r.I().then(function(){})}).then(function(){return xw(r.i,C,s,a,w,!!E,r.tenantId)}).then(function(){return new Tt(function(j,gt){r.ma(s,null,new S("cancelled-popup-request"),r.h||null),r.g=j,r.O=gt,r.h=w,r.c=Pw(r.i,r,s,C,w)})}).then(function(j){return C&&gi(C),j?Lr(j):null}).s(function(j){throw C&&gi(C),j}),pe(r,h,d)}t.Ec=function(r){var s=this;return Yw(this,"linkViaRedirect",r,function(){return oc(s,r.providerId)},!1)},t.Nc=function(r){return Yw(this,"reauthViaRedirect",r,function(){return ct()},!0)};function Yw(r,s,a,h,d){if(!yi())return $t(new S("operation-not-supported-in-this-environment"));if(r.f&&!d)return $t(r.f);var g=null,w=wi(r.uid+":::");return h=h().then(function(){if(Jw(r),!d)return r.I().then(function(){})}).then(function(){return r.ga=w,xi(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(lp,r.w(),E.a)),E}).then(function(){return Ow(r.i,s,a,w,r.tenantId)}).s(function(E){if(g=E,r.ha)return Zw(r.ha);throw g}).then(function(){if(g)throw g}),pe(r,h,d)}function Jw(r){if(!r.i||!r.P)throw r.i&&!r.P?new S("internal-error"):new S("auth-domain-config-required")}t.Jb=function(r,s,a,h){var d=this;this.c&&(this.c.cancel(),this.c=null);var g=null;return a=this.I().then(function(w){return bh(d.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return g=su(d,w,"link"),$w(d,w)}).then(function(){return g}),pe(this,a)},t.Kb=function(r,s,a,h){var d=this;this.c&&(this.c.cancel(),this.c=null);var g=null,w=ct().then(function(){return yo(Ih(d.a,{requestUri:r,sessionId:s,postBody:h,tenantId:a}),d.uid)}).then(function(E){return g=su(d,E,"reauthenticate"),tr(d,E),d.f=null,d.reload()}).then(function(){return g});return pe(this,w,!0)},t.tb=function(r){var s=this,a=null;return pe(this,this.I().then(function(h){return a=h,typeof r>"u"||un(r)?{}:xa(new ka(r))}).then(function(h){return s.a.tb(a,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},t.Db=function(r,s){var a=this,h=null;return pe(this,this.I().then(function(d){return h=d,typeof s>"u"||un(s)?{}:xa(new ka(s))}).then(function(d){return a.a.Db(h,r,d)}).then(function(d){if(a.email!=d)return a.reload()}).then(function(){}))};function pe(r,s,a){var h=UN(r,s,a);return r.G.push(h),h.na(function(){N(r.G,h)}),h.s(function(d){var g=null;throw d&&d.code==="auth/multi-factor-auth-required"&&(g=Fw(d.w(),rp(r),U(r.ic,r))),g||d})}t.ic=function(r){var s=null,a=this;return r=yo(ct(r),a.uid).then(function(h){return s=su(a,h,"reauthenticate"),tr(a,h),a.f=null,a.reload()}).then(function(){return s}),pe(this,r,!0)};function UN(r,s,a){return r.f&&!a?(s.cancel(),$t(r.f)):s.s(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.f||r.dispatchEvent(new Ao("userInvalidated")),r.f=h),h})}t.toJSON=function(){return this.w()},t.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Ht(r,this.metadata.w()),P(this.providerData,function(s){r.providerData.push(lA(s))}),Ht(r,this.N.w()),r};function Qw(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},a={};if(r.stsTokenManager&&r.stsTokenManager.accessToken)a[Ln]=r.stsTokenManager.accessToken,a.refreshToken=r.stsTokenManager.refreshToken||null;else return null;var h=new fn(s,a,r);return r.providerData&&P(r.providerData,function(d){d&&ap(h,Lr(d))}),r.redirectEventId&&(h.ga=r.redirectEventId),h}function FN(r,s,a,h){var d=new fn(r,s);return a&&(d.ha=a),h&&iu(d,h),d.reload().then(function(){return d})}function qN(r,s,a,h){var d=r.b,g={};return g[Ln]=d.b&&d.b.toString(),g.refreshToken=d.a,s=new fn(s||{apiKey:r.l,authDomain:r.o,appName:r.m},g),a&&(s.ha=a),h&&iu(s,h),ic(s,r),s}function BN(r){this.a=r,this.b=ru()}var lp={name:"redirectUser",D:"session"};function Zw(r){return To(r.b,lp,r.a)}function GN(r,s){return r.b.get(lp,r.a).then(function(a){return a&&s&&(a.authDomain=s),Qw(a||{})})}function fp(r){this.a=r,this.b=ru(),this.c=null,this.f=HN(this),this.b.addListener(er("local"),this.a,U(this.g,this))}fp.prototype.g=function(){var r=this,s=er("local");So(this,function(){return ct().then(function(){return r.c&&r.c.D!="local"?r.b.get(s,r.a):null}).then(function(a){if(a)return hp(r,"local").then(function(){r.c=s})})})};function hp(r,s){var a=[],h;for(h in Eo)Eo[h]!==s&&a.push(To(r.b,er(Eo[h]),r.a));return a.push(To(r.b,pp,r.a)),CT(a)}function HN(r){var s=er("local"),a=er("session"),h=er("none");return oN(r.b,s,r.a).then(function(){return r.b.get(a,r.a)}).then(function(d){return d?a:r.b.get(h,r.a).then(function(g){return g?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(pp,r.a).then(function(E){return E?er(E):s})})})}).then(function(d){return r.c=d,hp(r,d.D)}).s(function(){r.c||(r.c=s)})}var pp={name:"persistence",D:"session"};function er(r){return{name:"authUser",D:r}}fp.prototype.wb=function(r){var s=null,a=this;return iN(r),So(this,function(){return r!=a.c.D?a.b.get(a.c,a.a).then(function(h){return s=h,hp(a,r)}).then(function(){if(a.c=er(r),s)return a.b.set(a.c,s,a.a)}):ct()})};function zN(r){return So(r,function(){return r.b.set(pp,r.c.D,r.a)})}function t0(r,s){return So(r,function(){return r.b.set(r.c,s.w(),r.a)})}function e0(r){return So(r,function(){return To(r.b,r.c,r.a)})}function n0(r,s,a){return So(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&a&&(h.emulatorConfig=a),Qw(h||{})})})}function So(r,s){return r.f=r.f.then(s,s),r.f}function Mn(r){if(this.m=!1,rt(this,"settings",new jw),rt(this,"app",r),qt(this).options&&qt(this).options.apiKey)r=vt.SDK_VERSION?po(vt.SDK_VERSION):null,this.a=new Rn(qt(this).options&&qt(this).options.apiKey,qe(Je),r);else throw new S("invalid-api-key");this.R=[],this.u=[],this.P=[],this.ac=vt.INTERNAL.createSubscribe(U(this.yc,this)),this.X=void 0,this.bc=vt.INTERNAL.createSubscribe(U(this.zc,this)),No(this,null),this.l=new fp(qt(this).options.apiKey+":"+qt(this).name),this.G=new BN(qt(this).options.apiKey+":"+qt(this).name),this.$=ne(this,JN(this)),this.i=ne(this,QN(this)),this.ba=!1,this.pa=U(this.Yc,this),this.Ba=U(this.da,this),this.ya=U(this.kc,this),this.za=U(this.vc,this),this.Aa=U(this.wc,this),this.b=null,$N(this),this.INTERNAL={},this.INTERNAL.delete=U(this.delete,this),this.INTERNAL.logFramework=U(this.Fc,this),this.A=0,Be.call(this),WN(this),this.N=[],this.f=null}tt(Mn,Be);function r0(r){Ze.call(this,"languageCodeChanged"),this.h=r}tt(r0,Ze);function i0(r){Ze.call(this,"emulatorConfigChanged"),this.c=r}tt(i0,Ze);function o0(r){Ze.call(this,"frameworkChanged"),this.f=r}tt(o0,Ze),t=Mn.prototype,t.wb=function(r){return r=this.l.wb(r),ne(this,r)},t.wa=function(r){this.aa===r||this.m||(this.aa=r,Vy(this.a,this.aa),this.dispatchEvent(new r0(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var r=f.navigator;this.wa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},t.fd=function(r){if(!this.f){if(!/^https?:\/\//.test(r))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");KN(),this.f={url:r},this.settings.hb=!0,bo(this.a,this.f),this.dispatchEvent(new i0(this.f))}};function KN(){Gg("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&Aa().then(function(){var r=f.document.createElement("div");r.innerText="Running in emulator mode. Do not use with production credentials.",r.style.position="fixed",r.style.width="100%",r.style.backgroundColor="#ffffff",r.style.border=".1em solid #000000",r.style.color="#ff0000",r.style.bottom="0px",r.style.left="0px",r.style.margin="0px",r.style.zIndex=1e4,r.style.textAlign="center",r.classList.add("firebase-emulator-warning"),f.document.body.appendChild(r)})}t.Fc=function(r){this.N.push(r),Uy(this.a,vt.SDK_VERSION?po(vt.SDK_VERSION,this.N):null),this.dispatchEvent(new o0(this.N))},t.Ga=function(){return M(this.N)},t.xb=function(r){this.W===r||this.m||(this.W=r,this.a.b=this.W)},t.S=function(){return this.W};function WN(r){Object.defineProperty(r,"lc",{get:function(){return this.ka()},set:function(s){this.wa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.S()},set:function(s){this.xb(s)},enumerable:!1}),r.W=null}t.toJSON=function(){return{apiKey:qt(this).options.apiKey,authDomain:qt(this).options.authDomain,appName:qt(this).name,currentUser:It(this)&&It(this).w()}};function dp(r){return r.gb||$t(new S("auth-domain-config-required"))}function $N(r){var s=qt(r).options.authDomain,a=qt(r).options.apiKey;s&&yi()&&(r.gb=r.$.then(function(){if(!r.m){if(r.b=Cw(s,a,qt(r).name,r.f),qh(r.b,r),It(r)&&ou(It(r)),r.o){ou(r.o);var h=r.o;h.wa(r.ka()),tp(h,r),h=r.o,iu(h,r.N),np(h,r),h=r.o,bo(h.a,r.f),ep(h,r),r.o=null}return r.b}}))}t.Eb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==s&&!!this.g;default:return!1}},t.ma=function(r,s,a,h){r=="signInViaPopup"&&this.h==h&&(a&&this.O?this.O(a):s&&!a&&this.g&&this.g(s),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.h==s&&this.g?U(this.hc,this):null},t.hc=function(r,s,a,h){var d=this,g={requestUri:r,postBody:h,sessionId:s,tenantId:a};return this.c&&(this.c.cancel(),this.c=null),d.$.then(function(){return Oi(d,wh(d.a,g))})},t.Wc=function(r){if(!yi())return $t(new S("operation-not-supported-in-this-environment"));var s=this,a=Kf(r.providerId),h=wi(),d=null;(!Ms()||xf())&&qt(this).options.authDomain&&r.isOAuthProvider&&(d=Zs(qt(this).options.authDomain,qt(this).options.apiKey,qt(this).name,"signInViaPopup",r,null,h,vt.SDK_VERSION||null,null,null,this.S(),this.f));var g=Mg(d,a&&a.ua,a&&a.ta);return a=dp(this).then(function(w){return xw(w,g,"signInViaPopup",r,h,!!d,s.S())}).then(function(){return new Tt(function(w,E){s.ma("signInViaPopup",null,new S("cancelled-popup-request"),s.h),s.g=w,s.O=E,s.h=h,s.c=Pw(s.b,s,"signInViaPopup",g,h)})}).then(function(w){return g&&gi(g),w?Lr(w):null}).s(function(w){throw g&&gi(g),w}),ne(this,a)},t.Xc=function(r){if(!yi())return $t(new S("operation-not-supported-in-this-environment"));var s=this,a=dp(this).then(function(){return zN(s.l)}).then(function(){return Ow(s.b,"signInViaRedirect",r,void 0,s.S())});return ne(this,a)};function s0(r){if(!yi())return $t(new S("operation-not-supported-in-this-environment"));var s=dp(r).then(function(){return r.b.qa()}).then(function(a){return a?Lr(a):null});return ne(r,s)}t.qa=function(){var r=this;return s0(this).then(function(s){return r.b&&ec(r.b.b),s}).s(function(s){throw r.b&&ec(r.b.b),s})},t.cd=function(r){if(!r)return $t(new S("null-user"));if(this.W!=r.tenantId)return $t(new S("tenant-id-mismatch"));var s=this,a={};a.apiKey=qt(this).options.apiKey,a.authDomain=qt(this).options.authDomain,a.appName=qt(this).name;var h=qN(r,a,s.G,s.Ga());return ne(this,this.i.then(function(){if(qt(s).options.apiKey!=r.l)return h.reload()}).then(function(){return It(s)&&r.uid==It(s).uid?(ic(It(s),r),s.da(r)):(No(s,h),ou(h),s.da(h))}).then(function(){uu(s)}))};function XN(r,s){var a={};return a.apiKey=qt(r).options.apiKey,a.authDomain=qt(r).options.authDomain,a.appName=qt(r).name,r.f&&(a.emulatorConfig=r.f),r.$.then(function(){return FN(a,s,r.G,r.Ga())}).then(function(h){return It(r)&&h.uid==It(r).uid?(ic(It(r),h),r.da(h)):(No(r,h),ou(h),r.da(h))}).then(function(){uu(r)})}function No(r,s){It(r)&&(MN(It(r),r.Ba),an(It(r),"tokenChanged",r.ya),an(It(r),"userDeleted",r.za),an(It(r),"userInvalidated",r.Aa),ip(It(r))),s&&(s.R.push(r.Ba),bn(s,"tokenChanged",r.ya),bn(s,"userDeleted",r.za),bn(s,"userInvalidated",r.Aa),0<r.A&&Hw(s)),rt(r,"currentUser",s),s&&(s.wa(r.ka()),tp(s,r),iu(s,r.N),np(s,r),bo(s.a,r.f),ep(s,r))}t.zb=function(){var r=this,s=this.i.then(function(){return r.b&&ec(r.b.b),It(r)?(No(r,null),e0(r.l).then(function(){uu(r)})):ct()});return ne(this,s)};function YN(r){var s=GN(r.G,qt(r).options.authDomain).then(function(a){return(r.o=a)&&(a.ha=r.G),Zw(r.G)});return ne(r,s)}function JN(r){var s=qt(r).options.authDomain,a=YN(r).then(function(){return n0(r.l,s,r.f)}).then(function(h){return h?(h.ha=r.G,r.o&&(r.o.ga||null)==(h.ga||null)?h:h.reload().then(function(){return t0(r.l,h).then(function(){return h})}).s(function(d){return d.code=="auth/network-request-failed"?h:e0(r.l)})):null}).then(function(h){No(r,h||null)});return ne(r,a)}function QN(r){return r.$.then(function(){return s0(r)}).s(function(){}).then(function(){if(!r.m)return r.pa()}).s(function(){}).then(function(){if(!r.m){r.ba=!0;var s=r.l;s.b.addListener(er("local"),s.a,r.pa)}})}t.Yc=function(){var r=this;return n0(this.l,qt(this).options.authDomain).then(function(s){if(!r.m){var a;if(a=It(r)&&s){a=It(r).uid;var h=s.uid;a=a==null||a===""||h===void 0||h===null||h===""?!1:a==h}if(a)return ic(It(r),s),It(r).I();(It(r)||s)&&(No(r,s),s&&(ou(s),s.ha=r.G),r.b&&qh(r.b,r),uu(r))}})},t.da=function(r){return t0(this.l,r)},t.kc=function(){uu(this),this.da(It(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()};function Oi(r,s){var a=null,h=null;return ne(r,s.then(function(d){return a=Qf(d),h=cy(d),XN(r,d)},function(d){var g=null;throw d&&d.code==="auth/multi-factor-auth-required"&&(g=Fw(d.w(),r,U(r.jc,r))),g||d}).then(function(){return Lr({user:It(r),credential:a,additionalUserInfo:h,operationType:"signIn"})}))}t.jc=function(r){var s=this;return this.i.then(function(){return Oi(s,ct(r))})},t.yc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(It(s))})},t.zc=function(r){var s=this;ZN(this,function(){r.next(It(s))})},t.Hc=function(r,s,a){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(It(h)):typeof r.next=="function"&&r.next(It(h))}),this.ac(r,s,a)},t.Gc=function(r,s,a){var h=this;return this.ba&&Promise.resolve().then(function(){h.X=h.getUid(),typeof r=="function"?r(It(h)):typeof r.next=="function"&&r.next(It(h))}),this.bc(r,s,a)},t.mc=function(r){var s=this,a=this.i.then(function(){return It(s)?It(s).I(r).then(function(h){return{accessToken:h}}):null});return ne(this,a)},t.Sc=function(r){var s=this;return this.i.then(function(){return Oi(s,At(s.a,CS,{token:r}))}).then(function(a){var h=a.user;return Vr(h,"isAnonymous",!1),s.da(h),a})},t.Tc=function(r,s){var a=this;return this.i.then(function(){return Oi(a,At(a.a,$y,{email:r,password:s}))})},t.dc=function(r,s){var a=this;return this.i.then(function(){return Oi(a,At(a.a,lS,{email:r,password:s}))})},t.Za=function(r){var s=this;return this.i.then(function(){return Oi(s,r.ja(s.a))})},t.Rc=function(r){return Cf("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(r)},t.yb=function(){var r=this;return this.i.then(function(){var s=It(r);if(s&&s.isAnonymous){var a=Lr({providerId:null,isNewUser:!1});return Lr({user:s,credential:null,additionalUserInfo:a,operationType:"signIn"})}return Oi(r,r.a.yb()).then(function(h){var d=h.user;return Vr(d,"isAnonymous",!0),r.da(d),h})})};function qt(r){return r.app}function It(r){return r.currentUser}t.getUid=function(){return It(this)&&It(this).uid||null};function sc(r){return It(r)&&It(r)._lat||null}function uu(r){if(r.ba){for(var s=0;s<r.u.length;s++)r.u[s]&&r.u[s](sc(r));if(r.X!==r.getUid()&&r.P.length)for(r.X=r.getUid(),s=0;s<r.P.length;s++)r.P[s]&&r.P[s](sc(r))}}t.cc=function(r){this.addAuthTokenListener(r),this.A++,0<this.A&&It(this)&&Hw(It(this))},t.Oc=function(r){var s=this;P(this.u,function(a){a==r&&s.A--}),0>this.A&&(this.A=0),this.A==0&&It(this)&&ip(It(this)),this.removeAuthTokenListener(r)},t.addAuthTokenListener=function(r){var s=this;this.u.push(r),ne(this,this.i.then(function(){s.m||A(s.u,r)&&r(sc(s))}))},t.removeAuthTokenListener=function(r){D(this.u,function(s){return s==r})};function ZN(r,s){r.P.push(s),ne(r,r.i.then(function(){!r.m&&A(r.P,s)&&r.X!==r.getUid()&&(r.X=r.getUid(),s(sc(r)))}))}t.delete=function(){this.m=!0;for(var r=0;r<this.R.length;r++)this.R[r].cancel("app-deleted");return this.R=[],this.l&&(r=this.l,r.b.removeListener(er("local"),r.a,this.pa)),this.b&&(kw(this.b,this),ec(this.b.b)),Promise.resolve()};function ne(r,s){return r.R.push(s),s.na(function(){N(r.R,s)}),s}t.gc=function(r){return ne(this,eS(this.a,r))},t.Ac=function(r){return!!Jf(r)},t.vb=function(r,s){var a=this;return ne(this,ct().then(function(){var h=new ka(s);if(!h.c)throw new S("argument-error",Hf+" must be true when sending sign in link to email");return xa(h)}).then(function(h){return a.a.vb(r,h)}).then(function(){}))},t.hd=function(r){return this.Qa(r).then(function(s){return s.data.email})},t.mb=function(r,s){return ne(this,this.a.mb(r,s).then(function(){}))},t.Qa=function(r){return ne(this,this.a.Qa(r).then(function(s){return new hA(s)}))},t.ib=function(r){return ne(this,this.a.ib(r).then(function(){}))},t.ub=function(r,s){var a=this;return ne(this,ct().then(function(){return typeof s>"u"||un(s)?{}:xa(new ka(s))}).then(function(h){return a.a.ub(r,h)}).then(function(){}))},t.Vc=function(r,s){return ne(this,zh(this,r,s,U(this.Za,this)))},t.Uc=function(r,s){var a=this;return ne(this,ct().then(function(){var h=s||Ls(),d=Iy(r,h);if(h=Jf(h),!h)throw new S("argument-error","Invalid email link!");if(h.tenantId!==a.S())throw new S("tenant-id-mismatch");return a.Za(d)}))};function au(){}au.prototype.render=function(){},au.prototype.reset=function(){},au.prototype.getResponse=function(){},au.prototype.execute=function(){};function ko(){this.a={},this.b=1e12}var vp=null;ko.prototype.render=function(r,s){return this.a[this.b.toString()]=new uc(r,s),this.b++},ko.prototype.reset=function(r){var s=mp(this,r);r=u0(r),s&&r&&(s.delete(),delete this.a[r])},ko.prototype.getResponse=function(r){return(r=mp(this,r))?r.getResponse():null},ko.prototype.execute=function(r){(r=mp(this,r))&&r.execute()};function mp(r,s){return(s=u0(s))&&r.a[s]||null}function u0(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function uc(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=ks(r);var a=this;this.i=function(){a.execute()},this.h?this.execute():bn(this.f,"click",this.i)}uc.prototype.getResponse=function(){return gp(this),this.b},uc.prototype.execute=function(){gp(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=sA();var s=r.c.callback,a=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,a)try{a()}catch{}r.h&&r.execute()},6e4)},500))},uc.prototype.delete=function(){gp(this),this.g=!0,clearTimeout(this.a),this.a=null,an(this.f,"click",this.i)};function gp(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function yp(){}rt(yp,"FACTOR_ID","phone");function wp(){}wp.prototype.g=function(){return vp||(vp=new ko),ct(vp)},wp.prototype.c=function(){};var bp=null;function Ip(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var tk=new Yn(Ns,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ek=new Rr(3e4,6e4);Ip.prototype.g=function(r){var s=this;return new Tt(function(a,h){var d=setTimeout(function(){h(new S("network-request-failed"))},ek.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,C){return E=w(E,C),s.b++,E},clearTimeout(d),a(f.grecaptcha)}else clearTimeout(d),h(new S("internal-error"));delete f[s.a]};var g=tf(tk,{onload:s.a,hl:r||""});ct(hh(g)).s(function(){clearTimeout(d),h(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(d),a(f.grecaptcha)})},Ip.prototype.c=function(){this.b--};var Ep=null;function _p(r,s,a,h,d,g,w){if(rt(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=s,this.g=null,w?(bp||(bp=new wp),w=bp):(Ep||(Ep=new Ip),w=Ep),this.v=w,this.a=a||{theme:"light",type:"image"},this.h=[],this.a[l0])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[nk]==="invisible",!f.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ks(s)||!this.i&&ks(s).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Rn(r,g||null,d||null),this.u=h||function(){return null};var E=this;this.l=[];var C=this.a[a0];this.a[a0]=function(gt){if(f0(E,gt),typeof C=="function")C(gt);else if(typeof C=="string"){var Ut=Xt(C,f);typeof Ut=="function"&&Ut(gt)}};var j=this.a[c0];this.a[c0]=function(){if(f0(E,null),typeof j=="function")j();else if(typeof j=="string"){var gt=Xt(j,f);typeof gt=="function"&&gt()}}}var a0="callback",c0="expired-callback",l0="sitekey",nk="size";function f0(r,s){for(var a=0;a<r.l.length;a++)try{r.l[a](s)}catch{}}function rk(r,s){D(r.l,function(a){return a==s})}function Tp(r,s){return r.h.push(s),s.na(function(){N(r.h,s)}),s}t=_p.prototype,t.Ia=function(){var r=this;return this.f?this.f:this.f=Tp(this,ct().then(function(){if(Sa()&&!Dn())return Aa();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.v.g(r.u())}).then(function(s){return r.g=s,At(r.o,TS,{})}).then(function(s){r.a[l0]=s.recaptchaSiteKey}).s(function(s){throw r.f=null,s}))},t.render=function(){ac(this);var r=this;return Tp(this,this.Ia().then(function(){if(r.c===null){var s=r.m;if(!r.i){var a=ks(s);s=kT("DIV"),a.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},t.verify=function(){ac(this);var r=this;return Tp(this,this.render().then(function(s){return new Tt(function(a){var h=r.g.getResponse(s);if(h)a(h);else{var d=function(g){g&&(rk(r,d),a(g))};r.l.push(d),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){ac(this),this.c!==null&&this.g.reset(this.c)};function ac(r){if(r.A)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){ac(this),this.A=!0,this.v.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=ks(this.m);for(var s;s=r.firstChild;)r.removeChild(s)}};function Ap(r,s,a){var h=!1;try{this.b=a||vt.app()}catch{throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)a=this.b.options.apiKey;else throw new S("invalid-api-key");var d=this,g=null;try{g=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}g=vt.SDK_VERSION?po(vt.SDK_VERSION,g):null,_p.call(this,a,r,s,function(){try{var w=d.b.auth().ka()}catch{w=null}return w},g,qe(Je),h)}tt(Ap,_p);function h0(r,s,a,h){t:{a=Array.prototype.slice.call(a);for(var d=0,g=!1,w=0;w<s.length;w++)if(s[w].optional)g=!0;else{if(g)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");d++}if(g=s.length,a.length<d||g<a.length)h="Expected "+(d==g?d==1?"1 argument":d+" arguments":d+"-"+g+" arguments")+" but got "+a.length+".";else{for(d=0;d<a.length;d++)if(g=s[d].optional&&a[d]===void 0,!s[d].K(a[d])&&!g){if(s=s[d],0>d||d>=p0.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");a=p0[d],h=(h?"":a+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.J+".";break t}h=null}}if(h)throw new S("argument-error",r+" failed: "+h)}var p0="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function et(r,s){return{name:r||"",J:"a valid string",optional:!!s,K:function(a){return typeof a=="string"}}}function Sp(r,s){return{name:r||"",J:"a boolean",optional:!!s,K:function(a){return typeof a=="boolean"}}}function de(r,s){return{name:r||"",J:"a valid object",optional:!!s,K:T}}function xo(r,s){return{name:r||"",J:"a function",optional:!!s,K:function(a){return typeof a=="function"}}}function nr(r,s){return{name:r||"",J:"null",optional:!!s,K:function(a){return a===null}}}function ik(){return{name:"",J:"an HTML element",optional:!1,K:function(r){return!!(r&&r instanceof Element)}}}function ok(){return{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(r){return!!(r&&r instanceof Mn)}}}function sk(){return{name:"app",J:"an instance of Firebase App",optional:!0,K:function(r){return!!(r&&r instanceof vt.app.App)}}}function Ur(r){return{name:r?r+"Credential":"credential",J:r?"a valid "+r+" credential":"a valid credential",optional:!1,K:function(s){if(!s)return!1;var a=!r||s.providerId===r;return!(!s.ja||!a)}}}function d0(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(r){return r?!!r.rb:!1}}}function Oo(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Np(r,s){return T(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function v0(r){return T(r)&&typeof r.uid=="string"}function cc(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function oe(r,s,a,h){return{name:a||"",J:r.J+" or "+s.J,optional:!!h,K:function(d){return r.K(d)||s.K(d)}}}function te(r,s){for(var a in s){var h=s[a].name;r[h]=g0(h,r[a],s[a].j)}}function m0(r,s){for(var a in s){var h=s[a].name;h!==a&&Object.defineProperty(r,h,{get:pt(function(d){return this[d]},a),set:pt(function(d,g,w,E){h0(d,[w],[E],!0),this[g]=E},h,a,s[a].jb),enumerable:!0})}}function se(r,s,a,h){r[s]=g0(s,a,h)}function g0(r,s,a){function h(){var w=Array.prototype.slice.call(arguments);return h0(d,a,w),s.apply(this,w)}if(!a)return s;var d=uk(r),g;for(g in s)h[g]=s[g];for(g in s.prototype)h.prototype[g]=s.prototype[g];return h}function uk(r){return r=r.split("."),r[r.length-1]}te(Mn.prototype,{ib:{name:"applyActionCode",j:[et("code")]},Qa:{name:"checkActionCode",j:[et("code")]},mb:{name:"confirmPasswordReset",j:[et("code"),et("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[et("email"),et("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[et("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[et("emailLink")]},Gc:{name:"onAuthStateChanged",j:[oe(de(),xo(),"nextOrObserver"),xo("opt_error",!0),xo("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[oe(de(),xo(),"nextOrObserver"),xo("opt_error",!0),xo("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[et("email"),oe(de("opt_actionCodeSettings",!0),nr(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[et("email"),de("actionCodeSettings")]},wb:{name:"setPersistence",j:[et("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Ur()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Ur()]},Sc:{name:"signInWithCustomToken",j:[et("token")]},Tc:{name:"signInWithEmailAndPassword",j:[et("email"),et("password")]},Uc:{name:"signInWithEmailLink",j:[et("email"),et("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[et("phoneNumber"),cc()]},Wc:{name:"signInWithPopup",j:[Oo()]},Xc:{name:"signInWithRedirect",j:[Oo()]},cd:{name:"updateCurrentUser",j:[oe(function(r){return{name:"user",J:"an instance of Firebase User",optional:!!r,K:function(s){return!!(s&&s instanceof fn)}}}(),nr(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[et(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[et("url")]},hd:{name:"verifyPasswordResetCode",j:[et("code")]}}),m0(Mn.prototype,{lc:{name:"languageCode",jb:oe(et(),nr(),"languageCode")},ti:{name:"tenantId",jb:oe(et(),nr(),"tenantId")}}),Mn.Persistence=Eo,Mn.Persistence.LOCAL="local",Mn.Persistence.SESSION="session",Mn.Persistence.NONE="none",te(fn.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Sp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Sp("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Ur()]},pb:{name:"linkWithCredential",j:[Ur()]},Cc:{name:"linkWithPhoneNumber",j:[et("phoneNumber"),cc()]},Dc:{name:"linkWithPopup",j:[Oo()]},Ec:{name:"linkWithRedirect",j:[Oo()]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ur()]},sb:{name:"reauthenticateWithCredential",j:[Ur()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[et("phoneNumber"),cc()]},Mc:{name:"reauthenticateWithPopup",j:[Oo()]},Nc:{name:"reauthenticateWithRedirect",j:[Oo()]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[oe(de("opt_actionCodeSettings",!0),nr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[et(null,!0)]},bd:{name:"unlink",j:[et("provider")]},Ab:{name:"updateEmail",j:[et("email")]},Bb:{name:"updatePassword",j:[et("password")]},dd:{name:"updatePhoneNumber",j:[Ur("phone")]},Cb:{name:"updateProfile",j:[de("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[et("email"),oe(de("opt_actionCodeSettings",!0),nr(null,!0),"opt_actionCodeSettings",!0)]}}),te(ko.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),te(au.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),te(Tt.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),m0(jw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Sp("appVerificationDisabledForTesting")}}),te(Hh.prototype,{confirm:{name:"confirm",j:[et("verificationCode")]}}),se(go,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,a=[OA,PA,DA,xA],h=0;h<a.length;h++)if(s=a[h](r))return s;return null},[oe(et(),de(),"json")]),se(En,"credential",function(r,s){return new Mr(r,s)},[et("email"),et("password")]),te(Mr.prototype,{w:{name:"toJSON",j:[et(null,!0)]}}),te(Ei.prototype,{Ca:{name:"addScope",j:[et("scope")]},Ka:{name:"setCustomParameters",j:[de("customOAuthParameters")]}}),se(Ei,"credential",gy,[oe(et(),de(),"token")]),se(En,"credentialWithLink",Iy,[et("email"),et("emailLink")]),te(_i.prototype,{Ca:{name:"addScope",j:[et("scope")]},Ka:{name:"setCustomParameters",j:[de("customOAuthParameters")]}}),se(_i,"credential",yy,[oe(et(),de(),"token")]),te(Ti.prototype,{Ca:{name:"addScope",j:[et("scope")]},Ka:{name:"setCustomParameters",j:[de("customOAuthParameters")]}}),se(Ti,"credential",wy,[oe(et(),oe(de(),nr()),"idToken"),oe(et(),nr(),"accessToken",!0)]),te(wo.prototype,{Ka:{name:"setCustomParameters",j:[de("customOAuthParameters")]}}),se(wo,"credential",by,[oe(et(),de(),"token"),et("secret",!0)]),te(ln.prototype,{Ca:{name:"addScope",j:[et("scope")]},credential:{name:"credential",j:[oe(et(),oe(de(),nr()),"optionsOrIdToken"),oe(et(),nr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[de("customOAuthParameters")]}}),te(mr.prototype,{w:{name:"toJSON",j:[et(null,!0)]}}),te(bi.prototype,{w:{name:"toJSON",j:[et(null,!0)]}}),se(gr,"credential",Ey,[et("verificationId"),et("verificationCode")]),te(gr.prototype,{eb:{name:"verifyPhoneNumber",j:[oe(et(),function(r,s){return{name:r||"phoneInfoOptions",J:"valid phone info options",optional:!!s,K:function(a){return a?a.session&&a.phoneNumber?Np(a.session,Bs)&&typeof a.phoneNumber=="string":a.session&&a.multiFactorHint?Np(a.session,Ra)&&v0(a.multiFactorHint):a.session&&a.multiFactorUid?Np(a.session,Ra)&&typeof a.multiFactorUid=="string":a.phoneNumber?typeof a.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),cc()]}}),te(jr.prototype,{w:{name:"toJSON",j:[et(null,!0)]}}),te(S.prototype,{toJSON:{name:"toJSON",j:[et(null,!0)]}}),te(Hs.prototype,{toJSON:{name:"toJSON",j:[et(null,!0)]}}),te(eh.prototype,{toJSON:{name:"toJSON",j:[et(null,!0)]}}),te(Wh.prototype,{toJSON:{name:"toJSON",j:[et(null,!0)]}}),te(Kh.prototype,{Qc:{name:"resolveSignIn",j:[d0()]}}),te(Xh.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[d0(),et("displayName",!0)]},ad:{name:"unenroll",j:[oe({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:v0},et(),"multiFactorInfoIdentifier")]}}),te(Ap.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),se(Gf,"parseLink",Zg,[et("link")]),se(yp,"assertion",function(r){return new Bw(r)},[Ur("phone")]),function(){if(typeof vt<"u"&&vt.INTERNAL&&vt.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Na,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Bf,VERIFY_AND_CHANGE_EMAIL:Fs,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Mn,AuthCredential:go,Error:S};se(r,"EmailAuthProvider",En,[]),se(r,"FacebookAuthProvider",Ei,[]),se(r,"GithubAuthProvider",_i,[]),se(r,"GoogleAuthProvider",Ti,[]),se(r,"TwitterAuthProvider",wo,[]),se(r,"OAuthProvider",ln,[et("providerId")]),se(r,"SAMLAuthProvider",my,[et("providerId")]),se(r,"PhoneAuthProvider",gr,[ok()]),se(r,"RecaptchaVerifier",Ap,[oe(et(),ik(),"recaptchaContainer"),de("recaptchaParameters",!0),sk()]),se(r,"ActionCodeURL",Gf,[]),se(r,"PhoneMultiFactorGenerator",yp,[]),vt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new Mn(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC"}),vt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:U(s.getUid,s),getToken:U(s.mc,s),addAuthTokenListener:U(s.cc,s),removeAuthTokenListener:U(s.Oc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),vt.registerVersion("@firebase/auth","0.15.1"),vt.INTERNAL.extendNamespace({User:fn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});const cM={apiKey:"AIzaSyD17FxGPjE4ONHyA-ZIRyJCtEvFsCvShDk",authDomain:"vueapp-3aa5a.firebaseapp.com",projectId:"vueapp-3aa5a",storageBucket:"vueapp-3aa5a.appspot.com",messagingSenderId:"422399122532",appId:"1:422399122532:web:f86ef9f96f91f67f3c9371"};vt.initializeApp(cM);const li=vt.auth(),hT=vt.firestore(),lM=vt.firestore.FieldValue.serverTimestamp,Rc=Le(null),fM=async(t,e,n)=>{Rc.value=null;try{const i=await li.createUserWithEmailAndPassword(t,e);if(!i)throw new Error("Could not complete the sign up");return await i.user.updateProfile({displayName:n}),Rc.value=null,i}catch(i){console.log(i.message),Rc.value=i.message}},hM=()=>({signUp:fM,error:Rc}),pM={class:"max-w-md py-10 mx-auto text-left"},dM=ft("h1",{class:"py-4 text-3xl font-bold text-center"},"Sign Up",-1),vM={class:"p-6 bg-white border border-slate-200 shadow rounded-2xl dark:bg-slate-800 dark:border-slate-700"},mM={key:0,class:"p-4 mb-4 text-sm text-red-800 rounded-xl bg-red-50 dark:bg-slate-800 dark:text-red-400",role:"alert"},gM=ft("span",{class:"font-medium"},"Oops!",-1),yM=["onSubmit"],wM={class:"mb-6"},bM=ft("label",{for:"displayName",class:"block mb-2 text-sm font-medium text-slate-900 dark:text-white"},"Display Name",-1),IM={class:"mb-6"},EM=ft("label",{for:"email",class:"block mb-2 text-sm font-medium text-slate-900 dark:text-white"},"Email",-1),_M={class:"mb-6"},TM=ft("label",{for:"password",class:"block mb-2 text-sm font-medium text-slate-900 dark:text-white"},"Password",-1),AM=ft("button",{type:"submit",class:"text-white bg-primary hover:bg-primary-dark focus:ring-4 focus:outline-none focus:ring-primary-light font-medium rounded-xl text-sm w-full px-5 py-2.5 text-center"}," Sign Up ",-1),SM={class:"py-5"},NM={__name:"FormSignUp",emits:["show","signup"],setup(t,{emit:e}){const{signUp:n,error:i}=hM(),o=Le(""),u=Le(""),c=Le(""),l=async()=>{await n(u.value,c.value,o.value),i.value||e("signup")};return(f,p)=>(Me(),Xe("div",pM,[dM,ft("div",vM,[$e(i)?(Me(),Xe("div",mM,[gM,Hi(" "+Yr($e(i)),1)])):Ju("",!0),ft("form",{onSubmit:Eu(l,["prevent"])},[ft("div",wM,[bM,$o(ft("input",{type:"text",id:"displayName","onUpdate:modelValue":p[0]||(p[0]=v=>o.value=v),class:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-xl focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-slate-700 dark:border-slate-600 dark:placeholder-slate-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary",required:""},null,512),[[Xo,o.value]])]),ft("div",IM,[EM,$o(ft("input",{type:"email",id:"email","onUpdate:modelValue":p[1]||(p[1]=v=>u.value=v),class:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-xl focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-slate-700 dark:border-slate-600 dark:placeholder-slate-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary",required:""},null,512),[[Xo,u.value]])]),ft("div",_M,[TM,$o(ft("input",{type:"password",id:"password","onUpdate:modelValue":p[2]||(p[2]=v=>c.value=v),class:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-xl focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-slate-700 dark:border-slate-600 dark:placeholder-slate-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary",required:""},null,512),[[Xo,c.value]])]),AM,ft("div",SM,[Hi("Have an account? "),ft("span",{class:"font-semibold cursor-pointer hover:border-b border-slate-700",onClick:p[3]||(p[3]=v=>e("show"))},"Sign In")])],40,yM)])]))}},Jd=Le(null),kM=async(t,e)=>{Jd.value=null;try{const n=await li.signInWithEmailAndPassword(t,e);if(!n)throw new Error("");return n}catch(n){console.log(n.message),Jd.value="Incorrect login credentials."}},xM=()=>({signIn:kM,error:Jd}),OM={class:"max-w-md py-10 mx-auto text-left"},PM=ft("h1",{class:"py-4 text-3xl font-bold text-center"},"Sign In",-1),DM={class:"p-6 bg-white border border-slate-200 shadow rounded-2xl dark:bg-slate-800 dark:border-slate-700"},CM={key:0,class:"p-4 mb-4 text-sm text-red-800 rounded-xl bg-red-50 dark:bg-slate-800 dark:text-red-400",role:"alert"},RM=ft("span",{class:"font-medium"},"Oops!",-1),LM=["onSubmit"],MM={class:"mb-6"},jM=ft("label",{for:"email",class:"block mb-2 text-sm font-medium text-slate-900 dark:text-white"},"Email",-1),VM={class:"mb-6"},UM=ft("label",{for:"password",class:"block mb-2 text-sm font-medium text-slate-900 dark:text-white"},"Password",-1),FM=ft("button",{type:"submit",class:"text-white bg-primary hover:bg-primary-dark focus:ring-4 focus:outline-none focus:ring-primary-light font-medium rounded-xl text-sm w-full px-5 py-2.5 text-center"}," Sign In ",-1),qM={class:"py-5"},BM={__name:"FormSignIn",emits:["show","signin"],setup(t,{emit:e}){const{signIn:n,error:i}=xM(),o=Le(""),u=Le(""),c=async()=>{await n(o.value,u.value),i.value||e("signin")};return(l,f)=>(Me(),Xe("div",OM,[PM,ft("div",DM,[$e(i)?(Me(),Xe("div",CM,[RM,Hi(" "+Yr($e(i)),1)])):Ju("",!0),ft("form",{onSubmit:Eu(c,["prevent"])},[ft("div",MM,[jM,$o(ft("input",{type:"email",id:"email","onUpdate:modelValue":f[0]||(f[0]=p=>o.value=p),class:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-xl focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-slate-700 dark:border-slate-600 dark:placeholder-slate-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary",required:""},null,512),[[Xo,o.value]])]),ft("div",VM,[UM,$o(ft("input",{type:"password",id:"password","onUpdate:modelValue":f[1]||(f[1]=p=>u.value=p),class:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-xl focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary block w-full p-2.5 dark:bg-slate-700 dark:border-slate-600 dark:placeholder-slate-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary",required:""},null,512),[[Xo,u.value]])]),FM,ft("div",qM,[Hi("Have an account? "),ft("span",{class:"font-semibold cursor-pointer hover:border-b border-slate-700",onClick:f[2]||(f[2]=p=>e("show"))},"Sign Up")])],40,LM)])]))}},GM={key:0},HM={key:1},zM={__name:"Home",setup(t){const e=Le(!0),n=Ev(),i=()=>{n.push({name:"ChatRoom"})};return(o,u)=>e.value?(Me(),Xe("div",GM,[ve(BM,{onSignin:i,onShow:u[0]||(u[0]=c=>e.value=!1)})])):(Me(),Xe("div",HM,[ve(NM,{onSignup:i,onShow:u[1]||(u[1]=c=>e.value=!0)})]))}},KM=t=>{const e=Le(null),n=Le(null),o=hT.collection(t).orderBy("createdAt").onSnapshot(u=>{const c=[];u.docs.forEach(l=>{l.data().createdAt&&c.push({...l.data(),id:l.id})}),e.value=c,n.value=null},u=>{console.log(u.message),e.value=null,n.value="Clould not fetch data."});return px(u=>{u(()=>o())}),{documents:e,error:n}};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function Xn(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Re(t){Xn(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Qd(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var WM={};function $M(){return WM}function TI(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Lc(t,e){Xn(2,arguments);var n=Re(t),i=Re(e),o=n.getTime()-i.getTime();return o<0?-1:o>0?1:o}function XM(t,e){Xn(2,arguments);var n=Re(t),i=Re(e),o=n.getFullYear()-i.getFullYear(),u=n.getMonth()-i.getMonth();return o*12+u}function YM(t,e){return Xn(2,arguments),Re(t).getTime()-Re(e).getTime()}var AI={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},JM="trunc";function QM(t){return t?AI[t]:AI[JM]}function ZM(t){Xn(1,arguments);var e=Re(t);return e.setHours(23,59,59,999),e}function tj(t){Xn(1,arguments);var e=Re(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ej(t){Xn(1,arguments);var e=Re(t);return ZM(e).getTime()===tj(e).getTime()}function nj(t,e){Xn(2,arguments);var n=Re(t),i=Re(e),o=Lc(n,i),u=Math.abs(XM(n,i)),c;if(u<1)c=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*u);var l=Lc(n,i)===-o;ej(Re(t))&&u===1&&Lc(t,i)===1&&(l=!1),c=o*(u-Number(l))}return c===0?0:c}function rj(t,e,n){Xn(2,arguments);var i=YM(t,e)/1e3;return QM(n==null?void 0:n.roundingMethod)(i)}var ij={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oj=function(e,n,i){var o,u=ij[e];return typeof u=="string"?o=u:n===1?o=u.one:o=u.other.replace("{{count}}",n.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+o:o+" ago":o};const sj=oj;function rd(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,i=t.formats[n]||t.formats[t.defaultWidth];return i}}var uj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lj={date:rd({formats:uj,defaultWidth:"full"}),time:rd({formats:aj,defaultWidth:"full"}),dateTime:rd({formats:cj,defaultWidth:"full"})};const fj=lj;var hj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pj=function(e,n,i,o){return hj[e]};const dj=pj;function pu(t){return function(e,n){var i=n!=null&&n.context?String(n.context):"standalone",o;if(i==="formatting"&&t.formattingValues){var u=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):u;o=t.formattingValues[c]||t.formattingValues[u]}else{var l=t.defaultWidth,f=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[f]||t.values[l]}var p=t.argumentCallback?t.argumentCallback(e):e;return o[p]}}var vj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ij=function(e,n){var i=Number(e),o=i%100;if(o>20||o<10)switch(o%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},Ej={ordinalNumber:Ij,era:pu({values:vj,defaultWidth:"wide"}),quarter:pu({values:mj,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:pu({values:gj,defaultWidth:"wide"}),day:pu({values:yj,defaultWidth:"wide"}),dayPeriod:pu({values:wj,defaultWidth:"wide",formattingValues:bj,defaultFormattingWidth:"wide"})};const _j=Ej;function du(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.width,o=i&&t.matchPatterns[i]||t.matchPatterns[t.defaultMatchWidth],u=e.match(o);if(!u)return null;var c=u[0],l=i&&t.parsePatterns[i]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(l)?Aj(l,function(m){return m.test(c)}):Tj(l,function(m){return m.test(c)}),p;p=t.valueCallback?t.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;var v=e.slice(c.length);return{value:p,rest:v}}}function Tj(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Aj(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Sj(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.match(t.matchPattern);if(!i)return null;var o=i[0],u=e.match(t.parsePattern);if(!u)return null;var c=t.valueCallback?t.valueCallback(u[0]):u[0];c=n.valueCallback?n.valueCallback(c):c;var l=e.slice(o.length);return{value:c,rest:l}}}var Nj=/^(\d+)(th|st|nd|rd)?/i,kj=/\d+/i,xj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Oj={any:[/^b/i,/^(a|c)/i]},Pj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dj={any:[/1/i,/2/i,/3/i,/4/i]},Cj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Uj={ordinalNumber:Sj({matchPattern:Nj,parsePattern:kj,valueCallback:function(e){return parseInt(e,10)}}),era:du({matchPatterns:xj,defaultMatchWidth:"wide",parsePatterns:Oj,defaultParseWidth:"any"}),quarter:du({matchPatterns:Pj,defaultMatchWidth:"wide",parsePatterns:Dj,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:du({matchPatterns:Cj,defaultMatchWidth:"wide",parsePatterns:Rj,defaultParseWidth:"any"}),day:du({matchPatterns:Lj,defaultMatchWidth:"wide",parsePatterns:Mj,defaultParseWidth:"any"}),dayPeriod:du({matchPatterns:jj,defaultMatchWidth:"any",parsePatterns:Vj,defaultParseWidth:"any"})};const Fj=Uj;var qj={code:"en-US",formatDistance:sj,formatLong:fj,formatRelative:dj,localize:_j,match:Fj,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Bj=qj;function pT(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Gj(t){return pT({},t)}var SI=1440,Hj=2520,id=43200,zj=86400;function Kj(t,e,n){var i,o;Xn(2,arguments);var u=$M(),c=(i=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:u.locale)!==null&&i!==void 0?i:Bj;if(!c.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Lc(t,e);if(isNaN(l))throw new RangeError("Invalid time value");var f=pT(Gj(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:l}),p,v;l>0?(p=Re(e),v=Re(t)):(p=Re(t),v=Re(e));var m=rj(v,p),y=(TI(v)-TI(p))/1e3,b=Math.round((m-y)/60),_;if(b<2)return n!=null&&n.includeSeconds?m<5?c.formatDistance("lessThanXSeconds",5,f):m<10?c.formatDistance("lessThanXSeconds",10,f):m<20?c.formatDistance("lessThanXSeconds",20,f):m<40?c.formatDistance("halfAMinute",0,f):m<60?c.formatDistance("lessThanXMinutes",1,f):c.formatDistance("xMinutes",1,f):b===0?c.formatDistance("lessThanXMinutes",1,f):c.formatDistance("xMinutes",b,f);if(b<45)return c.formatDistance("xMinutes",b,f);if(b<90)return c.formatDistance("aboutXHours",1,f);if(b<SI){var T=Math.round(b/60);return c.formatDistance("aboutXHours",T,f)}else{if(b<Hj)return c.formatDistance("xDays",1,f);if(b<id){var O=Math.round(b/SI);return c.formatDistance("xDays",O,f)}else if(b<zj)return _=Math.round(b/id),c.formatDistance("aboutXMonths",_,f)}if(_=nj(v,p),_<12){var x=Math.round(b/id);return c.formatDistance("xMonths",x,f)}else{var R=_%12,G=Math.floor(_/12);return R<3?c.formatDistance("aboutXYears",G,f):R<9?c.formatDistance("overXYears",G,f):c.formatDistance("almostXYears",G+1,f)}}function Wj(t,e){return Xn(1,arguments),Kj(t,Date.now(),e)}const $j={class:"text-xs text-slate-400"},Xj={class:"mr-1 font-semibold"},Yj={__name:"ChatWindow",setup(t){const{documents:e,error:n}=KM("messages"),i=An(()=>{if(e.value)return e.value.map(u=>{const c=Wj(u.createdAt.toDate());return{...u,createdAt:c}})}),o=Le(null);return cE(()=>{o.value.scrollTop=o.value.scrollHeight}),(u,c)=>i.value?(Me(),Xe("div",{key:0,ref_key:"messages",ref:o,class:"p-6 mb-1 overflow-y-auto max-h-80 bg-slate-50 dark:bg-slate-700"},[(Me(!0),Xe(Un,null,xx(i.value,l=>(Me(),Xe("div",{key:l.id,class:"mb-3"},[ft("div",$j,Yr(l.createdAt),1),ft("span",Xj,Yr(l.name)+":",1),ft("span",null,Yr(l.message),1)]))),128))],512)):Ju("",!0)}},Zd=Le(null),Jj=async()=>{Zd.value=null;try{await li.signOut()}catch(t){console.log(t.message),Zd.value=t.message}},Qj=()=>({signOut:Jj,error:Zd}),dT=Le(li.currentUser);li.onAuthStateChanged(t=>{dT.value=t});const vT=()=>({user:dT}),Zj={key:0,class:"flex flex-wrap p-6 sm:justify-between"},tV={class:"mb-3"},eV={class:"text-slate-500"},nV={__name:"Navbar",setup(t){const{user:e}=vT(),{signOut:n,error:i}=Qj(),o=Ev(),u=async()=>{await n()};return wu(e,()=>{e.value||o.push({name:"Home"})}),(c,l)=>$e(e)?(Me(),Xe("nav",Zj,[ft("div",tV,[ft("p",null,"Hey there "+Yr($e(e).displayName),1),ft("p",eV,"Currently signed in as "+Yr($e(e).email),1)]),ft("div",{class:"w-full sm:w-auto"},[ft("button",{onClick:u,class:"text-white bg-primary w-full sm:w-auto hover:bg-primary-dark focus:ring-4 focus:outline-none focus:ring-primary-light font-medium rounded-xl text-sm px-5 py-2.5 text-center"}," Sign Out ")])])):Ju("",!0)}},rV=t=>{const e=Le(null);return{addDoc:async i=>{e.value-null;try{await hT.collection(t).add(i)}catch(o){console.log(o.message),e.value=o.message}},error:e}},iV={class:"px-6 py-2 mx-auto text-left"},oV={key:0,class:"p-4 mb-4 text-sm text-red-800 rounded-xl bg-red-50 dark:bg-slate-800 dark:text-red-400",role:"alert"},sV=ft("span",{class:"font-medium"},"Oops!",-1),uV=["onSubmit"],aV={class:"w-full"},cV=["onKeydown"],lV={__name:"NewChatForm",setup(t){const{user:e}=vT(),{addDoc:n,error:i}=rV("messages"),o=Le(""),u=async()=>{const c={name:e.value.displayName,message:o.value,createdAt:lM()};await n(c),i.value||(o.value="")};return(c,l)=>(Me(),Xe("div",iV,[$e(i)?(Me(),Xe("div",oV,[sV,Hi(" "+Yr($e(i)),1)])):Ju("",!0),ft("form",{onSubmit:Eu(u,["prevent"])},[ft("div",aV,[$o(ft("textarea",{onKeydown:[X0(Eu(u,["exact","prevent"]),["enter"]),l[0]||(l[0]=X0(Eu(f=>o.value+=`
`,["shift","exact","prevent"]),["enter"]))],id:"message","onUpdate:modelValue":l[1]||(l[1]=f=>o.value=f),placeholder:"Type message here...",class:"text-slate-900 text-sm rounded-xl focus:outline-none block w-full p-2.5 dark:bg-slate-800 dark:border-slate-600 dark:placeholder-slate-400 dark:text-white dark:focus:ring-primary dark:focus:border-primary",required:""},null,40,cV),[[Xo,o.value]])])],40,uV)]))}},fV={class:"max-w-4xl py-10 mx-auto text-left"},hV={class:"bg-white border border-slate-200 shadow-lg rounded-3xl dark:bg-slate-800 dark:border-slate-700"},pV={__name:"ChatRoom",setup(t){return(e,n)=>(Me(),Xe("div",fV,[ft("div",hV,[ve(nV),ve(Yj),ve(lV)])]))}},dV=ft("h1",{class:"my-4 text-6xl font-bold"},"404 Not Found",-1),vV=ft("p",{class:"max-w-xl mx-auto text-base leading-relaxed text-slate-500 dark:text-slate-400 pb-5"},"The destination page is not found. ",-1),mV={__name:"NotFound",setup(t){const e=Ev();function n(){e.push("/")}return(i,o)=>(Me(),Xe(Un,null,[dV,vV,ft("button",{class:"text-white bg-primary hover:bg-primary-dark focus:ring-4 focus:outline-none focus:ring-primary-extra-light font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:focus:ring-primary-light",onClick:n},"Home Page")],64))}},gV=(t,e,n)=>{li.currentUser||n({name:"Home"}),n()},yV=(t,e,n)=>{li.currentUser&&n({name:"ChatRoom"}),n()},wV=[{path:"/",name:"Home",component:zM,beforeEnter:yV},{path:"/chatroom",name:"ChatRoom",component:pV,beforeEnter:gV},{path:"/:catchAll(.*)",name:"NotFound",component:mV}],bV=UP({history:eP(),routes:wV});let NI;li.onAuthStateChanged(()=>{NI||(NI=DO(jO).use(bV).mount("#app"))});
